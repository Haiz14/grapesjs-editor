(function(){const Kn=document.createElement("link").relList;if(Kn&&Kn.supports&&Kn.supports("modulepreload"))return;for(const Lt of document.querySelectorAll('link[rel="modulepreload"]'))ge(Lt);new MutationObserver(Lt=>{for(const te of Lt)if(te.type==="childList")for(const E of te.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&ge(E)}).observe(document,{childList:!0,subtree:!0});function xe(Lt){const te={};return Lt.integrity&&(te.integrity=Lt.integrity),Lt.referrerPolicy&&(te.referrerPolicy=Lt.referrerPolicy),Lt.crossOrigin==="use-credentials"?te.credentials="include":Lt.crossOrigin==="anonymous"?te.credentials="omit":te.credentials="same-origin",te}function ge(Lt){if(Lt.ep)return;Lt.ep=!0;const te=xe(Lt);fetch(Lt.href,te)}})();const sy=`<?xml version="1.0" encoding="utf-8"?>
<!-- License: MIT. Made by halfmage: https://github.com/halfmage/pixelarticons -->
<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M2 3h20v18H2V3zm18 16V7H4v12h16z"/>
</svg>`,ay=`<?xml version="1.0" encoding="utf-8"?>
<!-- License: Apache. Made by Iconscout: https://github.com/Iconscout/unicons -->
<svg fill="#000000" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1"><path d="M21,11H19.81573a2.98208,2.98208,0,0,0-5.63146,0H9.81573a2.98208,2.98208,0,0,0-5.63146,0H3a1,1,0,0,0,0,2H4.18433a2.982,2.982,0,0,0,5.6314,0h4.3686a2.982,2.982,0,0,0,5.6314,0H21a1,1,0,0,0,0-2ZM7,13a1,1,0,1,1,1-1A1.0013,1.0013,0,0,1,7,13Zm10,0a1,1,0,1,1,1-1A1.0013,1.0013,0,0,1,17,13Z"/></svg><?xml version="1.0" encoding="utf-8"?>
`,ly=`<?xml version="1.0" encoding="utf-8"?>
<!-- License: CC Attribution. Made by Jordan Hughes: https://www.figma.com/@designer -->
<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.5 5.49989L16 6.99989M11.5 8.49989L13 9.99989M8.49996 11.4999L9.99996 12.9999M5.49996 14.4999L6.99996 15.9999M2.56561 17.5656L6.43424 21.4342C6.63225 21.6322 6.73125 21.7313 6.84542 21.7683C6.94584 21.801 7.05401 21.801 7.15443 21.7683C7.2686 21.7313 7.3676 21.6322 7.56561 21.4342L21.4342 7.56561C21.6322 7.3676 21.7313 7.2686 21.7683 7.15443C21.801 7.05401 21.801 6.94584 21.7683 6.84542C21.7313 6.73125 21.6322 6.63225 21.4342 6.43424L17.5656 2.56561C17.3676 2.3676 17.2686 2.2686 17.1544 2.2315C17.054 2.19887 16.9458 2.19887 16.8454 2.2315C16.7313 2.2686 16.6322 2.3676 16.4342 2.56561L2.56561 16.4342C2.3676 16.6322 2.2686 16.7313 2.2315 16.8454C2.19887 16.9458 2.19887 17.054 2.2315 17.1544C2.2686 17.2686 2.3676 17.3676 2.56561 17.5656Z" stroke="#00000099" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`,cy=`<?xml version="1.0" encoding="utf-8"?>
<!-- License: MIT. Made by teenyicons: https://github.com/teenyicons/teenyicons -->
<svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 14.5H11M0.5 2.5L0.5 10.5C0.5 11.0523 0.947716 11.5 1.5 11.5L13.5 11.5C14.0523 11.5 14.5 11.0523 14.5 10.5V2.5C14.5 1.94772 14.0523 1.5 13.5 1.5L1.5 1.5C0.947716 1.5 0.5 1.94772 0.5 2.5Z" stroke="#000000"/>
</svg>`,uy={name:"iframe",trait:{isComponent:We=>We.tagName==="IFRAME",model:{defaults:{type:"iframe",traits:["src","title","id"]}}},data:{label:"iframe",type:"iframe",content:"<iframe> </iframe>",attributes:{class:"fa fa-iframe"},selectable:!0,category:"Basic",media:sy,activate:!0}},py={name:"range",trait:{isComponent:We=>We.tagName=="INPUT"&&We.type=="range",model:{defaults:{resizable:!0,draggable:!0,type:"range",traits:["id","name","min","max","step","value"]}}},data:{label:"Range",content:'<input type="range" style="padding: 30px;"/>',activate:!0,media:ay,category:"Extra",resizeable:!0}},fy={name:"meter",trait:{isComponent:We=>We.tagName==="METER",model:{defaults:{type:"meter",traits:["name","value","min","max","low","high","optimum"]}}},data:{label:"meter",type:"meter",content:"<meter></meter>",selectable:!0,category:"Extra",media:ly,activate:!0}},dy={name:"canvas",trait:{isComponent:We=>We.tagName=="CANVAS",model:{defaults:{resizable:!0,draggable:!0,type:"canvas",traits:["id","class"]}}},data:{label:"Canvas",content:"<canvas></canvas>",activate:!0,media:cy,category:"Extra",resizeable:!0}};async function hy(We){xp(uy,We),xp(py,We),xp(fy,We),xp(dy,We)}async function xp(We,Kn){Kn.BlockManager.add(We.name,We.data),Kn.DomComponents.addType(We.name,We.trait)}var Ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ho(We){return We&&We.__esModule&&Object.prototype.hasOwnProperty.call(We,"default")?We.default:We}var ch={exports:{}};/*! grapesjs - 0.21.5 */(function(We,Kn){(function(xe,ge){We.exports=ge()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ur,()=>(()=>{var xe={410:(E,K,Z)=>{var F,V,j;V=[Z(50),Z(316)],(j=typeof(F=function(C,O){var h=Array.prototype.slice;function v(L,P,z){return z.length<=4?L.call(P,z[0],z[1],z[2],z[3]):L.apply(P,z)}function m(L,P){return h.call(L,P)}function g(L,P){return L!=null&&(C.isArray(P)||(P=m(arguments,1)),C.all(P,function(z){return z in L}))}var y=function(){var L=!1,P=-1;function z(){P++,L=!0,C.defer(function(){L=!1})}return function(){return L||z(),P}}();function S(){this.registeredObjects=[],this.cidIndexes=[]}function w(L,P,z,tt){for(var q,rt=0,H=P.length;rt<H;rt++)if(q=P[rt]){if(L==="on"){if(!tt.objectRegistry.register(q))continue}else if(!tt.objectRegistry.unregister(q))continue;C.isFunction(q[L])&&q[L]("all",z,tt)}}function T(L,P){var z=P.type,tt=P.undoTypes,q=!tt[z]||tt[z][L];C.isFunction(q)&&q(P.object,P.before,P.after,P.options)}function k(L,P,z,tt,q){if(!(z.isCurrentlyUndoRedoing||L==="undo"&&z.pointer===-1||L==="redo"&&z.pointer===z.length-1)){z.isCurrentlyUndoRedoing=!0;var rt,H,Y=L==="undo";for(q?H=Y&&z.pointer===z.length-1||!Y&&z.pointer===-1?C.clone(z.models):h.apply(z.models,Y?[0,z.pointer]:[z.pointer,z.length-1]):(rt=z.at(Y?z.pointer:z.pointer+1),H=tt?z.where({magicFusionIndex:rt.get("magicFusionIndex")}):[rt]),z.pointer+=(Y?-1:1)*H.length;rt=Y?H.pop():H.shift();)rt[L]();z.isCurrentlyUndoRedoing=!1,P.trigger(L,P)}}function M(L,P){var z=L.condition,tt=typeof z;return tt==="function"?!!v(z,L,P):tt!=="boolean"||z}function D(L,P,z,tt){if(L.track&&!L.isCurrentlyUndoRedoing&&P in tt&&M(tt[P],z)){var q=v(tt[P].on,tt[P],z);if(g(q,"object","before","after")){if(q.type=P,q.magicFusionIndex=y(),q.undoTypes=tt,L.pointer<L.length-1)for(var rt=L.length-L.pointer-1;rt--;)L.pop();L.pointer=L.length,L.add(q),L.length>L.maximumStackLength&&(L.shift(),L.pointer--)}}}S.prototype={isRegistered:function(L){return L&&L.cid?this.registeredObjects[L.cid]:C.contains(this.registeredObjects,L)},register:function(L){return!this.isRegistered(L)&&(L&&L.cid?(this.registeredObjects[L.cid]=L,this.cidIndexes.push(L.cid)):this.registeredObjects.push(L),!0)},unregister:function(L){if(this.isRegistered(L)){if(L&&L.cid)delete this.registeredObjects[L.cid],this.cidIndexes.splice(C.indexOf(this.cidIndexes,L.cid),1);else{var P=C.indexOf(this.registeredObjects,L);this.registeredObjects.splice(P,1)}return!0}return!1},get:function(){return C.map(this.cidIndexes,function(L){return this.registeredObjects[L]},this).concat(this.registeredObjects)}};var R={add:{undo:function(L,P,z,tt){L.remove(z,tt)},redo:function(L,P,z,tt){tt.index&&(tt.at=tt.index),L.add(z,tt)},on:function(L,P,z){return{object:P,before:void 0,after:L,options:C.clone(z)}}},remove:{undo:function(L,P,z,tt){"index"in tt&&(tt.at=tt.index),L.add(P,tt)},redo:function(L,P,z,tt){L.remove(P,tt)},on:function(L,P,z){return{object:P,before:L,after:void 0,options:C.clone(z)}}},change:{undo:function(L,P,z,tt){C.isEmpty(P)?C.each(C.keys(z),L.unset,L):(L.set(P),tt&&tt.unsetData&&tt.unsetData.before&&tt.unsetData.before.length&&C.each(tt.unsetData.before,L.unset,L))},redo:function(L,P,z,tt){C.isEmpty(z)?C.each(C.keys(P),L.unset,L):(L.set(z),tt&&tt.unsetData&&tt.unsetData.after&&tt.unsetData.after.length&&C.each(tt.unsetData.after,L.unset,L))},on:function(L,P){var z=L.changedAttributes(),tt=C.keys(z),q=C.pick(L.previousAttributes(),tt),rt=C.keys(q),H=(P||(P={})).unsetData={after:[],before:[]};return tt.length!=rt.length&&(tt.length>rt.length?C.each(tt,function(Y){Y in q||H.before.push(Y)},this):C.each(rt,function(Y){Y in z||H.after.push(Y)})),{object:L,before:q,after:z,options:C.clone(P)}}},reset:{undo:function(L,P,z){L.reset(P)},redo:function(L,P,z){L.reset(z)},on:function(L,P){return{object:L,before:P.previousModels,after:C.clone(L.models)}}}};function N(){}function W(L,P,z,tt){if(typeof P=="object")return C.each(P,function(q,rt){L===2?W(L,q,z,tt):W(L,rt,q,z)});switch(L){case 0:g(z,"undo","redo","on")&&C.all(C.pick(z,"undo","redo","on"),C.isFunction)&&(tt[P]=z);break;case 1:tt[P]&&C.isObject(z)&&(tt[P]=C.extend({},tt[P],z));break;case 2:delete tt[P]}return this}N.prototype=R;var $=O.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(L){T("undo",this.attributes)},redo:function(L){T("redo",this.attributes)}}),J=O.Collection.extend({model:$,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(L){this.maximumStackLength=L}}),U=O.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(L){this.stack=new J,this.objectRegistry=new S,this.undoTypes=new N,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(P,z){this.stack.setMaxLength(z)},this),L&&L.track&&this.startTracking(),L&&L.register&&(C.isArray(L.register)||C.isArguments(L.register)?v(this.register,this,L.register):this.register(L.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(L){D(this.stack,L,m(arguments,1),this.undoTypes)},register:function(){w("on",arguments,this._addToStack,this)},unregister:function(){w("off",arguments,this._addToStack,this)},unregisterAll:function(){v(this.unregister,this,this.objectRegistry.get())},undo:function(L){k("undo",this,this.stack,L)},undoAll:function(){k("undo",this,this.stack,!1,!0)},redo:function(L){k("redo",this,this.stack,L)},redoAll:function(){k("redo",this,this.stack,!1,!0)},isAvailable:function(L){var P=this.stack,z=P.length;switch(L){case"undo":return z>0&&P.pointer>-1;case"redo":return z>0&&P.pointer<z-1;default:return!1}},merge:function(L){for(var P,z=C.isArray(L)?L:m(arguments);P=z.pop();)P instanceof U&&P.stack instanceof J&&(P.stack=this.stack)},addUndoType:function(L,P){W(0,L,P,this.undoTypes)},changeUndoType:function(L,P){W(1,L,P,this.undoTypes)},removeUndoType:function(L){W(2,L,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return C.extend(U,{defaults:function(L){C.extend(U.prototype.defaults,L)},addUndoType:function(L,P){W(0,L,P,R)},changeUndoType:function(L,P){W(1,L,P,R)},removeUndoType:function(L){W(2,L,void 0,R)}}),O.UndoManager=U})=="function"?F.apply(K,V):F)===void 0||(E.exports=j)},316:(E,K,Z)=>{var F,V;(function(j){var C=typeof self=="object"&&self.self===self&&self||typeof Z.g=="object"&&Z.g.global===Z.g&&Z.g;F=[Z(50),Z(895),K],V=(function(O,h,v){C.Backbone=function(m,g,y,S){var w=m.Backbone,T=Array.prototype.slice;g.VERSION="1.4.1",g.$=S,g.noConflict=function(){return m.Backbone=w,this},g.emulateHTTP=!1,g.emulateJSON=!1;var k,M=g.Events={},D=/\s+/,R=function(A,ot,ft,xt,It){var Ut,pe=0;if(ft&&typeof ft=="object")for(xt!==void 0&&("context"in It)&&It.context===void 0&&(It.context=xt),Ut=y.keys(ft);pe<Ut.length;pe++)ot=R(A,ot,Ut[pe],ft[Ut[pe]],It);else if(ft&&D.test(ft))for(Ut=ft.split(D);pe<Ut.length;pe++)ot=A(ot,Ut[pe],xt,It);else ot=A(ot,ft,xt,It);return ot};M.on=function(A,ot,ft){return this._events=R(N,this._events||{},A,ot,{context:ft,ctx:this,listening:k}),k&&((this._listeners||(this._listeners={}))[k.id]=k,k.interop=!1),this},M.listenTo=function(A,ot,ft){if(!A)return this;var xt=A._listenId||(A._listenId=y.uniqueId("l")),It=this._listeningTo||(this._listeningTo={}),Ut=k=It[xt];Ut||(this._listenId||(this._listenId=y.uniqueId("l")),Ut=k=It[xt]=new P(this,A));var pe=W(A,ot,ft,this);if(k=void 0,pe)throw pe;return Ut.interop&&Ut.on(ot,ft),this};var N=function(A,ot,ft,xt){if(ft){var It=A[ot]||(A[ot]=[]),Ut=xt.context,pe=xt.ctx,De=xt.listening;De&&De.count++,It.push({callback:ft,context:Ut,ctx:Ut||pe,listening:De})}return A},W=function(A,ot,ft,xt){try{A.on(ot,ft,xt)}catch(It){return It}};M.off=function(A,ot,ft){return this._events?(this._events=R($,this._events,A,ot,{context:ft,listeners:this._listeners}),this):this},M.stopListening=function(A,ot,ft){var xt=this._listeningTo;if(!xt)return this;for(var It=A?[A._listenId]:y.keys(xt),Ut=0;Ut<It.length;Ut++){var pe=xt[It[Ut]];if(!pe)break;pe.obj.off(ot,ft,this),pe.interop&&pe.off(ot,ft)}return y.isEmpty(xt)&&(this._listeningTo=void 0),this};var $=function(A,ot,ft,xt){if(A){var It,Ut=xt.context,pe=xt.listeners,De=0;if(ot||Ut||ft){for(It=ot?[ot]:y.keys(A);De<It.length;De++){var Ve=A[ot=It[De]];if(!Ve)break;for(var $e=[],nn=0;nn<Ve.length;nn++){var ke=Ve[nn];if(ft&&ft!==ke.callback&&ft!==ke.callback._callback||Ut&&Ut!==ke.context)$e.push(ke);else{var ht=ke.listening;ht&&ht.off(ot,ft)}}$e.length?A[ot]=$e:delete A[ot]}return A}for(It=y.keys(pe);De<It.length;De++)pe[It[De]].cleanup()}};M.once=function(A,ot,ft){var xt=R(J,{},A,ot,this.off.bind(this));return typeof A=="string"&&ft==null&&(ot=void 0),this.on(xt,ot,ft)},M.listenToOnce=function(A,ot,ft){var xt=R(J,{},ot,ft,this.stopListening.bind(this,A));return this.listenTo(A,xt)};var J=function(A,ot,ft,xt){if(ft){var It=A[ot]=y.once(function(){xt(ot,It),ft.apply(this,arguments)});It._callback=ft}return A};M.trigger=function(A){if(!this._events)return this;for(var ot=Math.max(0,arguments.length-1),ft=Array(ot),xt=0;xt<ot;xt++)ft[xt]=arguments[xt+1];return R(U,this._events,A,void 0,ft),this};var U=function(A,ot,ft,xt){if(A){var It=A[ot],Ut=A.all;It&&Ut&&(Ut=Ut.slice()),It&&L(It,xt),Ut&&L(Ut,[ot].concat(xt))}return A},L=function(A,ot){var ft,xt=-1,It=A.length,Ut=ot[0],pe=ot[1],De=ot[2];switch(ot.length){case 0:for(;++xt<It;)(ft=A[xt]).callback.call(ft.ctx);return;case 1:for(;++xt<It;)(ft=A[xt]).callback.call(ft.ctx,Ut);return;case 2:for(;++xt<It;)(ft=A[xt]).callback.call(ft.ctx,Ut,pe);return;case 3:for(;++xt<It;)(ft=A[xt]).callback.call(ft.ctx,Ut,pe,De);return;default:for(;++xt<It;)(ft=A[xt]).callback.apply(ft.ctx,ot);return}},P=function(A,ot){this.id=A._listenId,this.listener=A,this.obj=ot,this.interop=!0,this.count=0,this._events=void 0};P.prototype.on=M.on,P.prototype.off=function(A,ot){var ft;this.interop?(this._events=R($,this._events,A,ot,{context:void 0,listeners:void 0}),ft=!this._events):(this.count--,ft=this.count===0),ft&&this.cleanup()},P.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},M.bind=M.on,M.unbind=M.off,y.extend(g,M);var z=g.Model=function(A,ot){var ft=A||{};ot||(ot={}),this.preinitialize.apply(this,arguments),this.cid=y.uniqueId(this.cidPrefix),this.attributes={},ot.collection&&(this.collection=ot.collection),ot.parse&&(ft=this.parse(ft,ot)||{});var xt=y.result(this,"defaults");ft=y.defaults(y.extend({},xt,ft),xt),this.set(ft,ot),this.changed={},this.initialize.apply(this,arguments)};y.extend(z.prototype,M,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(A){return y.clone(this.attributes)},sync:function(){return g.sync.apply(this,arguments)},get:function(A){return this.attributes[A]},escape:function(A){return y.escape(this.get(A))},has:function(A){return this.get(A)!=null},matches:function(A){return!!y.iteratee(A,this)(this.attributes)},set:function(A,ot,ft){if(A==null)return this;var xt;if(typeof A=="object"?(xt=A,ft=ot):(xt={})[A]=ot,ft||(ft={}),!this._validate(xt,ft))return!1;var It=ft.unset,Ut=ft.silent,pe=[],De=this._changing;this._changing=!0,De||(this._previousAttributes=y.clone(this.attributes),this.changed={});var Ve=this.attributes,$e=this.changed,nn=this._previousAttributes;for(var ke in xt)ot=xt[ke],y.isEqual(Ve[ke],ot)||pe.push(ke),y.isEqual(nn[ke],ot)?delete $e[ke]:$e[ke]=ot,It?delete Ve[ke]:Ve[ke]=ot;if(this.idAttribute in xt){var ht=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,ht,ft)}if(!Ut){pe.length&&(this._pending=ft);for(var _t=0;_t<pe.length;_t++)this.trigger("change:"+pe[_t],this,Ve[pe[_t]],ft)}if(De)return this;if(!Ut)for(;this._pending;)ft=this._pending,this._pending=!1,this.trigger("change",this,ft);return this._pending=!1,this._changing=!1,this},unset:function(A,ot){return this.set(A,void 0,y.extend({},ot,{unset:!0}))},clear:function(A){var ot={};for(var ft in this.attributes)ot[ft]=void 0;return this.set(ot,y.extend({},A,{unset:!0}))},hasChanged:function(A){return A==null?!y.isEmpty(this.changed):y.has(this.changed,A)},changedAttributes:function(A){if(!A)return!!this.hasChanged()&&y.clone(this.changed);var ot,ft=this._changing?this._previousAttributes:this.attributes,xt={};for(var It in A){var Ut=A[It];y.isEqual(ft[It],Ut)||(xt[It]=Ut,ot=!0)}return!!ot&&xt},previous:function(A){return A!=null&&this._previousAttributes?this._previousAttributes[A]:null},previousAttributes:function(){return y.clone(this._previousAttributes)},fetch:function(A){A=y.extend({parse:!0},A);var ot=this,ft=A.success;return A.success=function(xt){var It=A.parse?ot.parse(xt,A):xt;if(!ot.set(It,A))return!1;ft&&ft.call(A.context,ot,xt,A),ot.trigger("sync",ot,xt,A)},Pt(this,A),this.sync("read",this,A)},save:function(A,ot,ft){var xt;A==null||typeof A=="object"?(xt=A,ft=ot):(xt={})[A]=ot;var It=(ft=y.extend({validate:!0,parse:!0},ft)).wait;if(xt&&!It){if(!this.set(xt,ft))return!1}else if(!this._validate(xt,ft))return!1;var Ut=this,pe=ft.success,De=this.attributes;ft.success=function(nn){Ut.attributes=De;var ke=ft.parse?Ut.parse(nn,ft):nn;if(It&&(ke=y.extend({},xt,ke)),ke&&!Ut.set(ke,ft))return!1;pe&&pe.call(ft.context,Ut,nn,ft),Ut.trigger("sync",Ut,nn,ft)},Pt(this,ft),xt&&It&&(this.attributes=y.extend({},De,xt));var Ve=this.isNew()?"create":ft.patch?"patch":"update";Ve!=="patch"||ft.attrs||(ft.attrs=xt);var $e=this.sync(Ve,this,ft);return this.attributes=De,$e},destroy:function(A){A=A?y.clone(A):{};var ot=this,ft=A.success,xt=A.wait,It=function(){ot.stopListening(),ot.trigger("destroy",ot,ot.collection,A)};A.success=function(pe){xt&&It(),ft&&ft.call(A.context,ot,pe,A),ot.isNew()||ot.trigger("sync",ot,pe,A)};var Ut=!1;return this.isNew()?y.defer(A.success):(Pt(this,A),Ut=this.sync("delete",this,A)),xt||It(),Ut},url:function(){var A=y.result(this,"urlRoot")||y.result(this.collection,"url")||vt();if(this.isNew())return A;var ot=this.get(this.idAttribute);return A.replace(/[^\/]$/,"$&/")+encodeURIComponent(ot)},parse:function(A,ot){return A},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(A){return this._validate({},y.extend({},A,{validate:!0}))},_validate:function(A,ot){if(!ot.validate||!this.validate)return!0;A=y.extend({},this.attributes,A);var ft=this.validationError=this.validate(A,ot)||null;return!ft||(this.trigger("invalid",this,ft,y.extend(ot,{validationError:ft})),!1)}});var tt=g.Collection=function(A,ot){ot||(ot={}),this.preinitialize.apply(this,arguments),ot.model&&(this.model=ot.model),ot.comparator!==void 0&&(this.comparator=ot.comparator),this._reset(),this.initialize.apply(this,arguments),A&&this.reset(A,y.extend({silent:!0},ot))},q={add:!0,remove:!0,merge:!0},rt={add:!0,remove:!1},H=function(A,ot,ft){ft=Math.min(Math.max(ft,0),A.length);var xt,It=Array(A.length-ft),Ut=ot.length;for(xt=0;xt<It.length;xt++)It[xt]=A[xt+ft];for(xt=0;xt<Ut;xt++)A[xt+ft]=ot[xt];for(xt=0;xt<It.length;xt++)A[xt+Ut+ft]=It[xt]};y.extend(tt.prototype,M,{model:z,preinitialize:function(){},initialize:function(){},toJSON:function(A){return this.map(function(ot){return ot.toJSON(A)})},sync:function(){return g.sync.apply(this,arguments)},add:function(A,ot){return this.set(A,y.extend({merge:!1},ot,rt))},remove:function(A,ot){ot=y.extend({},ot);var ft=!y.isArray(A);A=ft?[A]:A.slice();var xt=this._removeModels(A,ot);return!ot.silent&&xt.length&&(ot.changes={added:[],merged:[],removed:xt},this.trigger("update",this,ot)),ft?xt[0]:xt},set:function(A,ot){if(A!=null){(ot=y.extend({},q,ot)).parse&&!this._isModel(A)&&(A=this.parse(A,ot)||[]);var ft=!y.isArray(A);A=ft?[A]:A.slice();var xt=ot.at;xt!=null&&(xt=+xt),xt>this.length&&(xt=this.length),xt<0&&(xt+=this.length+1);var It,Ut,pe=[],De=[],Ve=[],$e=[],nn={},ke=ot.add,ht=ot.merge,_t=ot.remove,Rt=!1,$t=this.comparator&&xt==null&&ot.sort!==!1,le=y.isString(this.comparator)?this.comparator:null;for(Ut=0;Ut<A.length;Ut++){It=A[Ut];var be=this.get(It);if(be){if(ht&&It!==be){var Ye=this._isModel(It)?It.attributes:It;ot.parse&&(Ye=be.parse(Ye,ot)),be.set(Ye,ot),Ve.push(be),$t&&!Rt&&(Rt=be.hasChanged(le))}nn[be.cid]||(nn[be.cid]=!0,pe.push(be)),A[Ut]=be}else ke&&(It=A[Ut]=this._prepareModel(It,ot))&&(De.push(It),this._addReference(It,ot),nn[It.cid]=!0,pe.push(It))}if(_t){for(Ut=0;Ut<this.length;Ut++)nn[(It=this.models[Ut]).cid]||$e.push(It);$e.length&&this._removeModels($e,ot)}var tn=!1,Ke=!$t&&ke&&_t;if(pe.length&&Ke?(tn=this.length!==pe.length||y.some(this.models,function(cn,Xn){return cn!==pe[Xn]}),this.models.length=0,H(this.models,pe,0),this.length=this.models.length):De.length&&($t&&(Rt=!0),H(this.models,De,xt??this.length),this.length=this.models.length),Rt&&this.sort({silent:!0}),!ot.silent){for(Ut=0;Ut<De.length;Ut++)xt!=null&&(ot.index=xt+Ut),(It=De[Ut]).trigger("add",It,this,ot);(Rt||tn)&&this.trigger("sort",this,ot),(De.length||$e.length||Ve.length)&&(ot.changes={added:De,removed:$e,merged:Ve},this.trigger("update",this,ot))}return ft?A[0]:A}},reset:function(A,ot){ot=ot?y.clone(ot):{};for(var ft=0;ft<this.models.length;ft++)this._removeReference(this.models[ft],ot);return ot.previousModels=this.models,this._reset(),A=this.add(A,y.extend({silent:!0},ot)),ot.silent||this.trigger("reset",this,ot),A},push:function(A,ot){return this.add(A,y.extend({at:this.length},ot))},pop:function(A){var ot=this.at(this.length-1);return this.remove(ot,A)},unshift:function(A,ot){return this.add(A,y.extend({at:0},ot))},shift:function(A){var ot=this.at(0);return this.remove(ot,A)},slice:function(){return T.apply(this.models,arguments)},get:function(A){if(A!=null)return this._byId[A]||this._byId[this.modelId(this._isModel(A)?A.attributes:A,A.idAttribute)]||A.cid&&this._byId[A.cid]},has:function(A){return this.get(A)!=null},at:function(A){return A<0&&(A+=this.length),this.models[A]},where:function(A,ot){return this[ot?"find":"filter"](A)},findWhere:function(A){return this.where(A,!0)},sort:function(A){var ot=this.comparator;if(!ot)throw new Error("Cannot sort a set without a comparator");A||(A={});var ft=ot.length;return y.isFunction(ot)&&(ot=ot.bind(this)),ft===1||y.isString(ot)?this.models=this.sortBy(ot):this.models.sort(ot),A.silent||this.trigger("sort",this,A),this},pluck:function(A){return this.map(A+"")},fetch:function(A){var ot=(A=y.extend({parse:!0},A)).success,ft=this;return A.success=function(xt){var It=A.reset?"reset":"set";ft[It](xt,A),ot&&ot.call(A.context,ft,xt,A),ft.trigger("sync",ft,xt,A)},Pt(this,A),this.sync("read",this,A)},create:function(A,ot){var ft=(ot=ot?y.clone(ot):{}).wait;if(!(A=this._prepareModel(A,ot)))return!1;ft||this.add(A,ot);var xt=this,It=ot.success;return ot.success=function(Ut,pe,De){ft&&xt.add(Ut,De),It&&It.call(De.context,Ut,pe,De)},A.save(null,ot),A},parse:function(A,ot){return A},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(A,ot){return A[ot||this.model.prototype.idAttribute||"id"]},values:function(){return new dt(this,ct)},keys:function(){return new dt(this,jt)},entries:function(){return new dt(this,At)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(A,ot){return this._isModel(A)?(A.collection||(A.collection=this),A):((ot=ot?y.clone(ot):{}).collection=this,(ft=this.model.prototype?new this.model(A,ot):this.model(A,ot)).validationError?(this.trigger("invalid",this,ft.validationError,ot),!1):ft);var ft},_removeModels:function(A,ot){for(var ft=[],xt=0;xt<A.length;xt++){var It=this.get(A[xt]);if(It){var Ut=this.indexOf(It);this.models.splice(Ut,1),this.length--,delete this._byId[It.cid];var pe=this.modelId(It.attributes,It.idAttribute);pe!=null&&delete this._byId[pe],ot.silent||(ot.index=Ut,It.trigger("remove",It,this,ot)),ft.push(It),this._removeReference(It,ot)}}return ft},_isModel:function(A){return A instanceof z},_addReference:function(A,ot){this._byId[A.cid]=A;var ft=this.modelId(A.attributes,A.idAttribute);ft!=null&&(this._byId[ft]=A),A.on("all",this._onModelEvent,this)},_removeReference:function(A,ot){delete this._byId[A.cid];var ft=this.modelId(A.attributes,A.idAttribute);ft!=null&&delete this._byId[ft],this===A.collection&&delete A.collection,A.off("all",this._onModelEvent,this)},_onModelEvent:function(A,ot,ft,xt){if(ot){if((A==="add"||A==="remove")&&ft!==this)return;if(A==="destroy"&&this.remove(ot,xt),A==="changeId"){var It=this.modelId(ot.previousAttributes(),ot.idAttribute),Ut=this.modelId(ot.attributes,ot.idAttribute);It!=null&&delete this._byId[It],Ut!=null&&(this._byId[Ut]=ot)}}this.trigger.apply(this,arguments)}});var Y=typeof Symbol=="function"&&Symbol.iterator;Y&&(tt.prototype[Y]=tt.prototype.values);var dt=function(A,ot){this._collection=A,this._kind=ot,this._index=0},ct=1,jt=2,At=3;Y&&(dt.prototype[Y]=function(){return this}),dt.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var A,ot=this._collection.at(this._index);if(this._index++,this._kind===ct)A=ot;else{var ft=this._collection.modelId(ot.attributes,ot.idAttribute);A=this._kind===jt?ft:[ft,ot]}return{value:A,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var ee=g.View=function(A){this.cid=y.uniqueId("view"),this.preinitialize.apply(this,arguments),y.extend(this,y.pick(A,gt)),this._ensureElement(),this.initialize.apply(this,arguments)},mt=/^(\S+)\s*(.*)$/,gt=["model","collection","el","id","attributes","className","tagName","events"];y.extend(ee.prototype,M,{tagName:"div",$:function(A){return this.$el.find(A)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(A){return this.undelegateEvents(),this._setElement(A),this.delegateEvents(),this},_setElement:function(A){this.$el=A instanceof g.$?A:g.$(A),this.el=this.$el[0]},delegateEvents:function(A){if(A||(A=y.result(this,"events")),!A)return this;for(var ot in this.undelegateEvents(),A){var ft=A[ot];if(y.isFunction(ft)||(ft=this[ft]),ft){var xt=ot.match(mt);this.delegate(xt[1],xt[2],ft.bind(this))}}return this},delegate:function(A,ot,ft){return this.$el.on(A+".delegateEvents"+this.cid,ot,ft),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(A,ot,ft){return this.$el.off(A+".delegateEvents"+this.cid,ot,ft),this},_createElement:function(A){return document.createElement(A)},_ensureElement:function(){if(this.el)this.setElement(y.result(this,"el"));else{var A=y.extend({},y.result(this,"attributes"));this.id&&(A.id=y.result(this,"id")),this.className&&(A.class=y.result(this,"className")),this.setElement(this._createElement(y.result(this,"tagName"))),this._setAttributes(A)}},_setAttributes:function(A){this.$el.attr(A)}});var qt=function(A,ot,ft,xt){switch(ot){case 1:return function(){return A[ft](this[xt])};case 2:return function(It){return A[ft](this[xt],It)};case 3:return function(It,Ut){return A[ft](this[xt],Ht(It,this),Ut)};case 4:return function(It,Ut,pe){return A[ft](this[xt],Ht(It,this),Ut,pe)};default:return function(){var It=T.call(arguments);return It.unshift(this[xt]),A[ft].apply(A,It)}}},Yt=function(A,ot,ft,xt){y.each(ft,function(It,Ut){ot[Ut]&&(A.prototype[Ut]=qt(ot,It,Ut,xt))})},Ht=function(A,ot){return y.isFunction(A)?A:y.isObject(A)&&!ot._isModel(A)?ne(A):y.isString(A)?function(ft){return ft.get(A)}:A},ne=function(A){var ot=y.matches(A);return function(ft){return ot(ft.attributes)}},re={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},ce={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};y.each([[tt,re,"models"],[z,ce,"attributes"]],function(A){var ot=A[0],ft=A[1],xt=A[2];ot.mixin=function(It){var Ut=y.reduce(y.functions(It),function(pe,De){return pe[De]=0,pe},{});Yt(ot,It,Ut,xt)},Yt(ot,y,ft,xt)}),g.sync=function(A,ot,ft){var xt=fe[A];y.defaults(ft||(ft={}),{emulateHTTP:g.emulateHTTP,emulateJSON:g.emulateJSON});var It={type:xt,dataType:"json"};if(ft.url||(It.url=y.result(ot,"url")||vt()),ft.data!=null||!ot||A!=="create"&&A!=="update"&&A!=="patch"||(It.contentType="application/json",It.data=JSON.stringify(ft.attrs||ot.toJSON(ft))),ft.emulateJSON&&(It.contentType="application/x-www-form-urlencoded",It.data=It.data?{model:It.data}:{}),ft.emulateHTTP&&(xt==="PUT"||xt==="DELETE"||xt==="PATCH")){It.type="POST",ft.emulateJSON&&(It.data._method=xt);var Ut=ft.beforeSend;ft.beforeSend=function(Ve){if(Ve.setRequestHeader("X-HTTP-Method-Override",xt),Ut)return Ut.apply(this,arguments)}}It.type==="GET"||ft.emulateJSON||(It.processData=!1);var pe=ft.error;ft.error=function(Ve,$e,nn){ft.textStatus=$e,ft.errorThrown=nn,pe&&pe.call(ft.context,Ve,$e,nn)};var De=ft.xhr=g.ajax(y.extend(It,ft));return ot.trigger("request",ot,De,ft),De};var fe={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};g.ajax=function(){return g.$.ajax.apply(g.$,arguments)};var Me=g.Router=function(A){A||(A={}),this.preinitialize.apply(this,arguments),A.routes&&(this.routes=A.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Se=/\((.*?)\)/g,ze=/(\(\?)?:\w+/g,qe=/\*\w+/g,X=/[\-{}\[\]+?.,\\\^$|#\s]/g;y.extend(Me.prototype,M,{preinitialize:function(){},initialize:function(){},route:function(A,ot,ft){y.isRegExp(A)||(A=this._routeToRegExp(A)),y.isFunction(ot)&&(ft=ot,ot=""),ft||(ft=this[ot]);var xt=this;return g.history.route(A,function(It){var Ut=xt._extractParameters(A,It);xt.execute(ft,Ut,ot)!==!1&&(xt.trigger.apply(xt,["route:"+ot].concat(Ut)),xt.trigger("route",ot,Ut),g.history.trigger("route",xt,ot,Ut))}),this},execute:function(A,ot,ft){A&&A.apply(this,ot)},navigate:function(A,ot){return g.history.navigate(A,ot),this},_bindRoutes:function(){if(this.routes){this.routes=y.result(this,"routes");for(var A,ot=y.keys(this.routes);(A=ot.pop())!=null;)this.route(A,this.routes[A])}},_routeToRegExp:function(A){return A=A.replace(X,"\\$&").replace(Se,"(?:$1)?").replace(ze,function(ot,ft){return ft?ot:"([^/?]+)"}).replace(qe,"([^?]*?)"),new RegExp("^"+A+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(A,ot){var ft=A.exec(ot).slice(1);return y.map(ft,function(xt,It){return It===ft.length-1?xt||null:xt?decodeURIComponent(xt):null})}});var Gt=g.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Nt=/^[#\/]|\s+$/g,wt=/^\/+|\/+$/g,yt=/#.*$/;Gt.started=!1,y.extend(Gt.prototype,M,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(A){return decodeURI(A.replace(/%25/g,"%2525"))},getSearch:function(){var A=this.location.href.replace(/#.*/,"").match(/\?.+/);return A?A[0]:""},getHash:function(A){var ot=(A||this).location.href.match(/#(.*)$/);return ot?ot[1]:""},getPath:function(){var A=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return A.charAt(0)==="/"?A.slice(1):A},getFragment:function(A){return A==null&&(A=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),A.replace(Nt,"")},start:function(A){if(Gt.started)throw new Error("Backbone.history has already been started");if(Gt.started=!0,this.options=y.extend({root:"/"},this.options,A),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(wt,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var ot=this.root.slice(0,-1)||"/";return this.location.replace(ot+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var ft=document.body,xt=ft.insertBefore(this.iframe,ft.firstChild).contentWindow;xt.document.open(),xt.document.close(),xt.location.hash="#"+this.fragment}var It=window.addEventListener||function(Ut,pe){return attachEvent("on"+Ut,pe)};if(this._usePushState?It("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?It("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var A=window.removeEventListener||function(ot,ft){return detachEvent("on"+ot,ft)};this._usePushState?A("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&A("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Gt.started=!1},route:function(A,ot){this.handlers.unshift({route:A,callback:ot})},checkUrl:function(A){var ot=this.getFragment();if(ot===this.fragment&&this.iframe&&(ot=this.getHash(this.iframe.contentWindow)),ot===this.fragment)return!1;this.iframe&&this.navigate(ot),this.loadUrl()},loadUrl:function(A){return!!this.matchRoot()&&(A=this.fragment=this.getFragment(A),y.some(this.handlers,function(ot){if(ot.route.test(A))return ot.callback(A),!0}))},navigate:function(A,ot){if(!Gt.started)return!1;ot&&ot!==!0||(ot={trigger:!!ot}),A=this.getFragment(A||"");var ft=this.root;A!==""&&A.charAt(0)!=="?"||(ft=ft.slice(0,-1)||"/");var xt=ft+A;A=A.replace(yt,"");var It=this.decodeFragment(A);if(this.fragment!==It){if(this.fragment=It,this._usePushState)this.history[ot.replace?"replaceState":"pushState"]({},document.title,xt);else{if(!this._wantsHashChange)return this.location.assign(xt);if(this._updateHash(this.location,A,ot.replace),this.iframe&&A!==this.getHash(this.iframe.contentWindow)){var Ut=this.iframe.contentWindow;ot.replace||(Ut.document.open(),Ut.document.close()),this._updateHash(Ut.location,A,ot.replace)}}return ot.trigger?this.loadUrl(A):void 0}},_updateHash:function(A,ot,ft){if(ft){var xt=A.href.replace(/(javascript:|#).*$/,"");A.replace(xt+"#"+ot)}else A.hash="#"+ot}}),g.history=new Gt;var Mt=function(A,ot){var ft,xt=this;return ft=A&&y.has(A,"constructor")?A.constructor:function(){return xt.apply(this,arguments)},y.extend(ft,xt,ot),ft.prototype=y.create(xt.prototype,A),ft.prototype.constructor=ft,ft.__super__=xt.prototype,ft};z.extend=tt.extend=Me.extend=ee.extend=Gt.extend=Mt;var vt=function(){throw new Error('A "url" property or function must be specified')},Pt=function(A,ot){var ft=ot.error;ot.error=function(xt){ft&&ft.call(ot.context,A,xt,ot),A.trigger("error",A,xt,ot)}};return g}(C,v,O,h)}).apply(K,F),V===void 0||(E.exports=V)})()},210:(E,K,Z)=>{(function(F){F.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(j,C){return/^[;{}]$/.test(C)}}),F.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(j,C,O,h){return this.jsonMode?/^[\[,{]$/.test(C)||/^}/.test(O):(C!=";"||!h.lexical||h.lexical.type!=")")&&/^[;{}]$/.test(C)&&!/^;/.test(O)}});var V=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;F.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(j,C,O,h){var v=!1;return this.configuration=="html"&&(v=!!h.context&&V.test(h.context.tagName)),!v&&(j=="tag"&&/>$/.test(C)&&h.context||/^</.test(O))}}),F.defineExtension("commentRange",function(j,C,O){var h=this,v=F.innerMode(h.getMode(),h.getTokenAt(C).state).mode;h.operation(function(){if(j)h.replaceRange(v.commentEnd,O),h.replaceRange(v.commentStart,C),C.line==O.line&&C.ch==O.ch&&h.setCursor(C.line,C.ch+v.commentStart.length);else{var m=h.getRange(C,O),g=m.indexOf(v.commentStart),y=m.lastIndexOf(v.commentEnd);g>-1&&y>-1&&y>g&&(m=m.substr(0,g)+m.substring(g+v.commentStart.length,y)+m.substr(y+v.commentEnd.length)),h.replaceRange(m,C,O)}})}),F.defineExtension("autoIndentRange",function(j,C){var O=this;this.operation(function(){for(var h=j.line;h<=C.line;h++)O.indentLine(h,"smart")})}),F.defineExtension("autoFormatRange",function(j,C){var O=this,h=O.getMode(),v=O.getRange(j,C).split(`
`),m=F.copyState(h,O.getTokenAt(j).state),g=O.getOption("tabSize"),y="",S=0,w=j.ch===0;function T(){y+=`
`,w=!0,++S}for(var k=0;k<v.length;++k){for(var M=new F.StringStream(v[k],g);!M.eol();){var D=F.innerMode(h,m),R=h.token(M,m),N=M.current();M.start=M.pos,w&&!/\S/.test(N)||(y+=N,w=!1),!w&&D.mode.newlineAfterToken&&D.mode.newlineAfterToken(R,N,M.string.slice(M.pos)||v[k+1]||"",D.state)&&T()}!M.pos&&h.blankLine&&h.blankLine(m),!w&&k<v.length-1&&T()}O.operation(function(){O.replaceRange(y,j,C);for(var W=j.line+1,$=j.line+S;W<=$;++W)O.indentLine(W,"smart");O.setSelection(j,O.getCursor(!1))})})})(Z(631))},631:function(E){E.exports=function(){var K=navigator.userAgent,Z=navigator.platform,F=/gecko\/\d/i.test(K),V=/MSIE \d/.test(K),j=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(K),C=/Edge\/(\d+)/.exec(K),O=V||j||C,h=O&&(V?document.documentMode||6:+(C||j)[1]),v=!C&&/WebKit\//.test(K),m=v&&/Qt\/\d+\.\d+/.test(K),g=!C&&/Chrome\/(\d+)/.exec(K),y=g&&+g[1],S=/Opera\//.test(K),w=/Apple Computer/.test(navigator.vendor),T=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(K),k=/PhantomJS/.test(K),M=w&&(/Mobile\/\w+/.test(K)||navigator.maxTouchPoints>2),D=/Android/.test(K),R=M||D||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(K),N=M||/Mac/.test(Z),W=/\bCrOS\b/.test(K),$=/win/i.test(Z),J=S&&K.match(/Version\/(\d*\.\d*)/);J&&(J=Number(J[1])),J&&J>=15&&(S=!1,v=!0);var U=N&&(m||S&&(J==null||J<12.11)),L=F||O&&h>=9;function P(o){return new RegExp("(^|\\s)"+o+"(?:$|\\s)\\s*")}var z,tt=function(o,a){var u=o.className,c=P(a).exec(u);if(c){var p=u.slice(c.index+c[0].length);o.className=u.slice(0,c.index)+(p?c[1]+p:"")}};function q(o){for(var a=o.childNodes.length;a>0;--a)o.removeChild(o.firstChild);return o}function rt(o,a){return q(o).appendChild(a)}function H(o,a,u,c){var p=document.createElement(o);if(u&&(p.className=u),c&&(p.style.cssText=c),typeof a=="string")p.appendChild(document.createTextNode(a));else if(a)for(var _=0;_<a.length;++_)p.appendChild(a[_]);return p}function Y(o,a,u,c){var p=H(o,a,u,c);return p.setAttribute("role","presentation"),p}function dt(o,a){if(a.nodeType==3&&(a=a.parentNode),o.contains)return o.contains(a);do if(a.nodeType==11&&(a=a.host),a==o)return!0;while(a=a.parentNode)}function ct(o){var a;try{a=o.activeElement}catch{a=o.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function jt(o,a){var u=o.className;P(a).test(u)||(o.className+=(u?" ":"")+a)}function At(o,a){for(var u=o.split(" "),c=0;c<u.length;c++)u[c]&&!P(u[c]).test(a)&&(a+=" "+u[c]);return a}z=document.createRange?function(o,a,u,c){var p=document.createRange();return p.setEnd(c||o,u),p.setStart(o,a),p}:function(o,a,u){var c=document.body.createTextRange();try{c.moveToElementText(o.parentNode)}catch{return c}return c.collapse(!0),c.moveEnd("character",u),c.moveStart("character",a),c};var ee=function(o){o.select()};function mt(o){return o.display.wrapper.ownerDocument}function gt(o){return mt(o).defaultView}function qt(o){var a=Array.prototype.slice.call(arguments,1);return function(){return o.apply(null,a)}}function Yt(o,a,u){for(var c in a||(a={}),o)!o.hasOwnProperty(c)||u===!1&&a.hasOwnProperty(c)||(a[c]=o[c]);return a}function Ht(o,a,u,c,p){a==null&&(a=o.search(/[^\s\u00a0]/))==-1&&(a=o.length);for(var _=c||0,I=p||0;;){var B=o.indexOf("	",_);if(B<0||B>=a)return I+(a-_);I+=B-_,I+=u-I%u,_=B+1}}M?ee=function(o){o.selectionStart=0,o.selectionEnd=o.value.length}:O&&(ee=function(o){try{o.select()}catch{}});var ne=function(){this.id=null,this.f=null,this.time=0,this.handler=qt(this.onTimeout,this)};function re(o,a){for(var u=0;u<o.length;++u)if(o[u]==a)return u;return-1}ne.prototype.onTimeout=function(o){o.id=0,o.time<=+new Date?o.f():setTimeout(o.handler,o.time-+new Date)},ne.prototype.set=function(o,a){this.f=a;var u=+new Date+o;(!this.id||u<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,o),this.time=u)};var ce=50,fe={toString:function(){return"CodeMirror.Pass"}},Me={scroll:!1},Se={origin:"*mouse"},ze={origin:"+move"};function qe(o,a,u){for(var c=0,p=0;;){var _=o.indexOf("	",c);_==-1&&(_=o.length);var I=_-c;if(_==o.length||p+I>=a)return c+Math.min(I,a-p);if(p+=_-c,c=_+1,(p+=u-p%u)>=a)return c}}var X=[""];function Gt(o){for(;X.length<=o;)X.push(Nt(X)+" ");return X[o]}function Nt(o){return o[o.length-1]}function wt(o,a){for(var u=[],c=0;c<o.length;c++)u[c]=a(o[c],c);return u}function yt(o,a,u){for(var c=0,p=u(a);c<o.length&&u(o[c])<=p;)c++;o.splice(c,0,a)}function Mt(){}function vt(o,a){var u;return Object.create?u=Object.create(o):(Mt.prototype=o,u=new Mt),a&&Yt(a,u),u}var Pt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function A(o){return/\w/.test(o)||o>""&&(o.toUpperCase()!=o.toLowerCase()||Pt.test(o))}function ot(o,a){return a?!!(a.source.indexOf("\\w")>-1&&A(o))||a.test(o):A(o)}function ft(o){for(var a in o)if(o.hasOwnProperty(a)&&o[a])return!1;return!0}var xt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function It(o){return o.charCodeAt(0)>=768&&xt.test(o)}function Ut(o,a,u){for(;(u<0?a>0:a<o.length)&&It(o.charAt(a));)a+=u;return a}function pe(o,a,u){for(var c=a>u?-1:1;;){if(a==u)return a;var p=(a+u)/2,_=c<0?Math.ceil(p):Math.floor(p);if(_==a)return o(_)?a:u;o(_)?u=_:a=_+c}}function De(o,a,u,c){if(!o)return c(a,u,"ltr",0);for(var p=!1,_=0;_<o.length;++_){var I=o[_];(I.from<u&&I.to>a||a==u&&I.to==a)&&(c(Math.max(I.from,a),Math.min(I.to,u),I.level==1?"rtl":"ltr",_),p=!0)}p||c(a,u,"ltr")}var Ve=null;function $e(o,a,u){var c;Ve=null;for(var p=0;p<o.length;++p){var _=o[p];if(_.from<a&&_.to>a)return p;_.to==a&&(_.from!=_.to&&u=="before"?c=p:Ve=p),_.from==a&&(_.from!=_.to&&u!="before"?c=p:Ve=p)}return c??Ve}var nn=function(){var o="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",a="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function u(it){return it<=247?o.charAt(it):1424<=it&&it<=1524?"R":1536<=it&&it<=1785?a.charAt(it-1536):1774<=it&&it<=2220?"r":8192<=it&&it<=8203?"w":it==8204?"b":"L"}var c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,p=/[stwN]/,_=/[LRr]/,I=/[Lb1n]/,B=/[1n]/;function et(it,Ct,St){this.level=it,this.from=Ct,this.to=St}return function(it,Ct){var St=Ct=="ltr"?"L":"R";if(it.length==0||Ct=="ltr"&&!c.test(it))return!1;for(var Vt=it.length,zt=[],Kt=0;Kt<Vt;++Kt)zt.push(u(it.charCodeAt(Kt)));for(var ie=0,he=St;ie<Vt;++ie){var we=zt[ie];we=="m"?zt[ie]=he:he=we}for(var Ce=0,me=St;Ce<Vt;++Ce){var Ae=zt[Ce];Ae=="1"&&me=="r"?zt[Ce]="n":_.test(Ae)&&(me=Ae,Ae=="r"&&(zt[Ce]="R"))}for(var Ee=1,Ie=zt[0];Ee<Vt-1;++Ee){var vn=zt[Ee];vn=="+"&&Ie=="1"&&zt[Ee+1]=="1"?zt[Ee]="1":vn!=","||Ie!=zt[Ee+1]||Ie!="1"&&Ie!="n"||(zt[Ee]=Ie),Ie=vn}for(var gn=0;gn<Vt;++gn){var Hr=zt[gn];if(Hr==",")zt[gn]="N";else if(Hr=="%"){var _n=void 0;for(_n=gn+1;_n<Vt&&zt[_n]=="%";++_n);for(var uo=gn&&zt[gn-1]=="!"||_n<Vt&&zt[_n]=="1"?"1":"N",zr=gn;zr<_n;++zr)zt[zr]=uo;gn=_n-1}}for(var Mn=0,Pr=St;Mn<Vt;++Mn){var yr=zt[Mn];Pr=="L"&&yr=="1"?zt[Mn]="L":_.test(yr)&&(Pr=yr)}for(var Dn=0;Dn<Vt;++Dn)if(p.test(zt[Dn])){var In=void 0;for(In=Dn+1;In<Vt&&p.test(zt[In]);++In);for(var On=(Dn?zt[Dn-1]:St)=="L",br=On==((In<Vt?zt[In]:St)=="L")?On?"L":"R":St,Zo=Dn;Zo<In;++Zo)zt[Zo]=br;Dn=In-1}for(var nr,lr=[],Hn=0;Hn<Vt;)if(I.test(zt[Hn])){var Oc=Hn;for(++Hn;Hn<Vt&&I.test(zt[Hn]);++Hn);lr.push(new et(0,Oc,Hn))}else{var jo=Hn,qi=lr.length,Zi=Ct=="rtl"?1:0;for(++Hn;Hn<Vt&&zt[Hn]!="L";++Hn);for(var wr=jo;wr<Hn;)if(B.test(zt[wr])){jo<wr&&(lr.splice(qi,0,new et(1,jo,wr)),qi+=Zi);var Vs=wr;for(++wr;wr<Hn&&B.test(zt[wr]);++wr);lr.splice(qi,0,new et(2,Vs,wr)),qi+=Zi,jo=wr}else++wr;jo<Hn&&lr.splice(qi,0,new et(1,jo,Hn))}return Ct=="ltr"&&(lr[0].level==1&&(nr=it.match(/^\s+/))&&(lr[0].from=nr[0].length,lr.unshift(new et(0,0,nr[0].length))),Nt(lr).level==1&&(nr=it.match(/\s+$/))&&(Nt(lr).to-=nr[0].length,lr.push(new et(0,Vt-nr[0].length,Vt)))),Ct=="rtl"?lr.reverse():lr}}();function ke(o,a){var u=o.order;return u==null&&(u=o.order=nn(o.text,a)),u}var ht=[],_t=function(o,a,u){if(o.addEventListener)o.addEventListener(a,u,!1);else if(o.attachEvent)o.attachEvent("on"+a,u);else{var c=o._handlers||(o._handlers={});c[a]=(c[a]||ht).concat(u)}};function Rt(o,a){return o._handlers&&o._handlers[a]||ht}function $t(o,a,u){if(o.removeEventListener)o.removeEventListener(a,u,!1);else if(o.detachEvent)o.detachEvent("on"+a,u);else{var c=o._handlers,p=c&&c[a];if(p){var _=re(p,u);_>-1&&(c[a]=p.slice(0,_).concat(p.slice(_+1)))}}}function le(o,a){var u=Rt(o,a);if(u.length)for(var c=Array.prototype.slice.call(arguments,2),p=0;p<u.length;++p)u[p].apply(null,c)}function be(o,a,u){return typeof a=="string"&&(a={type:a,preventDefault:function(){this.defaultPrevented=!0}}),le(o,u||a.type,o,a),Wr(a)||a.codemirrorIgnore}function Ye(o){var a=o._handlers&&o._handlers.cursorActivity;if(a)for(var u=o.curOp.cursorActivityHandlers||(o.curOp.cursorActivityHandlers=[]),c=0;c<a.length;++c)re(u,a[c])==-1&&u.push(a[c])}function tn(o,a){return Rt(o,a).length>0}function Ke(o){o.prototype.on=function(a,u){_t(this,a,u)},o.prototype.off=function(a,u){$t(this,a,u)}}function cn(o){o.preventDefault?o.preventDefault():o.returnValue=!1}function Xn(o){o.stopPropagation?o.stopPropagation():o.cancelBubble=!0}function Wr(o){return o.defaultPrevented!=null?o.defaultPrevented:o.returnValue==0}function En(o){cn(o),Xn(o)}function $r(o){return o.target||o.srcElement}function sn(o){var a=o.which;return a==null&&(1&o.button?a=1:2&o.button?a=3:4&o.button&&(a=2)),N&&o.ctrlKey&&a==1&&(a=3),a}var ue,Rn,Gr=function(){if(O&&h<9)return!1;var o=H("div");return"draggable"in o||"dragDrop"in o}();function or(o){if(ue==null){var a=H("span","​");rt(o,H("span",[a,document.createTextNode("x")])),o.firstChild.offsetHeight!=0&&(ue=a.offsetWidth<=1&&a.offsetHeight>2&&!(O&&h<8))}var u=ue?H("span","​"):H("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return u.setAttribute("cm-text",""),u}function Yo(o){if(Rn!=null)return Rn;var a=rt(o,document.createTextNode("AخA")),u=z(a,0,1).getBoundingClientRect(),c=z(a,1,2).getBoundingClientRect();return q(o),!(!u||u.left==u.right)&&(Rn=c.right-u.right<3)}var Lo,Do=`

b`.split(/\n/).length!=3?function(o){for(var a=0,u=[],c=o.length;a<=c;){var p=o.indexOf(`
`,a);p==-1&&(p=o.length);var _=o.slice(a,o.charAt(p-1)=="\r"?p-1:p),I=_.indexOf("\r");I!=-1?(u.push(_.slice(0,I)),a+=I+1):(u.push(_),a=p+1)}return u}:function(o){return o.split(/\r\n?|\n/)},ts=window.getSelection?function(o){try{return o.selectionStart!=o.selectionEnd}catch{return!1}}:function(o){var a;try{a=o.ownerDocument.selection.createRange()}catch{}return!(!a||a.parentElement()!=o)&&a.compareEndPoints("StartToEnd",a)!=0},qr="oncopy"in(Lo=H("div"))||(Lo.setAttribute("oncopy","return;"),typeof Lo.oncopy=="function"),fr=null;function Cr(o){if(fr!=null)return fr;var a=rt(o,H("span","x")),u=a.getBoundingClientRect(),c=z(a,0,1).getBoundingClientRect();return fr=Math.abs(u.left-c.left)>1}var eo={},Jn={};function es(o,a){arguments.length>2&&(a.dependencies=Array.prototype.slice.call(arguments,2)),eo[o]=a}function Io(o,a){Jn[o]=a}function xn(o){if(typeof o=="string"&&Jn.hasOwnProperty(o))o=Jn[o];else if(o&&typeof o.name=="string"&&Jn.hasOwnProperty(o.name)){var a=Jn[o.name];typeof a=="string"&&(a={name:a}),(o=vt(a,o)).name=a.name}else{if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(o))return xn("application/xml");if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(o))return xn("application/json")}return typeof o=="string"?{name:o}:o||{name:"null"}}function Qn(o,a){a=xn(a);var u=eo[a.name];if(!u)return Qn(o,"text/plain");var c=u(o,a);if(tr.hasOwnProperty(a.name)){var p=tr[a.name];for(var _ in p)p.hasOwnProperty(_)&&(c.hasOwnProperty(_)&&(c["_"+_]=c[_]),c[_]=p[_])}if(c.name=a.name,a.helperType&&(c.helperType=a.helperType),a.modeProps)for(var I in a.modeProps)c[I]=a.modeProps[I];return c}var tr={};function ns(o,a){Yt(a,tr.hasOwnProperty(o)?tr[o]:tr[o]={})}function dr(o,a){if(a===!0)return a;if(o.copyState)return o.copyState(a);var u={};for(var c in a){var p=a[c];p instanceof Array&&(p=p.concat([])),u[c]=p}return u}function Bn(o,a){for(var u;o.innerMode&&(u=o.innerMode(a))&&u.mode!=o;)a=u.state,o=u.mode;return u||{mode:o,state:a}}function Sr(o,a,u){return!o.startState||o.startState(a,u)}var bn=function(o,a,u){this.pos=this.start=0,this.string=o,this.tabSize=a||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=u};function je(o,a){if((a-=o.first)<0||a>=o.size)throw new Error("There is no line "+(a+o.first)+" in the document.");for(var u=o;!u.lines;)for(var c=0;;++c){var p=u.children[c],_=p.chunkSize();if(a<_){u=p;break}a-=_}return u.lines[a]}function Ir(o,a,u){var c=[],p=a.line;return o.iter(a.line,u.line+1,function(_){var I=_.text;p==u.line&&(I=I.slice(0,u.ch)),p==a.line&&(I=I.slice(a.ch)),c.push(I),++p}),c}function xo(o,a,u){var c=[];return o.iter(a,u,function(p){c.push(p.text)}),c}function Un(o,a){var u=a-o.height;if(u)for(var c=o;c;c=c.parent)c.height+=u}function rn(o){if(o.parent==null)return null;for(var a=o.parent,u=re(a.lines,o),c=a.parent;c;a=c,c=c.parent)for(var p=0;c.children[p]!=a;++p)u+=c.children[p].chunkSize();return u+a.first}function no(o,a){var u=o.first;t:do{for(var c=0;c<o.children.length;++c){var p=o.children[c],_=p.height;if(a<_){o=p;continue t}a-=_,u+=p.chunkSize()}return u}while(!o.lines);for(var I=0;I<o.lines.length;++I){var B=o.lines[I].height;if(a<B)break;a-=B}return u+I}function go(o,a){return a>=o.first&&a<o.first+o.size}function at(o,a){return String(o.lineNumberFormatter(a+o.firstLineNumber))}function ut(o,a,u){if(u===void 0&&(u=null),!(this instanceof ut))return new ut(o,a,u);this.line=o,this.ch=a,this.sticky=u}function Wt(o,a){return o.line-a.line||o.ch-a.ch}function _e(o,a){return o.sticky==a.sticky&&Wt(o,a)==0}function Te(o){return ut(o.line,o.ch)}function Qe(o,a){return Wt(o,a)<0?a:o}function an(o,a){return Wt(o,a)<0?o:a}function Fn(o,a){return Math.max(o.first,Math.min(a,o.first+o.size-1))}function Pe(o,a){if(a.line<o.first)return ut(o.first,0);var u=o.first+o.size-1;return a.line>u?ut(u,je(o,u).text.length):Vl(a,je(o,a.line).text.length)}function Vl(o,a){var u=o.ch;return u==null||u>a?ut(o.line,a):u<0?ut(o.line,0):o}function rs(o,a){for(var u=[],c=0;c<a.length;c++)u[c]=Pe(o,a[c]);return u}bn.prototype.eol=function(){return this.pos>=this.string.length},bn.prototype.sol=function(){return this.pos==this.lineStart},bn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},bn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},bn.prototype.eat=function(o){var a=this.string.charAt(this.pos);if(typeof o=="string"?a==o:a&&(o.test?o.test(a):o(a)))return++this.pos,a},bn.prototype.eatWhile=function(o){for(var a=this.pos;this.eat(o););return this.pos>a},bn.prototype.eatSpace=function(){for(var o=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>o},bn.prototype.skipToEnd=function(){this.pos=this.string.length},bn.prototype.skipTo=function(o){var a=this.string.indexOf(o,this.pos);if(a>-1)return this.pos=a,!0},bn.prototype.backUp=function(o){this.pos-=o},bn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ht(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ht(this.string,this.lineStart,this.tabSize):0)},bn.prototype.indentation=function(){return Ht(this.string,null,this.tabSize)-(this.lineStart?Ht(this.string,this.lineStart,this.tabSize):0)},bn.prototype.match=function(o,a,u){if(typeof o!="string"){var c=this.string.slice(this.pos).match(o);return c&&c.index>0?null:(c&&a!==!1&&(this.pos+=c[0].length),c)}var p=function(_){return u?_.toLowerCase():_};if(p(this.string.substr(this.pos,o.length))==p(o))return a!==!1&&(this.pos+=o.length),!0},bn.prototype.current=function(){return this.string.slice(this.start,this.pos)},bn.prototype.hideFirstChars=function(o,a){this.lineStart+=o;try{return a()}finally{this.lineStart-=o}},bn.prototype.lookAhead=function(o){var a=this.lineOracle;return a&&a.lookAhead(o)},bn.prototype.baseToken=function(){var o=this.lineOracle;return o&&o.baseToken(this.pos)};var Ko=function(o,a){this.state=o,this.lookAhead=a},Zr=function(o,a,u,c){this.state=a,this.doc=o,this.line=u,this.maxLookAhead=c||0,this.baseTokens=null,this.baseTokenPos=1};function ro(o,a,u,c){var p=[o.state.modeGen],_={};is(o,a.text,o.doc.mode,u,function(it,Ct){return p.push(it,Ct)},_,c);for(var I=u.state,B=function(it){u.baseTokens=p;var Ct=o.state.overlays[it],St=1,Vt=0;u.state=!0,is(o,a.text,Ct.mode,u,function(zt,Kt){for(var ie=St;Vt<zt;){var he=p[St];he>zt&&p.splice(St,1,zt,p[St+1],he),St+=2,Vt=Math.min(zt,he)}if(Kt)if(Ct.opaque)p.splice(ie,St-ie,zt,"overlay "+Kt),St=ie+2;else for(;ie<St;ie+=2){var we=p[ie+1];p[ie+1]=(we?we+" ":"")+"overlay "+Kt}},_),u.state=I,u.baseTokens=null,u.baseTokenPos=1},et=0;et<o.state.overlays.length;++et)B(et);return{styles:p,classes:_.bgClass||_.textClass?_:null}}function Xo(o,a,u){if(!a.styles||a.styles[0]!=o.state.modeGen){var c=mo(o,rn(a)),p=a.text.length>o.options.maxHighlightLength&&dr(o.doc.mode,c.state),_=ro(o,a,c);p&&(c.state=p),a.stateAfter=c.save(!p),a.styles=_.styles,_.classes?a.styleClasses=_.classes:a.styleClasses&&(a.styleClasses=null),u===o.doc.highlightFrontier&&(o.doc.modeFrontier=Math.max(o.doc.modeFrontier,++o.doc.highlightFrontier))}return a.styles}function mo(o,a,u){var c=o.doc,p=o.display;if(!c.mode.startState)return new Zr(c,!0,a);var _=Wa(o,a,u),I=_>c.first&&je(c,_-1).stateAfter,B=I?Zr.fromSaved(c,I,_):new Zr(c,Sr(c.mode),_);return c.iter(_,a,function(et){er(o,et.text,B);var it=B.line;et.stateAfter=it==a-1||it%5==0||it>=p.viewFrom&&it<p.viewTo?B.save():null,B.nextLine()}),u&&(c.modeFrontier=B.line),B}function er(o,a,u,c){var p=o.doc.mode,_=new bn(a,o.options.tabSize,u);for(_.start=_.pos=c||0,a==""&&Co(p,u.state);!_.eol();)Or(p,_,u.state),_.start=_.pos}function Co(o,a){if(o.blankLine)return o.blankLine(a);if(o.innerMode){var u=Bn(o,a);return u.mode.blankLine?u.mode.blankLine(u.state):void 0}}function Or(o,a,u,c){for(var p=0;p<10;p++){c&&(c[0]=Bn(o,u).mode);var _=o.token(a,u);if(a.pos>a.start)return _}throw new Error("Mode "+o.name+" failed to advance stream.")}Zr.prototype.lookAhead=function(o){var a=this.doc.getLine(this.line+o);return a!=null&&o>this.maxLookAhead&&(this.maxLookAhead=o),a},Zr.prototype.baseToken=function(o){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=o;)this.baseTokenPos+=2;var a=this.baseTokens[this.baseTokenPos+1];return{type:a&&a.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-o}},Zr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Zr.fromSaved=function(o,a,u){return a instanceof Ko?new Zr(o,dr(o.mode,a.state),u,a.lookAhead):new Zr(o,dr(o.mode,a),u)},Zr.prototype.save=function(o){var a=o!==!1?dr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ko(a,this.maxLookAhead):a};var os=function(o,a,u){this.start=o.start,this.end=o.pos,this.string=o.current(),this.type=a||null,this.state=u};function Jo(o,a,u,c){var p,_,I=o.doc,B=I.mode,et=je(I,(a=Pe(I,a)).line),it=mo(o,a.line,u),Ct=new bn(et.text,o.options.tabSize,it);for(c&&(_=[]);(c||Ct.pos<a.ch)&&!Ct.eol();)Ct.start=Ct.pos,p=Or(B,Ct,it.state),c&&_.push(new os(Ct,p,dr(I.mode,it.state)));return c?_:new os(Ct,p,it.state)}function So(o,a){if(o)for(;;){var u=o.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!u)break;o=o.slice(0,u.index)+o.slice(u.index+u[0].length);var c=u[1]?"bgClass":"textClass";a[c]==null?a[c]=u[2]:new RegExp("(?:^|\\s)"+u[2]+"(?:$|\\s)").test(a[c])||(a[c]+=" "+u[2])}return o}function is(o,a,u,c,p,_,I){var B=u.flattenSpans;B==null&&(B=o.options.flattenSpans);var et,it=0,Ct=null,St=new bn(a,o.options.tabSize,c),Vt=o.options.addModeClass&&[null];for(a==""&&So(Co(u,c.state),_);!St.eol();){if(St.pos>o.options.maxHighlightLength?(B=!1,I&&er(o,a,c,St.pos),St.pos=a.length,et=null):et=So(Or(u,St,c.state,Vt),_),Vt){var zt=Vt[0].name;zt&&(et="m-"+(et?zt+" "+et:zt))}if(!B||Ct!=et){for(;it<St.start;)p(it=Math.min(St.start,it+5e3),Ct);Ct=et}St.start=St.pos}for(;it<St.pos;){var Kt=Math.min(St.pos,it+5e3);p(Kt,Ct),it=Kt}}function Wa(o,a,u){for(var c,p,_=o.doc,I=u?-1:a-(o.doc.mode.innerMode?1e3:100),B=a;B>I;--B){if(B<=_.first)return _.first;var et=je(_,B-1),it=et.stateAfter;if(it&&(!u||B+(it instanceof Ko?it.lookAhead:0)<=_.modeFrontier))return B;var Ct=Ht(et.text,null,o.options.tabSize);(p==null||c>Ct)&&(p=B-1,c=Ct)}return p}function Si(o,a){if(o.modeFrontier=Math.min(o.modeFrontier,a),!(o.highlightFrontier<a-10)){for(var u=o.first,c=a-1;c>u;c--){var p=je(o,c).stateAfter;if(p&&(!(p instanceof Ko)||c+p.lookAhead<a)){u=c+1;break}}o.highlightFrontier=Math.min(o.highlightFrontier,u)}}var Oi=!1,kr=!1;function ss(){Oi=!0}function as(){kr=!0}function Wn(o,a,u){this.marker=o,this.from=a,this.to=u}function No(o,a){if(o)for(var u=0;u<o.length;++u){var c=o[u];if(c.marker==a)return c}}function Ys(o,a){for(var u,c=0;c<o.length;++c)o[c]!=a&&(u||(u=[])).push(o[c]);return u}function ki(o,a,u){var c=u&&window.WeakSet&&(u.markedSpans||(u.markedSpans=new WeakSet));c&&o.markedSpans&&c.has(o.markedSpans)?o.markedSpans.push(a):(o.markedSpans=o.markedSpans?o.markedSpans.concat([a]):[a],c&&c.add(o.markedSpans)),a.marker.attachLine(o)}function oo(o,a,u){var c;if(o)for(var p=0;p<o.length;++p){var _=o[p],I=_.marker;if(_.from==null||(I.inclusiveLeft?_.from<=a:_.from<a)||_.from==a&&I.type=="bookmark"&&(!u||!_.marker.insertLeft)){var B=_.to==null||(I.inclusiveRight?_.to>=a:_.to>a);(c||(c=[])).push(new Wn(I,_.from,B?null:_.to))}}return c}function Ks(o,a,u){var c;if(o)for(var p=0;p<o.length;++p){var _=o[p],I=_.marker;if(_.to==null||(I.inclusiveRight?_.to>=a:_.to>a)||_.from==a&&I.type=="bookmark"&&(!u||_.marker.insertLeft)){var B=_.from==null||(I.inclusiveLeft?_.from<=a:_.from<a);(c||(c=[])).push(new Wn(I,B?null:_.from-a,_.to==null?null:_.to-a))}}return c}function Ro(o,a){if(a.full)return null;var u=go(o,a.from.line)&&je(o,a.from.line).markedSpans,c=go(o,a.to.line)&&je(o,a.to.line).markedSpans;if(!u&&!c)return null;var p=a.from.ch,_=a.to.ch,I=Wt(a.from,a.to)==0,B=oo(u,p,I),et=Ks(c,_,I),it=a.text.length==1,Ct=Nt(a.text).length+(it?p:0);if(B)for(var St=0;St<B.length;++St){var Vt=B[St];if(Vt.to==null){var zt=No(et,Vt.marker);zt?it&&(Vt.to=zt.to==null?null:zt.to+Ct):Vt.to=p}}if(et)for(var Kt=0;Kt<et.length;++Kt){var ie=et[Kt];ie.to!=null&&(ie.to+=Ct),ie.from==null?No(B,ie.marker)||(ie.from=Ct,it&&(B||(B=[])).push(ie)):(ie.from+=Ct,it&&(B||(B=[])).push(ie))}B&&(B=Fo(B)),et&&et!=B&&(et=Fo(et));var he=[B];if(!it){var we,Ce=a.text.length-2;if(Ce>0&&B)for(var me=0;me<B.length;++me)B[me].to==null&&(we||(we=[])).push(new Wn(B[me].marker,null,null));for(var Ae=0;Ae<Ce;++Ae)he.push(we);he.push(et)}return he}function Fo(o){for(var a=0;a<o.length;++a){var u=o[a];u.from!=null&&u.from==u.to&&u.marker.clearWhenEmpty!==!1&&o.splice(a--,1)}return o.length?o:null}function $a(o,a,u){var c=null;if(o.iter(a.line,u.line+1,function(zt){if(zt.markedSpans)for(var Kt=0;Kt<zt.markedSpans.length;++Kt){var ie=zt.markedSpans[Kt].marker;!ie.readOnly||c&&re(c,ie)!=-1||(c||(c=[])).push(ie)}}),!c)return null;for(var p=[{from:a,to:u}],_=0;_<c.length;++_)for(var I=c[_],B=I.find(0),et=0;et<p.length;++et){var it=p[et];if(!(Wt(it.to,B.from)<0||Wt(it.from,B.to)>0)){var Ct=[et,1],St=Wt(it.from,B.from),Vt=Wt(it.to,B.to);(St<0||!I.inclusiveLeft&&!St)&&Ct.push({from:it.from,to:B.from}),(Vt>0||!I.inclusiveRight&&!Vt)&&Ct.push({from:B.to,to:it.to}),p.splice.apply(p,Ct),et+=Ct.length-3}}return p}function Qo(o){var a=o.markedSpans;if(a){for(var u=0;u<a.length;++u)a[u].marker.detachLine(o);o.markedSpans=null}}function Xs(o,a){if(a){for(var u=0;u<a.length;++u)a[u].marker.attachLine(o);o.markedSpans=a}}function ir(o){return o.inclusiveLeft?-1:0}function Nr(o){return o.inclusiveRight?1:0}function Xe(o,a){var u=o.lines.length-a.lines.length;if(u!=0)return u;var c=o.find(),p=a.find(),_=Wt(c.from,p.from)||ir(o)-ir(a);if(_)return-_;var I=Wt(c.to,p.to)||Nr(o)-Nr(a);return I||a.id-o.id}function Vn(o,a){var u,c=kr&&o.markedSpans;if(c)for(var p=void 0,_=0;_<c.length;++_)(p=c[_]).marker.collapsed&&(a?p.from:p.to)==null&&(!u||Xe(u,p.marker)<0)&&(u=p.marker);return u}function ti(o){return Vn(o,!0)}function sr(o){return Vn(o,!1)}function Vo(o,a){var u,c=kr&&o.markedSpans;if(c)for(var p=0;p<c.length;++p){var _=c[p];_.marker.collapsed&&(_.from==null||_.from<a)&&(_.to==null||_.to>a)&&(!u||Xe(u,_.marker)<0)&&(u=_.marker)}return u}function Gn(o,a,u,c,p){var _=je(o,a),I=kr&&_.markedSpans;if(I)for(var B=0;B<I.length;++B){var et=I[B];if(et.marker.collapsed){var it=et.marker.find(0),Ct=Wt(it.from,u)||ir(et.marker)-ir(p),St=Wt(it.to,c)||Nr(et.marker)-Nr(p);if(!(Ct>=0&&St<=0||Ct<=0&&St>=0)&&(Ct<=0&&(et.marker.inclusiveRight&&p.inclusiveLeft?Wt(it.to,u)>=0:Wt(it.to,u)>0)||Ct>=0&&(et.marker.inclusiveRight&&p.inclusiveLeft?Wt(it.from,c)<=0:Wt(it.from,c)<0)))return!0}}}function Cn(o){for(var a;a=ti(o);)o=a.find(-1,!0).line;return o}function hr(o){for(var a;a=sr(o);)o=a.find(1,!0).line;return o}function Ti(o){for(var a,u;a=sr(o);)o=a.find(1,!0).line,(u||(u=[])).push(o);return u}function Oo(o,a){var u=je(o,a),c=Cn(u);return u==c?a:rn(c)}function Js(o,a){if(a>o.lastLine())return a;var u,c=je(o,a);if(!Sn(o,c))return a;for(;u=sr(c);)c=u.find(1,!0).line;return rn(c)+1}function Sn(o,a){var u=kr&&a.markedSpans;if(u){for(var c=void 0,p=0;p<u.length;++p)if((c=u[p]).marker.collapsed&&(c.from==null||!c.marker.widgetNode&&c.from==0&&c.marker.inclusiveLeft&&ls(o,a,c)))return!0}}function ls(o,a,u){if(u.to==null){var c=u.marker.find(1,!0);return ls(o,c.line,No(c.line.markedSpans,u.marker))}if(u.marker.inclusiveRight&&u.to==a.text.length)return!0;for(var p=void 0,_=0;_<a.markedSpans.length;++_)if((p=a.markedSpans[_]).marker.collapsed&&!p.marker.widgetNode&&p.from==u.to&&(p.to==null||p.to!=u.from)&&(p.marker.inclusiveLeft||u.marker.inclusiveRight)&&ls(o,a,p))return!0}function Rr(o){for(var a=0,u=(o=Cn(o)).parent,c=0;c<u.lines.length;++c){var p=u.lines[c];if(p==o)break;a+=p.height}for(var _=u.parent;_;_=(u=_).parent)for(var I=0;I<_.children.length;++I){var B=_.children[I];if(B==u)break;a+=B.height}return a}function Ho(o){if(o.height==0)return 0;for(var a,u=o.text.length,c=o;a=ti(c);){var p=a.find(0,!0);c=p.from.line,u+=p.from.ch-p.to.ch}for(c=o;a=sr(c);){var _=a.find(0,!0);u-=c.text.length-_.from.ch,u+=(c=_.to.line).text.length-_.to.ch}return u}function Ei(o){var a=o.display,u=o.doc;a.maxLine=je(u,u.first),a.maxLineLength=Ho(a.maxLine),a.maxLineChanged=!0,u.iter(function(c){var p=Ho(c);p>a.maxLineLength&&(a.maxLineLength=p,a.maxLine=c)})}var vo=function(o,a,u){this.text=o,Xs(this,a),this.height=u?u(this):1};function Ga(o,a,u,c){o.text=a,o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null),o.order!=null&&(o.order=null),Qo(o),Xs(o,u);var p=c?c(o):1;p!=o.height&&Un(o,p)}function cs(o){o.parent=null,Qo(o)}vo.prototype.lineNo=function(){return rn(this)},Ke(vo);var Pi={},us={};function Qs(o,a){if(!o||/^\s*$/.test(o))return null;var u=a.addModeClass?us:Pi;return u[o]||(u[o]=o.replace(/\S+/g,"cm-$&"))}function ta(o,a){var u=Y("span",null,null,v?"padding-right: .1px":null),c={pre:Y("pre",[u],"CodeMirror-line"),content:u,col:0,pos:0,cm:o,trailingSpace:!1,splitSpaces:o.getOption("lineWrapping")};a.measure={};for(var p=0;p<=(a.rest?a.rest.length:0);p++){var _=p?a.rest[p-1]:a.line,I=void 0;c.pos=0,c.addToken=qa,Yo(o.display.measure)&&(I=ke(_,o.doc.direction))&&(c.addToken=ps(c.addToken,I)),c.map=[],yo(_,c,Xo(o,_,a!=o.display.externalMeasured&&rn(_))),_.styleClasses&&(_.styleClasses.bgClass&&(c.bgClass=At(_.styleClasses.bgClass,c.bgClass||"")),_.styleClasses.textClass&&(c.textClass=At(_.styleClasses.textClass,c.textClass||""))),c.map.length==0&&c.map.push(0,0,c.content.appendChild(or(o.display.measure))),p==0?(a.measure.map=c.map,a.measure.cache={}):((a.measure.maps||(a.measure.maps=[])).push(c.map),(a.measure.caches||(a.measure.caches=[])).push({}))}if(v){var B=c.content.lastChild;(/\bcm-tab\b/.test(B.className)||B.querySelector&&B.querySelector(".cm-tab"))&&(c.content.className="cm-tab-wrap-hack")}return le(o,"renderLine",o,a.line,c.pre),c.pre.className&&(c.textClass=At(c.pre.className,c.textClass||"")),c}function Ai(o){var a=H("span","•","cm-invalidchar");return a.title="\\u"+o.charCodeAt(0).toString(16),a.setAttribute("aria-label",a.title),a}function qa(o,a,u,c,p,_,I){if(a){var B,et=o.splitSpaces?ea(a,o.trailingSpace):a,it=o.cm.state.specialChars,Ct=!1;if(it.test(a)){B=document.createDocumentFragment();for(var St=0;;){it.lastIndex=St;var Vt=it.exec(a),zt=Vt?Vt.index-St:a.length-St;if(zt){var Kt=document.createTextNode(et.slice(St,St+zt));O&&h<9?B.appendChild(H("span",[Kt])):B.appendChild(Kt),o.map.push(o.pos,o.pos+zt,Kt),o.col+=zt,o.pos+=zt}if(!Vt)break;St+=zt+1;var ie=void 0;if(Vt[0]=="	"){var he=o.cm.options.tabSize,we=he-o.col%he;(ie=B.appendChild(H("span",Gt(we),"cm-tab"))).setAttribute("role","presentation"),ie.setAttribute("cm-text","	"),o.col+=we}else Vt[0]=="\r"||Vt[0]==`
`?((ie=B.appendChild(H("span",Vt[0]=="\r"?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",Vt[0]),o.col+=1):((ie=o.cm.options.specialCharPlaceholder(Vt[0])).setAttribute("cm-text",Vt[0]),O&&h<9?B.appendChild(H("span",[ie])):B.appendChild(ie),o.col+=1);o.map.push(o.pos,o.pos+1,ie),o.pos++}}else o.col+=a.length,B=document.createTextNode(et),o.map.push(o.pos,o.pos+a.length,B),O&&h<9&&(Ct=!0),o.pos+=a.length;if(o.trailingSpace=et.charCodeAt(a.length-1)==32,u||c||p||Ct||_||I){var Ce=u||"";c&&(Ce+=c),p&&(Ce+=p);var me=H("span",[B],Ce,_);if(I)for(var Ae in I)I.hasOwnProperty(Ae)&&Ae!="style"&&Ae!="class"&&me.setAttribute(Ae,I[Ae]);return o.content.appendChild(me)}o.content.appendChild(B)}}function ea(o,a){if(o.length>1&&!/  /.test(o))return o;for(var u=a,c="",p=0;p<o.length;p++){var _=o.charAt(p);_!=" "||!u||p!=o.length-1&&o.charCodeAt(p+1)!=32||(_=" "),c+=_,u=_==" "}return c}function ps(o,a){return function(u,c,p,_,I,B,et){p=p?p+" cm-force-border":"cm-force-border";for(var it=u.pos,Ct=it+c.length;;){for(var St=void 0,Vt=0;Vt<a.length&&!((St=a[Vt]).to>it&&St.from<=it);Vt++);if(St.to>=Ct)return o(u,c,p,_,I,B,et);o(u,c.slice(0,St.to-it),p,_,null,B,et),_=null,c=c.slice(St.to-it),it=St.to}}}function fs(o,a,u,c){var p=!c&&u.widgetNode;p&&o.map.push(o.pos,o.pos+a,p),!c&&o.cm.display.input.needsContentAttribute&&(p||(p=o.content.appendChild(document.createElement("span"))),p.setAttribute("cm-marker",u.id)),p&&(o.cm.display.input.setUneditable(p),o.content.appendChild(p)),o.pos+=a,o.trailingSpace=!1}function yo(o,a,u){var c=o.markedSpans,p=o.text,_=0;if(c)for(var I,B,et,it,Ct,St,Vt,zt=p.length,Kt=0,ie=1,he="",we=0;;){if(we==Kt){et=it=Ct=B="",Vt=null,St=null,we=1/0;for(var Ce=[],me=void 0,Ae=0;Ae<c.length;++Ae){var Ee=c[Ae],Ie=Ee.marker;if(Ie.type=="bookmark"&&Ee.from==Kt&&Ie.widgetNode)Ce.push(Ie);else if(Ee.from<=Kt&&(Ee.to==null||Ee.to>Kt||Ie.collapsed&&Ee.to==Kt&&Ee.from==Kt)){if(Ee.to!=null&&Ee.to!=Kt&&we>Ee.to&&(we=Ee.to,it=""),Ie.className&&(et+=" "+Ie.className),Ie.css&&(B=(B?B+";":"")+Ie.css),Ie.startStyle&&Ee.from==Kt&&(Ct+=" "+Ie.startStyle),Ie.endStyle&&Ee.to==we&&(me||(me=[])).push(Ie.endStyle,Ee.to),Ie.title&&((Vt||(Vt={})).title=Ie.title),Ie.attributes)for(var vn in Ie.attributes)(Vt||(Vt={}))[vn]=Ie.attributes[vn];Ie.collapsed&&(!St||Xe(St.marker,Ie)<0)&&(St=Ee)}else Ee.from>Kt&&we>Ee.from&&(we=Ee.from)}if(me)for(var gn=0;gn<me.length;gn+=2)me[gn+1]==we&&(it+=" "+me[gn]);if(!St||St.from==Kt)for(var Hr=0;Hr<Ce.length;++Hr)fs(a,0,Ce[Hr]);if(St&&(St.from||0)==Kt){if(fs(a,(St.to==null?zt+1:St.to)-Kt,St.marker,St.from==null),St.to==null)return;St.to==Kt&&(St=!1)}}if(Kt>=zt)break;for(var _n=Math.min(zt,we);;){if(he){var uo=Kt+he.length;if(!St){var zr=uo>_n?he.slice(0,_n-Kt):he;a.addToken(a,zr,I?I+et:et,Ct,Kt+zr.length==we?it:"",B,Vt)}if(uo>=_n){he=he.slice(_n-Kt),Kt=_n;break}Kt=uo,Ct=""}he=p.slice(_,_=u[ie++]),I=Qs(u[ie++],a.cm.options)}}else for(var Mn=1;Mn<u.length;Mn+=2)a.addToken(a,p.slice(_,_=u[Mn]),Qs(u[Mn+1],a.cm.options))}function io(o,a,u){this.line=a,this.rest=Ti(a),this.size=this.rest?rn(Nt(this.rest))-u+1:1,this.node=this.text=null,this.hidden=Sn(o,a)}function ji(o,a,u){for(var c,p=[],_=a;_<u;_=c){var I=new io(o.doc,je(o.doc,_),_);c=_+I.size,p.push(I)}return p}var so=null;function ds(o){so?so.ops.push(o):o.ownsGroup=so={ops:[o],delayedCallbacks:[]}}function na(o){var a=o.delayedCallbacks,u=0;do{for(;u<a.length;u++)a[u].call(null);for(var c=0;c<o.ops.length;c++){var p=o.ops[c];if(p.cursorActivityHandlers)for(;p.cursorActivityCalled<p.cursorActivityHandlers.length;)p.cursorActivityHandlers[p.cursorActivityCalled++].call(null,p.cm)}}while(u<a.length)}function Za(o,a){var u=o.ownsGroup;if(u)try{na(u)}finally{so=null,a(u)}}var Fr=null;function Pn(o,a){var u=Rt(o,a);if(u.length){var c,p=Array.prototype.slice.call(arguments,2);so?c=so.delayedCallbacks:Fr?c=Fr:(c=Fr=[],setTimeout(Ya,0));for(var _=function(B){c.push(function(){return u[B].apply(null,p)})},I=0;I<u.length;++I)_(I)}}function Ya(){var o=Fr;Fr=null;for(var a=0;a<o.length;++a)o[a]()}function ei(o,a,u,c){for(var p=0;p<a.changes.length;p++){var _=a.changes[p];_=="text"?Ka(o,a):_=="gutter"?zo(o,a,u,c):_=="class"?Li(o,a):_=="widget"&&hs(o,a,c)}a.changes=null}function ni(o){return o.node==o.text&&(o.node=H("div",null,null,"position: relative"),o.text.parentNode&&o.text.parentNode.replaceChild(o.node,o.text),o.node.appendChild(o.text),O&&h<8&&(o.node.style.zIndex=2)),o.node}function Mi(o,a){var u=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;if(u&&(u+=" CodeMirror-linebackground"),a.background)u?a.background.className=u:(a.background.parentNode.removeChild(a.background),a.background=null);else if(u){var c=ni(a);a.background=c.insertBefore(H("div",null,u),c.firstChild),o.display.input.setUneditable(a.background)}}function ra(o,a){var u=o.display.externalMeasured;return u&&u.line==a.line?(o.display.externalMeasured=null,a.measure=u.measure,u.built):ta(o,a)}function Ka(o,a){var u=a.text.className,c=ra(o,a);a.text==a.node&&(a.node=c.pre),a.text.parentNode.replaceChild(c.pre,a.text),a.text=c.pre,c.bgClass!=a.bgClass||c.textClass!=a.textClass?(a.bgClass=c.bgClass,a.textClass=c.textClass,Li(o,a)):u&&(a.text.className=u)}function Li(o,a){Mi(o,a),a.line.wrapClass?ni(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");var u=a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass;a.text.className=u||""}function zo(o,a,u,c){if(a.gutter&&(a.node.removeChild(a.gutter),a.gutter=null),a.gutterBackground&&(a.node.removeChild(a.gutterBackground),a.gutterBackground=null),a.line.gutterClass){var p=ni(a);a.gutterBackground=H("div",null,"CodeMirror-gutter-background "+a.line.gutterClass,"left: "+(o.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px; width: "+c.gutterTotalWidth+"px"),o.display.input.setUneditable(a.gutterBackground),p.insertBefore(a.gutterBackground,a.text)}var _=a.line.gutterMarkers;if(o.options.lineNumbers||_){var I=ni(a),B=a.gutter=H("div",null,"CodeMirror-gutter-wrapper","left: "+(o.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px");if(B.setAttribute("aria-hidden","true"),o.display.input.setUneditable(B),I.insertBefore(B,a.text),a.line.gutterClass&&(B.className+=" "+a.line.gutterClass),!o.options.lineNumbers||_&&_["CodeMirror-linenumbers"]||(a.lineNumber=B.appendChild(H("div",at(o.options,u),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+c.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+o.display.lineNumInnerWidth+"px"))),_)for(var et=0;et<o.display.gutterSpecs.length;++et){var it=o.display.gutterSpecs[et].className,Ct=_.hasOwnProperty(it)&&_[it];Ct&&B.appendChild(H("div",[Ct],"CodeMirror-gutter-elt","left: "+c.gutterLeft[it]+"px; width: "+c.gutterWidth[it]+"px"))}}}function hs(o,a,u){a.alignable&&(a.alignable=null);for(var c=P("CodeMirror-linewidget"),p=a.node.firstChild,_=void 0;p;p=_)_=p.nextSibling,c.test(p.className)&&a.node.removeChild(p);Xa(o,a,u)}function oa(o,a,u,c){var p=ra(o,a);return a.text=a.node=p.pre,p.bgClass&&(a.bgClass=p.bgClass),p.textClass&&(a.textClass=p.textClass),Li(o,a),zo(o,a,u,c),Xa(o,a,c),a.node}function Xa(o,a,u){if(Q(o,a.line,a,u,!0),a.rest)for(var c=0;c<a.rest.length;c++)Q(o,a.rest[c],a,u,!1)}function Q(o,a,u,c,p){if(a.widgets)for(var _=ni(u),I=0,B=a.widgets;I<B.length;++I){var et=B[I],it=H("div",[et.node],"CodeMirror-linewidget"+(et.className?" "+et.className:""));et.handleMouseEvents||it.setAttribute("cm-ignore-events","true"),lt(et,it,u,c),o.display.input.setUneditable(it),p&&et.above?_.insertBefore(it,u.gutter||u.text):_.appendChild(it),Pn(et,"redraw")}}function lt(o,a,u,c){if(o.noHScroll){(u.alignable||(u.alignable=[])).push(a);var p=c.wrapperWidth;a.style.left=c.fixedPos+"px",o.coverGutter||(p-=c.gutterTotalWidth,a.style.paddingLeft=c.gutterTotalWidth+"px"),a.style.width=p+"px"}o.coverGutter&&(a.style.zIndex=5,a.style.position="relative",o.noHScroll||(a.style.marginLeft=-c.gutterTotalWidth+"px"))}function kt(o){if(o.height!=null)return o.height;var a=o.doc.cm;if(!a)return 0;if(!dt(document.body,o.node)){var u="position: relative;";o.coverGutter&&(u+="margin-left: -"+a.display.gutters.offsetWidth+"px;"),o.noHScroll&&(u+="width: "+a.display.wrapper.clientWidth+"px;"),rt(a.display.measure,H("div",[o.node],null,u))}return o.height=o.node.parentNode.offsetHeight}function Tt(o,a){for(var u=$r(a);u!=o.wrapper;u=u.parentNode)if(!u||u.nodeType==1&&u.getAttribute("cm-ignore-events")=="true"||u.parentNode==o.sizer&&u!=o.mover)return!0}function Bt(o){return o.lineSpace.offsetTop}function Ft(o){return o.mover.offsetHeight-o.lineSpace.offsetHeight}function oe(o){if(o.cachedPaddingH)return o.cachedPaddingH;var a=rt(o.measure,H("pre","x","CodeMirror-line-like")),u=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,c={left:parseInt(u.paddingLeft),right:parseInt(u.paddingRight)};return isNaN(c.left)||isNaN(c.right)||(o.cachedPaddingH=c),c}function de(o){return ce-o.display.nativeBarWidth}function Ne(o){return o.display.scroller.clientWidth-de(o)-o.display.barWidth}function Ze(o){return o.display.scroller.clientHeight-de(o)-o.display.barHeight}function dn(o,a,u){var c=o.options.lineWrapping,p=c&&Ne(o);if(!a.measure.heights||c&&a.measure.width!=p){var _=a.measure.heights=[];if(c){a.measure.width=p;for(var I=a.text.firstChild.getClientRects(),B=0;B<I.length-1;B++){var et=I[B],it=I[B+1];Math.abs(et.bottom-it.bottom)>2&&_.push((et.bottom+it.top)/2-u.top)}}_.push(u.bottom-u.top)}}function qn(o,a,u){if(o.line==a)return{map:o.measure.map,cache:o.measure.cache};if(o.rest){for(var c=0;c<o.rest.length;c++)if(o.rest[c]==a)return{map:o.measure.maps[c],cache:o.measure.caches[c]};for(var p=0;p<o.rest.length;p++)if(rn(o.rest[p])>u)return{map:o.measure.maps[p],cache:o.measure.caches[p],before:!0}}}function Tr(o,a){var u=rn(a=Cn(a)),c=o.display.externalMeasured=new io(o.doc,a,u);c.lineN=u;var p=c.built=ta(o,c);return c.text=p.pre,rt(o.display.lineMeasure,p.pre),c}function ko(o,a,u,c){return To(o,Bo(o,a),u,c)}function Hl(o,a){if(a>=o.display.viewFrom&&a<o.display.viewTo)return o.display.view[Ni(o,a)];var u=o.display.externalMeasured;return u&&a>=u.lineN&&a<u.lineN+u.size?u:void 0}function Bo(o,a){var u=rn(a),c=Hl(o,u);c&&!c.text?c=null:c&&c.changes&&(ei(o,c,u,il(o)),o.curOp.forceUpdate=!0),c||(c=Tr(o,a));var p=qn(c,a,u);return{line:a,view:c,rect:null,map:p.map,cache:p.cache,before:p.before,hasHeights:!1}}function To(o,a,u,c,p){a.before&&(u=-1);var _,I=u+(c||"");return a.cache.hasOwnProperty(I)?_=a.cache[I]:(a.rect||(a.rect=a.view.text.getBoundingClientRect()),a.hasHeights||(dn(o,a.view,a.rect),a.hasHeights=!0),(_=Sp(o,a,u,c)).bogus||(a.cache[I]=_)),{left:_.left,right:_.right,top:p?_.rtop:_.top,bottom:p?_.rbottom:_.bottom}}var Di,ia={left:0,right:0,top:0,bottom:0};function Ja(o,a,u){for(var c,p,_,I,B,et,it=0;it<o.length;it+=3)if(B=o[it],et=o[it+1],a<B?(p=0,_=1,I="left"):a<et?_=(p=a-B)+1:(it==o.length-3||a==et&&o[it+3]>a)&&(p=(_=et-B)-1,a>=et&&(I="right")),p!=null){if(c=o[it+2],B==et&&u==(c.insertLeft?"left":"right")&&(I=u),u=="left"&&p==0)for(;it&&o[it-2]==o[it-3]&&o[it-1].insertLeft;)c=o[(it-=3)+2],I="left";if(u=="right"&&p==et-B)for(;it<o.length-3&&o[it+3]==o[it+4]&&!o[it+5].insertLeft;)c=o[(it+=3)+2],I="right";break}return{node:c,start:p,end:_,collapse:I,coverStart:B,coverEnd:et}}function Cp(o,a){var u=ia;if(a=="left")for(var c=0;c<o.length&&(u=o[c]).left==u.right;c++);else for(var p=o.length-1;p>=0&&(u=o[p]).left==u.right;p--);return u}function Sp(o,a,u,c){var p,_=Ja(a.map,u,c),I=_.node,B=_.start,et=_.end,it=_.collapse;if(I.nodeType==3){for(var Ct=0;Ct<4;Ct++){for(;B&&It(a.line.text.charAt(_.coverStart+B));)--B;for(;_.coverStart+et<_.coverEnd&&It(a.line.text.charAt(_.coverStart+et));)++et;if((p=O&&h<9&&B==0&&et==_.coverEnd-_.coverStart?I.parentNode.getBoundingClientRect():Cp(z(I,B,et).getClientRects(),c)).left||p.right||B==0)break;et=B,B-=1,it="right"}O&&h<11&&(p=Qa(o.display.measure,p))}else{var St;B>0&&(it=c="right"),p=o.options.lineWrapping&&(St=I.getClientRects()).length>1?St[c=="right"?St.length-1:0]:I.getBoundingClientRect()}if(O&&h<9&&!B&&(!p||!p.left&&!p.right)){var Vt=I.parentNode.getClientRects()[0];p=Vt?{left:Vt.left,right:Vt.left+vs(o.display),top:Vt.top,bottom:Vt.bottom}:ia}for(var zt=p.top-a.rect.top,Kt=p.bottom-a.rect.top,ie=(zt+Kt)/2,he=a.view.measure.heights,we=0;we<he.length-1&&!(ie<he[we]);we++);var Ce=we?he[we-1]:0,me=he[we],Ae={left:(it=="right"?p.right:p.left)-a.rect.left,right:(it=="left"?p.left:p.right)-a.rect.left,top:Ce,bottom:me};return p.left||p.right||(Ae.bogus=!0),o.options.singleCursorHeightPerLine||(Ae.rtop=zt,Ae.rbottom=Kt),Ae}function Qa(o,a){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Cr(o))return a;var u=screen.logicalXDPI/screen.deviceXDPI,c=screen.logicalYDPI/screen.deviceYDPI;return{left:a.left*u,right:a.right*u,top:a.top*c,bottom:a.bottom*c}}function tl(o){if(o.measure&&(o.measure.cache={},o.measure.heights=null,o.rest))for(var a=0;a<o.rest.length;a++)o.measure.caches[a]={}}function Bc(o){o.display.externalMeasure=null,q(o.display.lineMeasure);for(var a=0;a<o.display.view.length;a++)tl(o.display.view[a])}function sa(o){Bc(o),o.display.cachedCharWidth=o.display.cachedTextHeight=o.display.cachedPaddingH=null,o.options.lineWrapping||(o.display.maxLineChanged=!0),o.display.lineNumChars=null}function aa(o){return g&&D?-(o.body.getBoundingClientRect().left-parseInt(getComputedStyle(o.body).marginLeft)):o.defaultView.pageXOffset||(o.documentElement||o.body).scrollLeft}function zl(o){return g&&D?-(o.body.getBoundingClientRect().top-parseInt(getComputedStyle(o.body).marginTop)):o.defaultView.pageYOffset||(o.documentElement||o.body).scrollTop}function Bl(o){var a=Cn(o).widgets,u=0;if(a)for(var c=0;c<a.length;++c)a[c].above&&(u+=kt(a[c]));return u}function el(o,a,u,c,p){if(!p){var _=Bl(a);u.top+=_,u.bottom+=_}if(c=="line")return u;c||(c="local");var I=Rr(a);if(c=="local"?I+=Bt(o.display):I-=o.display.viewOffset,c=="page"||c=="window"){var B=o.display.lineSpace.getBoundingClientRect();I+=B.top+(c=="window"?0:zl(mt(o)));var et=B.left+(c=="window"?0:aa(mt(o)));u.left+=et,u.right+=et}return u.top+=I,u.bottom+=I,u}function la(o,a,u){if(u=="div")return a;var c=a.left,p=a.top;if(u=="page")c-=aa(mt(o)),p-=zl(mt(o));else if(u=="local"||!u){var _=o.display.sizer.getBoundingClientRect();c+=_.left,p+=_.top}var I=o.display.lineSpace.getBoundingClientRect();return{left:c-I.left,top:p-I.top}}function gs(o,a,u,c,p){return c||(c=je(o.doc,a.line)),el(o,c,ko(o,c,a.ch,p),u)}function gr(o,a,u,c,p,_){function I(Kt,ie){var he=To(o,p,Kt,ie?"right":"left",_);return ie?he.left=he.right:he.right=he.left,el(o,c,he,u)}c=c||je(o.doc,a.line),p||(p=Bo(o,c));var B=ke(c,o.doc.direction),et=a.ch,it=a.sticky;if(et>=c.text.length?(et=c.text.length,it="before"):et<=0&&(et=0,it="after"),!B)return I(it=="before"?et-1:et,it=="before");function Ct(Kt,ie,he){return I(he?Kt-1:Kt,B[ie].level==1!=he)}var St=$e(B,et,it),Vt=Ve,zt=Ct(et,St,it=="before");return Vt!=null&&(zt.other=Ct(et,Vt,it!="before")),zt}function Ii(o,a){var u=0;a=Pe(o.doc,a),o.options.lineWrapping||(u=vs(o.display)*a.ch);var c=je(o.doc,a.line),p=Rr(c)+Bt(o.display);return{left:u,right:u,top:p,bottom:p+c.height}}function ri(o,a,u,c,p){var _=ut(o,a,u);return _.xRel=p,c&&(_.outside=c),_}function nl(o,a,u){var c=o.doc;if((u+=o.display.viewOffset)<0)return ri(c.first,0,null,-1,-1);var p=no(c,u),_=c.first+c.size-1;if(p>_)return ri(c.first+c.size-1,je(c,_).text.length,null,1,1);a<0&&(a=0);for(var I=je(c,p);;){var B=Op(o,I,p,a,u),et=Vo(I,B.ch+(B.xRel>0||B.outside>0?1:0));if(!et)return B;var it=et.find(1);if(it.line==p)return it;I=je(c,p=it.line)}}function rl(o,a,u,c){c-=Bl(a);var p=a.text.length,_=pe(function(I){return To(o,u,I-1).bottom<=c},p,0);return{begin:_,end:p=pe(function(I){return To(o,u,I).top>c},_,p)}}function Uc(o,a,u,c){return u||(u=Bo(o,a)),rl(o,a,u,el(o,a,To(o,u,c),"line").top)}function Ul(o,a,u,c){return!(o.bottom<=u)&&(o.top>u||(c?o.left:o.right)>a)}function Op(o,a,u,c,p){p-=Rr(a);var _=Bo(o,a),I=Bl(a),B=0,et=a.text.length,it=!0,Ct=ke(a,o.doc.direction);if(Ct){var St=(o.options.lineWrapping?kp:ol)(o,a,u,_,Ct,c,p);B=(it=St.level!=1)?St.from:St.to-1,et=it?St.to:St.from-1}var Vt,zt,Kt=null,ie=null,he=pe(function(Ee){var Ie=To(o,_,Ee);return Ie.top+=I,Ie.bottom+=I,!!Ul(Ie,c,p,!1)&&(Ie.top<=p&&Ie.left<=c&&(Kt=Ee,ie=Ie),!0)},B,et),we=!1;if(ie){var Ce=c-ie.left<ie.right-c,me=Ce==it;he=Kt+(me?0:1),zt=me?"after":"before",Vt=Ce?ie.left:ie.right}else{it||he!=et&&he!=B||he++,zt=he==0?"after":he==a.text.length?"before":To(o,_,he-(it?1:0)).bottom+I<=p==it?"after":"before";var Ae=gr(o,ut(u,he,zt),"line",a,_);Vt=Ae.left,we=p<Ae.top?-1:p>=Ae.bottom?1:0}return ri(u,he=Ut(a.text,he,1),zt,we,c-Vt)}function ol(o,a,u,c,p,_,I){var B=pe(function(St){var Vt=p[St],zt=Vt.level!=1;return Ul(gr(o,ut(u,zt?Vt.to:Vt.from,zt?"before":"after"),"line",a,c),_,I,!0)},0,p.length-1),et=p[B];if(B>0){var it=et.level!=1,Ct=gr(o,ut(u,it?et.from:et.to,it?"after":"before"),"line",a,c);Ul(Ct,_,I,!0)&&Ct.top>I&&(et=p[B-1])}return et}function kp(o,a,u,c,p,_,I){var B=rl(o,a,c,I),et=B.begin,it=B.end;/\s/.test(a.text.charAt(it-1))&&it--;for(var Ct=null,St=null,Vt=0;Vt<p.length;Vt++){var zt=p[Vt];if(!(zt.from>=it||zt.to<=et)){var Kt=To(o,c,zt.level!=1?Math.min(it,zt.to)-1:Math.max(et,zt.from)).right,ie=Kt<_?_-Kt+1e9:Kt-_;(!Ct||St>ie)&&(Ct=zt,St=ie)}}return Ct||(Ct=p[p.length-1]),Ct.from<et&&(Ct={from:et,to:Ct.to,level:Ct.level}),Ct.to>it&&(Ct={from:Ct.from,to:it,level:Ct.level}),Ct}function ms(o){if(o.cachedTextHeight!=null)return o.cachedTextHeight;if(Di==null){Di=H("pre",null,"CodeMirror-line-like");for(var a=0;a<49;++a)Di.appendChild(document.createTextNode("x")),Di.appendChild(H("br"));Di.appendChild(document.createTextNode("x"))}rt(o.measure,Di);var u=Di.offsetHeight/50;return u>3&&(o.cachedTextHeight=u),q(o.measure),u||1}function vs(o){if(o.cachedCharWidth!=null)return o.cachedCharWidth;var a=H("span","xxxxxxxxxx"),u=H("pre",[a],"CodeMirror-line-like");rt(o.measure,u);var c=a.getBoundingClientRect(),p=(c.right-c.left)/10;return p>2&&(o.cachedCharWidth=p),p||10}function il(o){for(var a=o.display,u={},c={},p=a.gutters.clientLeft,_=a.gutters.firstChild,I=0;_;_=_.nextSibling,++I){var B=o.display.gutterSpecs[I].className;u[B]=_.offsetLeft+_.clientLeft+p,c[B]=_.clientWidth}return{fixedPos:Wl(a),gutterTotalWidth:a.gutters.offsetWidth,gutterLeft:u,gutterWidth:c,wrapperWidth:a.wrapper.clientWidth}}function Wl(o){return o.scroller.getBoundingClientRect().left-o.sizer.getBoundingClientRect().left}function Eo(o){var a=ms(o.display),u=o.options.lineWrapping,c=u&&Math.max(5,o.display.scroller.clientWidth/vs(o.display)-3);return function(p){if(Sn(o.doc,p))return 0;var _=0;if(p.widgets)for(var I=0;I<p.widgets.length;I++)p.widgets[I].height&&(_+=p.widgets[I].height);return u?_+(Math.ceil(p.text.length/c)||1)*a:_+a}}function $l(o){var a=o.doc,u=Eo(o);a.iter(function(c){var p=u(c);p!=c.height&&Un(c,p)})}function Tn(o,a,u,c){var p=o.display;if(!u&&$r(a).getAttribute("cm-not-content")=="true")return null;var _,I,B=p.lineSpace.getBoundingClientRect();try{_=a.clientX-B.left,I=a.clientY-B.top}catch{return null}var et,it=nl(o,_,I);if(c&&it.xRel>0&&(et=je(o.doc,it.line).text).length==it.ch){var Ct=Ht(et,et.length,o.options.tabSize)-et.length;it=ut(it.line,Math.max(0,Math.round((_-oe(o.display).left)/vs(o.display))-Ct))}return it}function Ni(o,a){if(a>=o.display.viewTo||(a-=o.display.viewFrom)<0)return null;for(var u=o.display.view,c=0;c<u.length;c++)if((a-=u[c].size)<0)return c}function mr(o,a,u,c){a==null&&(a=o.doc.first),u==null&&(u=o.doc.first+o.doc.size),c||(c=0);var p=o.display;if(c&&u<p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>a)&&(p.updateLineNumbers=a),o.curOp.viewChanged=!0,a>=p.viewTo)kr&&Oo(o.doc,a)<p.viewTo&&ii(o);else if(u<=p.viewFrom)kr&&Js(o.doc,u+c)>p.viewFrom?ii(o):(p.viewFrom+=c,p.viewTo+=c);else if(a<=p.viewFrom&&u>=p.viewTo)ii(o);else if(a<=p.viewFrom){var _=sl(o,u,u+c,1);_?(p.view=p.view.slice(_.index),p.viewFrom=_.lineN,p.viewTo+=c):ii(o)}else if(u>=p.viewTo){var I=sl(o,a,a,-1);I?(p.view=p.view.slice(0,I.index),p.viewTo=I.lineN):ii(o)}else{var B=sl(o,a,a,-1),et=sl(o,u,u+c,1);B&&et?(p.view=p.view.slice(0,B.index).concat(ji(o,B.lineN,et.lineN)).concat(p.view.slice(et.index)),p.viewTo+=c):ii(o)}var it=p.externalMeasured;it&&(u<it.lineN?it.lineN+=c:a<it.lineN+it.size&&(p.externalMeasured=null))}function oi(o,a,u){o.curOp.viewChanged=!0;var c=o.display,p=o.display.externalMeasured;if(p&&a>=p.lineN&&a<p.lineN+p.size&&(c.externalMeasured=null),!(a<c.viewFrom||a>=c.viewTo)){var _=c.view[Ni(o,a)];if(_.node!=null){var I=_.changes||(_.changes=[]);re(I,u)==-1&&I.push(u)}}}function ii(o){o.display.viewFrom=o.display.viewTo=o.doc.first,o.display.view=[],o.display.viewOffset=0}function sl(o,a,u,c){var p,_=Ni(o,a),I=o.display.view;if(!kr||u==o.doc.first+o.doc.size)return{index:_,lineN:u};for(var B=o.display.viewFrom,et=0;et<_;et++)B+=I[et].size;if(B!=a){if(c>0){if(_==I.length-1)return null;p=B+I[_].size-a,_++}else p=B-a;a+=p,u+=p}for(;Oo(o.doc,u)!=u;){if(_==(c<0?0:I.length-1))return null;u+=c*I[_-(c<0?1:0)].size,_+=c}return{index:_,lineN:u}}function Tp(o,a,u){var c=o.display;c.view.length==0||a>=c.viewTo||u<=c.viewFrom?(c.view=ji(o,a,u),c.viewFrom=a):(c.viewFrom>a?c.view=ji(o,a,c.viewFrom).concat(c.view):c.viewFrom<a&&(c.view=c.view.slice(Ni(o,a))),c.viewFrom=a,c.viewTo<u?c.view=c.view.concat(ji(o,c.viewTo,u)):c.viewTo>u&&(c.view=c.view.slice(0,Ni(o,u)))),c.viewTo=u}function Wc(o){for(var a=o.display.view,u=0,c=0;c<a.length;c++){var p=a[c];p.hidden||p.node&&!p.changes||++u}return u}function ca(o){o.display.input.showSelection(o.display.input.prepareSelection())}function ua(o,a){a===void 0&&(a=!0);var u=o.doc,c={},p=c.cursors=document.createDocumentFragment(),_=c.selection=document.createDocumentFragment(),I=o.options.$customCursor;I&&(a=!0);for(var B=0;B<u.sel.ranges.length;B++)if(a||B!=u.sel.primIndex){var et=u.sel.ranges[B];if(!(et.from().line>=o.display.viewTo||et.to().line<o.display.viewFrom)){var it=et.empty();if(I){var Ct=I(o,et);Ct&&Gl(o,Ct,p)}else(it||o.options.showCursorWhenSelecting)&&Gl(o,et.head,p);it||al(o,et,_)}}return c}function Gl(o,a,u){var c=gr(o,a,"div",null,null,!o.options.singleCursorHeightPerLine),p=u.appendChild(H("div"," ","CodeMirror-cursor"));if(p.style.left=c.left+"px",p.style.top=c.top+"px",p.style.height=Math.max(0,c.bottom-c.top)*o.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(o.getWrapperElement().className)){var _=gs(o,a,"div",null,null),I=_.right-_.left;p.style.width=(I>0?I:o.defaultCharWidth())+"px"}if(c.other){var B=u.appendChild(H("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));B.style.display="",B.style.left=c.other.left+"px",B.style.top=c.other.top+"px",B.style.height=.85*(c.other.bottom-c.other.top)+"px"}}function si(o,a){return o.top-a.top||o.left-a.left}function al(o,a,u){var c=o.display,p=o.doc,_=document.createDocumentFragment(),I=oe(o.display),B=I.left,et=Math.max(c.sizerWidth,Ne(o)-c.sizer.offsetLeft)-I.right,it=p.direction=="ltr";function Ct(me,Ae,Ee,Ie){Ae<0&&(Ae=0),Ae=Math.round(Ae),Ie=Math.round(Ie),_.appendChild(H("div",null,"CodeMirror-selected","position: absolute; left: "+me+`px;
                             top: `+Ae+"px; width: "+(Ee??et-me)+`px;
                             height: `+(Ie-Ae)+"px"))}function St(me,Ae,Ee){var Ie,vn,gn=je(p,me),Hr=gn.text.length;function _n(Mn,Pr){return gs(o,ut(me,Mn),"div",gn,Pr)}function uo(Mn,Pr,yr){var Dn=Uc(o,gn,null,Mn),In=Pr=="ltr"==(yr=="after")?"left":"right";return _n(yr=="after"?Dn.begin:Dn.end-(/\s/.test(gn.text.charAt(Dn.end-1))?2:1),In)[In]}var zr=ke(gn,p.direction);return De(zr,Ae||0,Ee??Hr,function(Mn,Pr,yr,Dn){var In=yr=="ltr",On=_n(Mn,In?"left":"right"),br=_n(Pr-1,In?"right":"left"),Zo=Ae==null&&Mn==0,nr=Ee==null&&Pr==Hr,lr=Dn==0,Hn=!zr||Dn==zr.length-1;if(br.top-On.top<=3){var Oc=(it?nr:Zo)&&Hn,jo=(it?Zo:nr)&&lr?B:(In?On:br).left,qi=Oc?et:(In?br:On).right;Ct(jo,On.top,qi-jo,On.bottom)}else{var Zi,wr,Vs,Hs;In?(Zi=it&&Zo&&lr?B:On.left,wr=it?et:uo(Mn,yr,"before"),Vs=it?B:uo(Pr,yr,"after"),Hs=it&&nr&&Hn?et:br.right):(Zi=it?uo(Mn,yr,"before"):B,wr=!it&&Zo&&lr?et:On.right,Vs=!it&&nr&&Hn?B:br.left,Hs=it?uo(Pr,yr,"after"):et),Ct(Zi,On.top,wr-Zi,On.bottom),On.bottom<br.top&&Ct(B,On.bottom,null,br.top),Ct(Vs,br.top,Hs-Vs,br.bottom)}(!Ie||si(On,Ie)<0)&&(Ie=On),si(br,Ie)<0&&(Ie=br),(!vn||si(On,vn)<0)&&(vn=On),si(br,vn)<0&&(vn=br)}),{start:Ie,end:vn}}var Vt=a.from(),zt=a.to();if(Vt.line==zt.line)St(Vt.line,Vt.ch,zt.ch);else{var Kt=je(p,Vt.line),ie=je(p,zt.line),he=Cn(Kt)==Cn(ie),we=St(Vt.line,Vt.ch,he?Kt.text.length+1:null).end,Ce=St(zt.line,he?0:null,zt.ch).start;he&&(we.top<Ce.top-2?(Ct(we.right,we.top,null,we.bottom),Ct(B,Ce.top,Ce.left,Ce.bottom)):Ct(we.right,we.top,Ce.left-we.right,we.bottom)),we.bottom<Ce.top&&Ct(B,we.bottom,null,Ce.top)}u.appendChild(_)}function ys(o){if(o.state.focused){var a=o.display;clearInterval(a.blinker);var u=!0;a.cursorDiv.style.visibility="",o.options.cursorBlinkRate>0?a.blinker=setInterval(function(){o.hasFocus()||Ri(o),a.cursorDiv.style.visibility=(u=!u)?"":"hidden"},o.options.cursorBlinkRate):o.options.cursorBlinkRate<0&&(a.cursorDiv.style.visibility="hidden")}}function $c(o){o.hasFocus()||(o.display.input.focus(),o.state.focused||ql(o))}function ll(o){o.state.delayingBlurEvent=!0,setTimeout(function(){o.state.delayingBlurEvent&&(o.state.delayingBlurEvent=!1,o.state.focused&&Ri(o))},100)}function ql(o,a){o.state.delayingBlurEvent&&!o.state.draggingText&&(o.state.delayingBlurEvent=!1),o.options.readOnly!="nocursor"&&(o.state.focused||(le(o,"focus",o,a),o.state.focused=!0,jt(o.display.wrapper,"CodeMirror-focused"),o.curOp||o.display.selForContextMenu==o.doc.sel||(o.display.input.reset(),v&&setTimeout(function(){return o.display.input.reset(!0)},20)),o.display.input.receivedFocus()),ys(o))}function Ri(o,a){o.state.delayingBlurEvent||(o.state.focused&&(le(o,"blur",o,a),o.state.focused=!1,tt(o.display.wrapper,"CodeMirror-focused")),clearInterval(o.display.blinker),setTimeout(function(){o.state.focused||(o.display.shift=!1)},150))}function cl(o){for(var a=o.display,u=a.lineDiv.offsetTop,c=Math.max(0,a.scroller.getBoundingClientRect().top),p=a.lineDiv.getBoundingClientRect().top,_=0,I=0;I<a.view.length;I++){var B=a.view[I],et=o.options.lineWrapping,it=void 0,Ct=0;if(!B.hidden){if(p+=B.line.height,O&&h<8){var St=B.node.offsetTop+B.node.offsetHeight;it=St-u,u=St}else{var Vt=B.node.getBoundingClientRect();it=Vt.bottom-Vt.top,!et&&B.text.firstChild&&(Ct=B.text.firstChild.getBoundingClientRect().right-Vt.left-1)}var zt=B.line.height-it;if((zt>.005||zt<-.005)&&(p<c&&(_-=zt),Un(B.line,it),Gc(B.line),B.rest))for(var Kt=0;Kt<B.rest.length;Kt++)Gc(B.rest[Kt]);if(Ct>o.display.sizerWidth){var ie=Math.ceil(Ct/vs(o.display));ie>o.display.maxLineLength&&(o.display.maxLineLength=ie,o.display.maxLine=B.line,o.display.maxLineChanged=!0)}}}Math.abs(_)>2&&(a.scroller.scrollTop+=_)}function Gc(o){if(o.widgets)for(var a=0;a<o.widgets.length;++a){var u=o.widgets[a],c=u.node.parentNode;c&&(u.height=c.offsetHeight)}}function ul(o,a,u){var c=u&&u.top!=null?Math.max(0,u.top):o.scroller.scrollTop;c=Math.floor(c-Bt(o));var p=u&&u.bottom!=null?u.bottom:c+o.wrapper.clientHeight,_=no(a,c),I=no(a,p);if(u&&u.ensure){var B=u.ensure.from.line,et=u.ensure.to.line;B<_?(_=B,I=no(a,Rr(je(a,B))+o.wrapper.clientHeight)):Math.min(et,a.lastLine())>=I&&(_=no(a,Rr(je(a,et))-o.wrapper.clientHeight),I=et)}return{from:_,to:Math.max(I,_+1)}}function Ep(o,a){if(!be(o,"scrollCursorIntoView")){var u=o.display,c=u.sizer.getBoundingClientRect(),p=null,_=u.wrapper.ownerDocument;if(a.top+c.top<0?p=!0:a.bottom+c.top>(_.defaultView.innerHeight||_.documentElement.clientHeight)&&(p=!1),p!=null&&!k){var I=H("div","​",null,`position: absolute;
                         top: `+(a.top-u.viewOffset-Bt(o.display))+`px;
                         height: `+(a.bottom-a.top+de(o)+u.barHeight)+`px;
                         left: `+a.left+"px; width: "+Math.max(2,a.right-a.left)+"px;");o.display.lineSpace.appendChild(I),I.scrollIntoView(p),o.display.lineSpace.removeChild(I)}}}function Pp(o,a,u,c){var p;c==null&&(c=0),o.options.lineWrapping||a!=u||(u=a.sticky=="before"?ut(a.line,a.ch+1,"before"):a,a=a.ch?ut(a.line,a.sticky=="before"?a.ch-1:a.ch,"after"):a);for(var _=0;_<5;_++){var I=!1,B=gr(o,a),et=u&&u!=a?gr(o,u):B,it=Zl(o,p={left:Math.min(B.left,et.left),top:Math.min(B.top,et.top)-c,right:Math.max(B.left,et.left),bottom:Math.max(B.bottom,et.bottom)+c}),Ct=o.doc.scrollTop,St=o.doc.scrollLeft;if(it.scrollTop!=null&&(pa(o,it.scrollTop),Math.abs(o.doc.scrollTop-Ct)>1&&(I=!0)),it.scrollLeft!=null&&(Fi(o,it.scrollLeft),Math.abs(o.doc.scrollLeft-St)>1&&(I=!0)),!I)break}return p}function Ap(o,a){var u=Zl(o,a);u.scrollTop!=null&&pa(o,u.scrollTop),u.scrollLeft!=null&&Fi(o,u.scrollLeft)}function Zl(o,a){var u=o.display,c=ms(o.display);a.top<0&&(a.top=0);var p=o.curOp&&o.curOp.scrollTop!=null?o.curOp.scrollTop:u.scroller.scrollTop,_=Ze(o),I={};a.bottom-a.top>_&&(a.bottom=a.top+_);var B=o.doc.height+Ft(u),et=a.top<c,it=a.bottom>B-c;if(a.top<p)I.scrollTop=et?0:a.top;else if(a.bottom>p+_){var Ct=Math.min(a.top,(it?B:a.bottom)-_);Ct!=p&&(I.scrollTop=Ct)}var St=o.options.fixedGutter?0:u.gutters.offsetWidth,Vt=o.curOp&&o.curOp.scrollLeft!=null?o.curOp.scrollLeft:u.scroller.scrollLeft-St,zt=Ne(o)-u.gutters.offsetWidth,Kt=a.right-a.left>zt;return Kt&&(a.right=a.left+zt),a.left<10?I.scrollLeft=0:a.left<Vt?I.scrollLeft=Math.max(0,a.left+St-(Kt?0:10)):a.right>zt+Vt-3&&(I.scrollLeft=a.right+(Kt?0:10)-zt),I}function Yl(o,a){a!=null&&(pl(o),o.curOp.scrollTop=(o.curOp.scrollTop==null?o.doc.scrollTop:o.curOp.scrollTop)+a)}function bs(o){pl(o);var a=o.getCursor();o.curOp.scrollToPos={from:a,to:a,margin:o.options.cursorScrollMargin}}function ws(o,a,u){a==null&&u==null||pl(o),a!=null&&(o.curOp.scrollLeft=a),u!=null&&(o.curOp.scrollTop=u)}function jp(o,a){pl(o),o.curOp.scrollToPos=a}function pl(o){var a=o.curOp.scrollToPos;a&&(o.curOp.scrollToPos=null,qc(o,Ii(o,a.from),Ii(o,a.to),a.margin))}function qc(o,a,u,c){var p=Zl(o,{left:Math.min(a.left,u.left),top:Math.min(a.top,u.top)-c,right:Math.max(a.right,u.right),bottom:Math.max(a.bottom,u.bottom)+c});ws(o,p.scrollLeft,p.scrollTop)}function pa(o,a){Math.abs(o.doc.scrollTop-a)<2||(F||dl(o,{top:a}),Zc(o,a,!0),F&&dl(o),ga(o,100))}function Zc(o,a,u){a=Math.max(0,Math.min(o.display.scroller.scrollHeight-o.display.scroller.clientHeight,a)),(o.display.scroller.scrollTop!=a||u)&&(o.doc.scrollTop=a,o.display.scrollbars.setScrollTop(a),o.display.scroller.scrollTop!=a&&(o.display.scroller.scrollTop=a))}function Fi(o,a,u,c){a=Math.max(0,Math.min(a,o.display.scroller.scrollWidth-o.display.scroller.clientWidth)),(u?a==o.doc.scrollLeft:Math.abs(o.doc.scrollLeft-a)<2)&&!c||(o.doc.scrollLeft=a,Qc(o),o.display.scroller.scrollLeft!=a&&(o.display.scroller.scrollLeft=a),o.display.scrollbars.setScrollLeft(a))}function fa(o){var a=o.display,u=a.gutters.offsetWidth,c=Math.round(o.doc.height+Ft(o.display));return{clientHeight:a.scroller.clientHeight,viewHeight:a.wrapper.clientHeight,scrollWidth:a.scroller.scrollWidth,clientWidth:a.scroller.clientWidth,viewWidth:a.wrapper.clientWidth,barLeft:o.options.fixedGutter?u:0,docHeight:c,scrollHeight:c+de(o)+a.barHeight,nativeBarWidth:a.nativeBarWidth,gutterWidth:u}}var Vi=function(o,a,u){this.cm=u;var c=this.vert=H("div",[H("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),p=this.horiz=H("div",[H("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");c.tabIndex=p.tabIndex=-1,o(c),o(p),_t(c,"scroll",function(){c.clientHeight&&a(c.scrollTop,"vertical")}),_t(p,"scroll",function(){p.clientWidth&&a(p.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,O&&h<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Vi.prototype.update=function(o){var a=o.scrollWidth>o.clientWidth+1,u=o.scrollHeight>o.clientHeight+1,c=o.nativeBarWidth;if(u){this.vert.style.display="block",this.vert.style.bottom=a?c+"px":"0";var p=o.viewHeight-(a?c:0);this.vert.firstChild.style.height=Math.max(0,o.scrollHeight-o.clientHeight+p)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(a){this.horiz.style.display="block",this.horiz.style.right=u?c+"px":"0",this.horiz.style.left=o.barLeft+"px";var _=o.viewWidth-o.barLeft-(u?c:0);this.horiz.firstChild.style.width=Math.max(0,o.scrollWidth-o.clientWidth+_)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&o.clientHeight>0&&(c==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:u?c:0,bottom:a?c:0}},Vi.prototype.setScrollLeft=function(o){this.horiz.scrollLeft!=o&&(this.horiz.scrollLeft=o),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Vi.prototype.setScrollTop=function(o){this.vert.scrollTop!=o&&(this.vert.scrollTop=o),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Vi.prototype.zeroWidthHack=function(){var o=N&&!T?"12px":"18px";this.horiz.style.height=this.vert.style.width=o,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new ne,this.disableVert=new ne},Vi.prototype.enableZeroWidthBar=function(o,a,u){function c(){var p=o.getBoundingClientRect();(u=="vert"?document.elementFromPoint(p.right-1,(p.top+p.bottom)/2):document.elementFromPoint((p.right+p.left)/2,p.bottom-1))!=o?o.style.visibility="hidden":a.set(1e3,c)}o.style.visibility="",a.set(1e3,c)},Vi.prototype.clear=function(){var o=this.horiz.parentNode;o.removeChild(this.horiz),o.removeChild(this.vert)};var da=function(){};function _s(o,a){a||(a=fa(o));var u=o.display.barWidth,c=o.display.barHeight;Yc(o,a);for(var p=0;p<4&&u!=o.display.barWidth||c!=o.display.barHeight;p++)u!=o.display.barWidth&&o.options.lineWrapping&&cl(o),Yc(o,fa(o)),u=o.display.barWidth,c=o.display.barHeight}function Yc(o,a){var u=o.display,c=u.scrollbars.update(a);u.sizer.style.paddingRight=(u.barWidth=c.right)+"px",u.sizer.style.paddingBottom=(u.barHeight=c.bottom)+"px",u.heightForcer.style.borderBottom=c.bottom+"px solid transparent",c.right&&c.bottom?(u.scrollbarFiller.style.display="block",u.scrollbarFiller.style.height=c.bottom+"px",u.scrollbarFiller.style.width=c.right+"px"):u.scrollbarFiller.style.display="",c.bottom&&o.options.coverGutterNextToScrollbar&&o.options.fixedGutter?(u.gutterFiller.style.display="block",u.gutterFiller.style.height=c.bottom+"px",u.gutterFiller.style.width=a.gutterWidth+"px"):u.gutterFiller.style.display=""}da.prototype.update=function(){return{bottom:0,right:0}},da.prototype.setScrollLeft=function(){},da.prototype.setScrollTop=function(){},da.prototype.clear=function(){};var Kc={native:Vi,null:da};function Xc(o){o.display.scrollbars&&(o.display.scrollbars.clear(),o.display.scrollbars.addClass&&tt(o.display.wrapper,o.display.scrollbars.addClass)),o.display.scrollbars=new Kc[o.options.scrollbarStyle](function(a){o.display.wrapper.insertBefore(a,o.display.scrollbarFiller),_t(a,"mousedown",function(){o.state.focused&&setTimeout(function(){return o.display.input.focus()},0)}),a.setAttribute("cm-not-content","true")},function(a,u){u=="horizontal"?Fi(o,a):pa(o,a)},o),o.display.scrollbars.addClass&&jt(o.display.wrapper,o.display.scrollbars.addClass)}var Mp=0;function Hi(o){o.curOp={cm:o,viewChanged:!1,startHeight:o.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Mp,markArrays:null},ds(o.curOp)}function zi(o){var a=o.curOp;a&&Za(a,function(u){for(var c=0;c<u.ops.length;c++)u.ops[c].cm.curOp=null;ha(u)})}function ha(o){for(var a=o.ops,u=0;u<a.length;u++)Lp(a[u]);for(var c=0;c<a.length;c++)ao(a[c]);for(var p=0;p<a.length;p++)Dp(a[p]);for(var _=0;_<a.length;_++)Ip(a[_]);for(var I=0;I<a.length;I++)Np(a[I])}function Lp(o){var a=o.cm,u=a.display;Fp(a),o.updateMaxLine&&Ei(a),o.mustUpdate=o.viewChanged||o.forceUpdate||o.scrollTop!=null||o.scrollToPos&&(o.scrollToPos.from.line<u.viewFrom||o.scrollToPos.to.line>=u.viewTo)||u.maxLineChanged&&a.options.lineWrapping,o.update=o.mustUpdate&&new ai(a,o.mustUpdate&&{top:o.scrollTop,ensure:o.scrollToPos},o.forceUpdate)}function ao(o){o.updatedDisplay=o.mustUpdate&&fl(o.cm,o.update)}function Dp(o){var a=o.cm,u=a.display;o.updatedDisplay&&cl(a),o.barMeasure=fa(a),u.maxLineChanged&&!a.options.lineWrapping&&(o.adjustWidthTo=ko(a,u.maxLine,u.maxLine.text.length).left+3,a.display.sizerWidth=o.adjustWidthTo,o.barMeasure.scrollWidth=Math.max(u.scroller.clientWidth,u.sizer.offsetLeft+o.adjustWidthTo+de(a)+a.display.barWidth),o.maxScrollLeft=Math.max(0,u.sizer.offsetLeft+o.adjustWidthTo-Ne(a))),(o.updatedDisplay||o.selectionChanged)&&(o.preparedSelection=u.input.prepareSelection())}function Ip(o){var a=o.cm;o.adjustWidthTo!=null&&(a.display.sizer.style.minWidth=o.adjustWidthTo+"px",o.maxScrollLeft<a.doc.scrollLeft&&Fi(a,Math.min(a.display.scroller.scrollLeft,o.maxScrollLeft),!0),a.display.maxLineChanged=!1);var u=o.focus&&o.focus==ct(mt(a));o.preparedSelection&&a.display.input.showSelection(o.preparedSelection,u),(o.updatedDisplay||o.startHeight!=a.doc.height)&&_s(a,o.barMeasure),o.updatedDisplay&&Uo(a,o.barMeasure),o.selectionChanged&&ys(a),a.state.focused&&o.updateInput&&a.display.input.reset(o.typing),u&&$c(o.cm)}function Np(o){var a=o.cm,u=a.display,c=a.doc;o.updatedDisplay&&Jc(a,o.update),u.wheelStartX==null||o.scrollTop==null&&o.scrollLeft==null&&!o.scrollToPos||(u.wheelStartX=u.wheelStartY=null),o.scrollTop!=null&&Zc(a,o.scrollTop,o.forceScroll),o.scrollLeft!=null&&Fi(a,o.scrollLeft,!0,!0),o.scrollToPos&&Ep(a,Pp(a,Pe(c,o.scrollToPos.from),Pe(c,o.scrollToPos.to),o.scrollToPos.margin));var p=o.maybeHiddenMarkers,_=o.maybeUnhiddenMarkers;if(p)for(var I=0;I<p.length;++I)p[I].lines.length||le(p[I],"hide");if(_)for(var B=0;B<_.length;++B)_[B].lines.length&&le(_[B],"unhide");u.wrapper.offsetHeight&&(c.scrollTop=a.display.scroller.scrollTop),o.changeObjs&&le(a,"changes",a,o.changeObjs),o.update&&o.update.finish()}function Vr(o,a){if(o.curOp)return a();Hi(o);try{return a()}finally{zi(o)}}function Zn(o,a){return function(){if(o.curOp)return a.apply(o,arguments);Hi(o);try{return a.apply(o,arguments)}finally{zi(o)}}}function vr(o){return function(){if(this.curOp)return o.apply(this,arguments);Hi(this);try{return o.apply(this,arguments)}finally{zi(this)}}}function Yn(o){return function(){var a=this.cm;if(!a||a.curOp)return o.apply(this,arguments);Hi(a);try{return o.apply(this,arguments)}finally{zi(a)}}}function ga(o,a){o.doc.highlightFrontier<o.display.viewTo&&o.state.highlight.set(a,qt(Rp,o))}function Rp(o){var a=o.doc;if(!(a.highlightFrontier>=o.display.viewTo)){var u=+new Date+o.options.workTime,c=mo(o,a.highlightFrontier),p=[];a.iter(c.line,Math.min(a.first+a.size,o.display.viewTo+500),function(_){if(c.line>=o.display.viewFrom){var I=_.styles,B=_.text.length>o.options.maxHighlightLength?dr(a.mode,c.state):null,et=ro(o,_,c,!0);B&&(c.state=B),_.styles=et.styles;var it=_.styleClasses,Ct=et.classes;Ct?_.styleClasses=Ct:it&&(_.styleClasses=null);for(var St=!I||I.length!=_.styles.length||it!=Ct&&(!it||!Ct||it.bgClass!=Ct.bgClass||it.textClass!=Ct.textClass),Vt=0;!St&&Vt<I.length;++Vt)St=I[Vt]!=_.styles[Vt];St&&p.push(c.line),_.stateAfter=c.save(),c.nextLine()}else _.text.length<=o.options.maxHighlightLength&&er(o,_.text,c),_.stateAfter=c.line%5==0?c.save():null,c.nextLine();if(+new Date>u)return ga(o,o.options.workDelay),!0}),a.highlightFrontier=c.line,a.modeFrontier=Math.max(a.modeFrontier,c.line),p.length&&Vr(o,function(){for(var _=0;_<p.length;_++)oi(o,p[_],"text")})}}var ai=function(o,a,u){var c=o.display;this.viewport=a,this.visible=ul(c,o.doc,a),this.editorIsHidden=!c.wrapper.offsetWidth,this.wrapperHeight=c.wrapper.clientHeight,this.wrapperWidth=c.wrapper.clientWidth,this.oldDisplayWidth=Ne(o),this.force=u,this.dims=il(o),this.events=[]};function Fp(o){var a=o.display;!a.scrollbarsClipped&&a.scroller.offsetWidth&&(a.nativeBarWidth=a.scroller.offsetWidth-a.scroller.clientWidth,a.heightForcer.style.height=de(o)+"px",a.sizer.style.marginBottom=-a.nativeBarWidth+"px",a.sizer.style.borderRightWidth=de(o)+"px",a.scrollbarsClipped=!0)}function Kl(o){if(o.hasFocus())return null;var a=ct(mt(o));if(!a||!dt(o.display.lineDiv,a))return null;var u={activeElt:a};if(window.getSelection){var c=gt(o).getSelection();c.anchorNode&&c.extend&&dt(o.display.lineDiv,c.anchorNode)&&(u.anchorNode=c.anchorNode,u.anchorOffset=c.anchorOffset,u.focusNode=c.focusNode,u.focusOffset=c.focusOffset)}return u}function Vp(o){if(o&&o.activeElt&&o.activeElt!=ct(o.activeElt.ownerDocument)&&(o.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(o.activeElt.nodeName)&&o.anchorNode&&dt(document.body,o.anchorNode)&&dt(document.body,o.focusNode))){var a=o.activeElt.ownerDocument,u=a.defaultView.getSelection(),c=a.createRange();c.setEnd(o.anchorNode,o.anchorOffset),c.collapse(!1),u.removeAllRanges(),u.addRange(c),u.extend(o.focusNode,o.focusOffset)}}function fl(o,a){var u=o.display,c=o.doc;if(a.editorIsHidden)return ii(o),!1;if(!a.force&&a.visible.from>=u.viewFrom&&a.visible.to<=u.viewTo&&(u.updateLineNumbers==null||u.updateLineNumbers>=u.viewTo)&&u.renderedView==u.view&&Wc(o)==0)return!1;tu(o)&&(ii(o),a.dims=il(o));var p=c.first+c.size,_=Math.max(a.visible.from-o.options.viewportMargin,c.first),I=Math.min(p,a.visible.to+o.options.viewportMargin);u.viewFrom<_&&_-u.viewFrom<20&&(_=Math.max(c.first,u.viewFrom)),u.viewTo>I&&u.viewTo-I<20&&(I=Math.min(p,u.viewTo)),kr&&(_=Oo(o.doc,_),I=Js(o.doc,I));var B=_!=u.viewFrom||I!=u.viewTo||u.lastWrapHeight!=a.wrapperHeight||u.lastWrapWidth!=a.wrapperWidth;Tp(o,_,I),u.viewOffset=Rr(je(o.doc,u.viewFrom)),o.display.mover.style.top=u.viewOffset+"px";var et=Wc(o);if(!B&&et==0&&!a.force&&u.renderedView==u.view&&(u.updateLineNumbers==null||u.updateLineNumbers>=u.viewTo))return!1;var it=Kl(o);return et>4&&(u.lineDiv.style.display="none"),Hp(o,u.updateLineNumbers,a.dims),et>4&&(u.lineDiv.style.display=""),u.renderedView=u.view,Vp(it),q(u.cursorDiv),q(u.selectionDiv),u.gutters.style.height=u.sizer.style.minHeight=0,B&&(u.lastWrapHeight=a.wrapperHeight,u.lastWrapWidth=a.wrapperWidth,ga(o,400)),u.updateLineNumbers=null,!0}function Jc(o,a){for(var u=a.viewport,c=!0;;c=!1){if(c&&o.options.lineWrapping&&a.oldDisplayWidth!=Ne(o))c&&(a.visible=ul(o.display,o.doc,u));else if(u&&u.top!=null&&(u={top:Math.min(o.doc.height+Ft(o.display)-Ze(o),u.top)}),a.visible=ul(o.display,o.doc,u),a.visible.from>=o.display.viewFrom&&a.visible.to<=o.display.viewTo)break;if(!fl(o,a))break;cl(o);var p=fa(o);ca(o),_s(o,p),Uo(o,p),a.force=!1}a.signal(o,"update",o),o.display.viewFrom==o.display.reportedViewFrom&&o.display.viewTo==o.display.reportedViewTo||(a.signal(o,"viewportChange",o,o.display.viewFrom,o.display.viewTo),o.display.reportedViewFrom=o.display.viewFrom,o.display.reportedViewTo=o.display.viewTo)}function dl(o,a){var u=new ai(o,a);if(fl(o,u)){cl(o),Jc(o,u);var c=fa(o);ca(o),_s(o,c),Uo(o,c),u.finish()}}function Hp(o,a,u){var c=o.display,p=o.options.lineNumbers,_=c.lineDiv,I=_.firstChild;function B(Kt){var ie=Kt.nextSibling;return v&&N&&o.display.currentWheelTarget==Kt?Kt.style.display="none":Kt.parentNode.removeChild(Kt),ie}for(var et=c.view,it=c.viewFrom,Ct=0;Ct<et.length;Ct++){var St=et[Ct];if(!St.hidden)if(St.node&&St.node.parentNode==_){for(;I!=St.node;)I=B(I);var Vt=p&&a!=null&&a<=it&&St.lineNumber;St.changes&&(re(St.changes,"gutter")>-1&&(Vt=!1),ei(o,St,it,u)),Vt&&(q(St.lineNumber),St.lineNumber.appendChild(document.createTextNode(at(o.options,it)))),I=St.node.nextSibling}else{var zt=oa(o,St,it,u);_.insertBefore(zt,I)}it+=St.size}for(;I;)I=B(I)}function Xl(o){var a=o.gutters.offsetWidth;o.sizer.style.marginLeft=a+"px",Pn(o,"gutterChanged",o)}function Uo(o,a){o.display.sizer.style.minHeight=a.docHeight+"px",o.display.heightForcer.style.top=a.docHeight+"px",o.display.gutters.style.height=a.docHeight+o.display.barHeight+de(o)+"px"}function Qc(o){var a=o.display,u=a.view;if(a.alignWidgets||a.gutters.firstChild&&o.options.fixedGutter){for(var c=Wl(a)-a.scroller.scrollLeft+o.doc.scrollLeft,p=a.gutters.offsetWidth,_=c+"px",I=0;I<u.length;I++)if(!u[I].hidden){o.options.fixedGutter&&(u[I].gutter&&(u[I].gutter.style.left=_),u[I].gutterBackground&&(u[I].gutterBackground.style.left=_));var B=u[I].alignable;if(B)for(var et=0;et<B.length;et++)B[et].style.left=_}o.options.fixedGutter&&(a.gutters.style.left=c+p+"px")}}function tu(o){if(!o.options.lineNumbers)return!1;var a=o.doc,u=at(o.options,a.first+a.size-1),c=o.display;if(u.length!=c.lineNumChars){var p=c.measure.appendChild(H("div",[H("div",u)],"CodeMirror-linenumber CodeMirror-gutter-elt")),_=p.firstChild.offsetWidth,I=p.offsetWidth-_;return c.lineGutter.style.width="",c.lineNumInnerWidth=Math.max(_,c.lineGutter.offsetWidth-I)+1,c.lineNumWidth=c.lineNumInnerWidth+I,c.lineNumChars=c.lineNumInnerWidth?u.length:-1,c.lineGutter.style.width=c.lineNumWidth+"px",Xl(o.display),!0}return!1}function Jl(o,a){for(var u=[],c=!1,p=0;p<o.length;p++){var _=o[p],I=null;if(typeof _!="string"&&(I=_.style,_=_.className),_=="CodeMirror-linenumbers"){if(!a)continue;c=!0}u.push({className:_,style:I})}return a&&!c&&u.push({className:"CodeMirror-linenumbers",style:null}),u}function eu(o){var a=o.gutters,u=o.gutterSpecs;q(a),o.lineGutter=null;for(var c=0;c<u.length;++c){var p=u[c],_=p.className,I=p.style,B=a.appendChild(H("div",null,"CodeMirror-gutter "+_));I&&(B.style.cssText=I),_=="CodeMirror-linenumbers"&&(o.lineGutter=B,B.style.width=(o.lineNumWidth||1)+"px")}a.style.display=u.length?"":"none",Xl(o)}function ma(o){eu(o.display),mr(o),Qc(o)}function nu(o,a,u,c){var p=this;this.input=u,p.scrollbarFiller=H("div",null,"CodeMirror-scrollbar-filler"),p.scrollbarFiller.setAttribute("cm-not-content","true"),p.gutterFiller=H("div",null,"CodeMirror-gutter-filler"),p.gutterFiller.setAttribute("cm-not-content","true"),p.lineDiv=Y("div",null,"CodeMirror-code"),p.selectionDiv=H("div",null,null,"position: relative; z-index: 1"),p.cursorDiv=H("div",null,"CodeMirror-cursors"),p.measure=H("div",null,"CodeMirror-measure"),p.lineMeasure=H("div",null,"CodeMirror-measure"),p.lineSpace=Y("div",[p.measure,p.lineMeasure,p.selectionDiv,p.cursorDiv,p.lineDiv],null,"position: relative; outline: none");var _=Y("div",[p.lineSpace],"CodeMirror-lines");p.mover=H("div",[_],null,"position: relative"),p.sizer=H("div",[p.mover],"CodeMirror-sizer"),p.sizerWidth=null,p.heightForcer=H("div",null,null,"position: absolute; height: "+ce+"px; width: 1px;"),p.gutters=H("div",null,"CodeMirror-gutters"),p.lineGutter=null,p.scroller=H("div",[p.sizer,p.heightForcer,p.gutters],"CodeMirror-scroll"),p.scroller.setAttribute("tabIndex","-1"),p.wrapper=H("div",[p.scrollbarFiller,p.gutterFiller,p.scroller],"CodeMirror"),g&&y>=105&&(p.wrapper.style.clipPath="inset(0px)"),p.wrapper.setAttribute("translate","no"),O&&h<8&&(p.gutters.style.zIndex=-1,p.scroller.style.paddingRight=0),v||F&&R||(p.scroller.draggable=!0),o&&(o.appendChild?o.appendChild(p.wrapper):o(p.wrapper)),p.viewFrom=p.viewTo=a.first,p.reportedViewFrom=p.reportedViewTo=a.first,p.view=[],p.renderedView=null,p.externalMeasured=null,p.viewOffset=0,p.lastWrapHeight=p.lastWrapWidth=0,p.updateLineNumbers=null,p.nativeBarWidth=p.barHeight=p.barWidth=0,p.scrollbarsClipped=!1,p.lineNumWidth=p.lineNumInnerWidth=p.lineNumChars=null,p.alignWidgets=!1,p.cachedCharWidth=p.cachedTextHeight=p.cachedPaddingH=null,p.maxLine=null,p.maxLineLength=0,p.maxLineChanged=!1,p.wheelDX=p.wheelDY=p.wheelStartX=p.wheelStartY=null,p.shift=!1,p.selForContextMenu=null,p.activeTouch=null,p.gutterSpecs=Jl(c.gutters,c.lineNumbers),eu(p),u.init(p)}ai.prototype.signal=function(o,a){tn(o,a)&&this.events.push(arguments)},ai.prototype.finish=function(){for(var o=0;o<this.events.length;o++)le.apply(null,this.events[o])};var hl=0,Po=null;function va(o){var a=o.wheelDeltaX,u=o.wheelDeltaY;return a==null&&o.detail&&o.axis==o.HORIZONTAL_AXIS&&(a=o.detail),u==null&&o.detail&&o.axis==o.VERTICAL_AXIS?u=o.detail:u==null&&(u=o.wheelDelta),{x:a,y:u}}function zp(o){var a=va(o);return a.x*=Po,a.y*=Po,a}function Ql(o,a){g&&y==102&&(o.display.chromeScrollHack==null?o.display.sizer.style.pointerEvents="none":clearTimeout(o.display.chromeScrollHack),o.display.chromeScrollHack=setTimeout(function(){o.display.chromeScrollHack=null,o.display.sizer.style.pointerEvents=""},100));var u=va(a),c=u.x,p=u.y,_=Po;a.deltaMode===0&&(c=a.deltaX,p=a.deltaY,_=1);var I=o.display,B=I.scroller,et=B.scrollWidth>B.clientWidth,it=B.scrollHeight>B.clientHeight;if(c&&et||p&&it){if(p&&N&&v){t:for(var Ct=a.target,St=I.view;Ct!=B;Ct=Ct.parentNode)for(var Vt=0;Vt<St.length;Vt++)if(St[Vt].node==Ct){o.display.currentWheelTarget=Ct;break t}}if(c&&!F&&!S&&_!=null)return p&&it&&pa(o,Math.max(0,B.scrollTop+p*_)),Fi(o,Math.max(0,B.scrollLeft+c*_)),(!p||p&&it)&&cn(a),void(I.wheelStartX=null);if(p&&_!=null){var zt=p*_,Kt=o.doc.scrollTop,ie=Kt+I.wrapper.clientHeight;zt<0?Kt=Math.max(0,Kt+zt-50):ie=Math.min(o.doc.height,ie+zt+50),dl(o,{top:Kt,bottom:ie})}hl<20&&a.deltaMode!==0&&(I.wheelStartX==null?(I.wheelStartX=B.scrollLeft,I.wheelStartY=B.scrollTop,I.wheelDX=c,I.wheelDY=p,setTimeout(function(){if(I.wheelStartX!=null){var he=B.scrollLeft-I.wheelStartX,we=B.scrollTop-I.wheelStartY,Ce=we&&I.wheelDY&&we/I.wheelDY||he&&I.wheelDX&&he/I.wheelDX;I.wheelStartX=I.wheelStartY=null,Ce&&(Po=(Po*hl+Ce)/(hl+1),++hl)}},200)):(I.wheelDX+=c,I.wheelDY+=p))}}O?Po=-.53:F?Po=15:g?Po=-.7:w&&(Po=-.3333333333333333);var Yr=function(o,a){this.ranges=o,this.primIndex=a};Yr.prototype.primary=function(){return this.ranges[this.primIndex]},Yr.prototype.equals=function(o){if(o==this)return!0;if(o.primIndex!=this.primIndex||o.ranges.length!=this.ranges.length)return!1;for(var a=0;a<this.ranges.length;a++){var u=this.ranges[a],c=o.ranges[a];if(!_e(u.anchor,c.anchor)||!_e(u.head,c.head))return!1}return!0},Yr.prototype.deepCopy=function(){for(var o=[],a=0;a<this.ranges.length;a++)o[a]=new un(Te(this.ranges[a].anchor),Te(this.ranges[a].head));return new Yr(o,this.primIndex)},Yr.prototype.somethingSelected=function(){for(var o=0;o<this.ranges.length;o++)if(!this.ranges[o].empty())return!0;return!1},Yr.prototype.contains=function(o,a){a||(a=o);for(var u=0;u<this.ranges.length;u++){var c=this.ranges[u];if(Wt(a,c.from())>=0&&Wt(o,c.to())<=0)return u}return-1};var un=function(o,a){this.anchor=o,this.head=a};function lo(o,a,u){var c=o&&o.options.selectionsMayTouch,p=a[u];a.sort(function(Vt,zt){return Wt(Vt.from(),zt.from())}),u=re(a,p);for(var _=1;_<a.length;_++){var I=a[_],B=a[_-1],et=Wt(B.to(),I.from());if(c&&!I.empty()?et>0:et>=0){var it=an(B.from(),I.from()),Ct=Qe(B.to(),I.to()),St=B.empty()?I.from()==I.head:B.from()==B.head;_<=u&&--u,a.splice(--_,2,new un(St?Ct:it,St?it:Ct))}}return new Yr(a,u)}function li(o,a){return new Yr([new un(o,a||o)],0)}function ci(o){return o.text?ut(o.from.line+o.text.length-1,Nt(o.text).length+(o.text.length==1?o.from.ch:0)):o.to}function ru(o,a){if(Wt(o,a.from)<0)return o;if(Wt(o,a.to)<=0)return ci(a);var u=o.line+a.text.length-(a.to.line-a.from.line)-1,c=o.ch;return o.line==a.to.line&&(c+=ci(a).ch-a.to.ch),ut(u,c)}function tc(o,a){for(var u=[],c=0;c<o.sel.ranges.length;c++){var p=o.sel.ranges[c];u.push(new un(ru(p.anchor,a),ru(p.head,a)))}return lo(o.cm,u,o.sel.primIndex)}function ou(o,a,u){return o.line==a.line?ut(u.line,o.ch-a.ch+u.ch):ut(u.line+(o.line-a.line),o.ch)}function Bp(o,a,u){for(var c=[],p=ut(o.first,0),_=p,I=0;I<a.length;I++){var B=a[I],et=ou(B.from,p,_),it=ou(ci(B),p,_);if(p=B.to,_=it,u=="around"){var Ct=o.sel.ranges[I],St=Wt(Ct.head,Ct.anchor)<0;c[I]=new un(St?it:et,St?et:it)}else c[I]=new un(et,et)}return new Yr(c,o.sel.primIndex)}function ec(o){o.doc.mode=Qn(o.options,o.doc.modeOption),xs(o)}function xs(o){o.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),o.doc.modeFrontier=o.doc.highlightFrontier=o.doc.first,ga(o,100),o.state.modeGen++,o.curOp&&mr(o)}function iu(o,a){return a.from.ch==0&&a.to.ch==0&&Nt(a.text)==""&&(!o.cm||o.cm.options.wholeLineUpdateBefore)}function Cs(o,a,u,c){function p(Ce){return u?u[Ce]:null}function _(Ce,me,Ae){Ga(Ce,me,Ae,c),Pn(Ce,"change",Ce,a)}function I(Ce,me){for(var Ae=[],Ee=Ce;Ee<me;++Ee)Ae.push(new vo(it[Ee],p(Ee),c));return Ae}var B=a.from,et=a.to,it=a.text,Ct=je(o,B.line),St=je(o,et.line),Vt=Nt(it),zt=p(it.length-1),Kt=et.line-B.line;if(a.full)o.insert(0,I(0,it.length)),o.remove(it.length,o.size-it.length);else if(iu(o,a)){var ie=I(0,it.length-1);_(St,St.text,zt),Kt&&o.remove(B.line,Kt),ie.length&&o.insert(B.line,ie)}else if(Ct==St)if(it.length==1)_(Ct,Ct.text.slice(0,B.ch)+Vt+Ct.text.slice(et.ch),zt);else{var he=I(1,it.length-1);he.push(new vo(Vt+Ct.text.slice(et.ch),zt,c)),_(Ct,Ct.text.slice(0,B.ch)+it[0],p(0)),o.insert(B.line+1,he)}else if(it.length==1)_(Ct,Ct.text.slice(0,B.ch)+it[0]+St.text.slice(et.ch),p(0)),o.remove(B.line+1,Kt);else{_(Ct,Ct.text.slice(0,B.ch)+it[0],p(0)),_(St,Vt+St.text.slice(et.ch),zt);var we=I(1,it.length-1);Kt>1&&o.remove(B.line+1,Kt-1),o.insert(B.line+1,we)}Pn(o,"change",o,a)}function ui(o,a,u){function c(p,_,I){if(p.linked)for(var B=0;B<p.linked.length;++B){var et=p.linked[B];if(et.doc!=_){var it=I&&et.sharedHist;u&&!it||(a(et.doc,it),c(et.doc,p,it))}}}c(o,null,!0)}function nc(o,a){if(a.cm)throw new Error("This document is already in use.");o.doc=a,a.cm=o,$l(o),ec(o),su(o),o.options.direction=a.direction,o.options.lineWrapping||Ei(o),o.options.mode=a.modeOption,mr(o)}function su(o){(o.doc.direction=="rtl"?jt:tt)(o.display.lineDiv,"CodeMirror-rtl")}function pi(o){Vr(o,function(){su(o),mr(o)})}function ya(o){this.done=[],this.undone=[],this.undoDepth=o?o.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=o?o.maxGeneration:1}function Bi(o,a){var u={from:Te(a.from),to:ci(a),text:Ir(o,a.from,a.to)};return lu(o,u,a.from.line,a.to.line+1),ui(o,function(c){return lu(c,u,a.from.line,a.to.line+1)},!0),u}function au(o){for(;o.length&&Nt(o).ranges;)o.pop()}function Up(o,a){return a?(au(o.done),Nt(o.done)):o.done.length&&!Nt(o.done).ranges?Nt(o.done):o.done.length>1&&!o.done[o.done.length-2].ranges?(o.done.pop(),Nt(o.done)):void 0}function rc(o,a,u,c){var p=o.history;p.undone.length=0;var _,I,B=+new Date;if((p.lastOp==c||p.lastOrigin==a.origin&&a.origin&&(a.origin.charAt(0)=="+"&&p.lastModTime>B-(o.cm?o.cm.options.historyEventDelay:500)||a.origin.charAt(0)=="*"))&&(_=Up(p,p.lastOp==c)))I=Nt(_.changes),Wt(a.from,a.to)==0&&Wt(a.from,I.to)==0?I.to=ci(a):_.changes.push(Bi(o,a));else{var et=Nt(p.done);for(et&&et.ranges||gl(o.sel,p.done),_={changes:[Bi(o,a)],generation:p.generation},p.done.push(_);p.done.length>p.undoDepth;)p.done.shift(),p.done[0].ranges||p.done.shift()}p.done.push(u),p.generation=++p.maxGeneration,p.lastModTime=p.lastSelTime=B,p.lastOp=p.lastSelOp=c,p.lastOrigin=p.lastSelOrigin=a.origin,I||le(o,"historyAdded")}function Wp(o,a,u,c){var p=a.charAt(0);return p=="*"||p=="+"&&u.ranges.length==c.ranges.length&&u.somethingSelected()==c.somethingSelected()&&new Date-o.history.lastSelTime<=(o.cm?o.cm.options.historyEventDelay:500)}function oc(o,a,u,c){var p=o.history,_=c&&c.origin;u==p.lastSelOp||_&&p.lastSelOrigin==_&&(p.lastModTime==p.lastSelTime&&p.lastOrigin==_||Wp(o,_,Nt(p.done),a))?p.done[p.done.length-1]=a:gl(a,p.done),p.lastSelTime=+new Date,p.lastSelOrigin=_,p.lastSelOp=u,c&&c.clearRedo!==!1&&au(p.undone)}function gl(o,a){var u=Nt(a);u&&u.ranges&&u.equals(o)||a.push(o)}function lu(o,a,u,c){var p=a["spans_"+o.id],_=0;o.iter(Math.max(o.first,u),Math.min(o.first+o.size,c),function(I){I.markedSpans&&((p||(p=a["spans_"+o.id]={}))[_]=I.markedSpans),++_})}function $p(o){if(!o)return null;for(var a,u=0;u<o.length;++u)o[u].marker.explicitlyCleared?a||(a=o.slice(0,u)):a&&a.push(o[u]);return a?a.length?a:null:o}function Gp(o,a){var u=a["spans_"+o.id];if(!u)return null;for(var c=[],p=0;p<a.text.length;++p)c.push($p(u[p]));return c}function cu(o,a){var u=Gp(o,a),c=Ro(o,a);if(!u)return c;if(!c)return u;for(var p=0;p<u.length;++p){var _=u[p],I=c[p];if(_&&I)t:for(var B=0;B<I.length;++B){for(var et=I[B],it=0;it<_.length;++it)if(_[it].marker==et.marker)continue t;_.push(et)}else I&&(u[p]=I)}return u}function Ui(o,a,u){for(var c=[],p=0;p<o.length;++p){var _=o[p];if(_.ranges)c.push(u?Yr.prototype.deepCopy.call(_):_);else{var I=_.changes,B=[];c.push({changes:B});for(var et=0;et<I.length;++et){var it=I[et],Ct=void 0;if(B.push({from:it.from,to:it.to,text:it.text}),a)for(var St in it)(Ct=St.match(/^spans_(\d+)$/))&&re(a,Number(Ct[1]))>-1&&(Nt(B)[St]=it[St],delete it[St])}}}return c}function ba(o,a,u,c){if(c){var p=o.anchor;if(u){var _=Wt(a,p)<0;_!=Wt(u,p)<0?(p=a,a=u):_!=Wt(a,u)<0&&(a=u)}return new un(p,a)}return new un(u||a,a)}function ml(o,a,u,c,p){p==null&&(p=o.cm&&(o.cm.display.shift||o.extend)),ar(o,new Yr([ba(o.sel.primary(),a,u,p)],0),c)}function uu(o,a,u){for(var c=[],p=o.cm&&(o.cm.display.shift||o.extend),_=0;_<o.sel.ranges.length;_++)c[_]=ba(o.sel.ranges[_],a[_],null,p);ar(o,lo(o.cm,c,o.sel.primIndex),u)}function vl(o,a,u,c){var p=o.sel.ranges.slice(0);p[a]=u,ar(o,lo(o.cm,p,o.sel.primIndex),c)}function pu(o,a,u,c){ar(o,li(a,u),c)}function qp(o,a,u){var c={ranges:a.ranges,update:function(p){this.ranges=[];for(var _=0;_<p.length;_++)this.ranges[_]=new un(Pe(o,p[_].anchor),Pe(o,p[_].head))},origin:u&&u.origin};return le(o,"beforeSelectionChange",o,c),o.cm&&le(o.cm,"beforeSelectionChange",o.cm,c),c.ranges!=a.ranges?lo(o.cm,c.ranges,c.ranges.length-1):a}function ic(o,a,u){var c=o.history.done,p=Nt(c);p&&p.ranges?(c[c.length-1]=a,fi(o,a,u)):ar(o,a,u)}function ar(o,a,u){fi(o,a,u),oc(o,o.sel,o.cm?o.cm.curOp.id:NaN,u)}function fi(o,a,u){(tn(o,"beforeSelectionChange")||o.cm&&tn(o.cm,"beforeSelectionChange"))&&(a=qp(o,a,u));var c=u&&u.bias||(Wt(a.primary().head,o.sel.primary().head)<0?-1:1);fu(o,sc(o,a,c,!0)),u&&u.scroll===!1||!o.cm||o.cm.getOption("readOnly")=="nocursor"||bs(o.cm)}function fu(o,a){a.equals(o.sel)||(o.sel=a,o.cm&&(o.cm.curOp.updateInput=1,o.cm.curOp.selectionChanged=!0,Ye(o.cm)),Pn(o,"cursorActivity",o))}function du(o){fu(o,sc(o,o.sel,null,!1))}function sc(o,a,u,c){for(var p,_=0;_<a.ranges.length;_++){var I=a.ranges[_],B=a.ranges.length==o.sel.ranges.length&&o.sel.ranges[_],et=wa(o,I.anchor,B&&B.anchor,u,c),it=I.head==I.anchor?et:wa(o,I.head,B&&B.head,u,c);(p||et!=I.anchor||it!=I.head)&&(p||(p=a.ranges.slice(0,_)),p[_]=new un(et,it))}return p?lo(o.cm,p,a.primIndex):a}function Wi(o,a,u,c,p){var _=je(o,a.line);if(_.markedSpans)for(var I=0;I<_.markedSpans.length;++I){var B=_.markedSpans[I],et=B.marker,it="selectLeft"in et?!et.selectLeft:et.inclusiveLeft,Ct="selectRight"in et?!et.selectRight:et.inclusiveRight;if((B.from==null||(it?B.from<=a.ch:B.from<a.ch))&&(B.to==null||(Ct?B.to>=a.ch:B.to>a.ch))){if(p&&(le(et,"beforeCursorEnter"),et.explicitlyCleared)){if(_.markedSpans){--I;continue}break}if(!et.atomic)continue;if(u){var St=et.find(c<0?1:-1),Vt=void 0;if((c<0?Ct:it)&&(St=ac(o,St,-c,St&&St.line==a.line?_:null)),St&&St.line==a.line&&(Vt=Wt(St,u))&&(c<0?Vt<0:Vt>0))return Wi(o,St,a,c,p)}var zt=et.find(c<0?-1:1);return(c<0?it:Ct)&&(zt=ac(o,zt,c,zt.line==a.line?_:null)),zt?Wi(o,zt,a,c,p):null}}return a}function wa(o,a,u,c,p){var _=c||1,I=Wi(o,a,u,_,p)||!p&&Wi(o,a,u,_,!0)||Wi(o,a,u,-_,p)||!p&&Wi(o,a,u,-_,!0);return I||(o.cantEdit=!0,ut(o.first,0))}function ac(o,a,u,c){return u<0&&a.ch==0?a.line>o.first?Pe(o,ut(a.line-1)):null:u>0&&a.ch==(c||je(o,a.line)).text.length?a.line<o.first+o.size-1?ut(a.line+1,0):null:new ut(a.line,a.ch+u)}function lc(o){o.setSelection(ut(o.firstLine(),0),ut(o.lastLine()),Me)}function hu(o,a,u){var c={canceled:!1,from:a.from,to:a.to,text:a.text,origin:a.origin,cancel:function(){return c.canceled=!0}};return u&&(c.update=function(p,_,I,B){p&&(c.from=Pe(o,p)),_&&(c.to=Pe(o,_)),I&&(c.text=I),B!==void 0&&(c.origin=B)}),le(o,"beforeChange",o,c),o.cm&&le(o.cm,"beforeChange",o.cm,c),c.canceled?(o.cm&&(o.cm.curOp.updateInput=2),null):{from:c.from,to:c.to,text:c.text,origin:c.origin}}function Ao(o,a,u){if(o.cm){if(!o.cm.curOp)return Zn(o.cm,Ao)(o,a,u);if(o.cm.state.suppressEdits)return}if(!(tn(o,"beforeChange")||o.cm&&tn(o.cm,"beforeChange"))||(a=hu(o,a,!0))){var c=Oi&&!u&&$a(o,a.from,a.to);if(c)for(var p=c.length-1;p>=0;--p)yl(o,{from:c[p].from,to:c[p].to,text:p?[""]:a.text,origin:a.origin});else yl(o,a)}}function yl(o,a){if(a.text.length!=1||a.text[0]!=""||Wt(a.from,a.to)!=0){var u=tc(o,a);rc(o,a,u,o.cm?o.cm.curOp.id:NaN),Ss(o,a,u,Ro(o,a));var c=[];ui(o,function(p,_){_||re(c,p.history)!=-1||(mu(p.history,a),c.push(p.history)),Ss(p,a,null,Ro(p,a))})}}function _a(o,a,u){var c=o.cm&&o.cm.state.suppressEdits;if(!c||u){for(var p,_=o.history,I=o.sel,B=a=="undo"?_.done:_.undone,et=a=="undo"?_.undone:_.done,it=0;it<B.length&&(p=B[it],u?!p.ranges||p.equals(o.sel):p.ranges);it++);if(it!=B.length){for(_.lastOrigin=_.lastSelOrigin=null;;){if(!(p=B.pop()).ranges){if(c)return void B.push(p);break}if(gl(p,et),u&&!p.equals(o.sel))return void ar(o,p,{clearRedo:!1});I=p}var Ct=[];gl(I,et),et.push({changes:Ct,generation:_.generation}),_.generation=p.generation||++_.maxGeneration;for(var St=tn(o,"beforeChange")||o.cm&&tn(o.cm,"beforeChange"),Vt=function(ie){var he=p.changes[ie];if(he.origin=a,St&&!hu(o,he,!1))return B.length=0,{};Ct.push(Bi(o,he));var we=ie?tc(o,he):Nt(B);Ss(o,he,we,cu(o,he)),!ie&&o.cm&&o.cm.scrollIntoView({from:he.from,to:ci(he)});var Ce=[];ui(o,function(me,Ae){Ae||re(Ce,me.history)!=-1||(mu(me.history,he),Ce.push(me.history)),Ss(me,he,null,cu(me,he))})},zt=p.changes.length-1;zt>=0;--zt){var Kt=Vt(zt);if(Kt)return Kt.v}}}}function cc(o,a){if(a!=0&&(o.first+=a,o.sel=new Yr(wt(o.sel.ranges,function(p){return new un(ut(p.anchor.line+a,p.anchor.ch),ut(p.head.line+a,p.head.ch))}),o.sel.primIndex),o.cm)){mr(o.cm,o.first,o.first-a,a);for(var u=o.cm.display,c=u.viewFrom;c<u.viewTo;c++)oi(o.cm,c,"gutter")}}function Ss(o,a,u,c){if(o.cm&&!o.cm.curOp)return Zn(o.cm,Ss)(o,a,u,c);if(a.to.line<o.first)cc(o,a.text.length-1-(a.to.line-a.from.line));else if(!(a.from.line>o.lastLine())){if(a.from.line<o.first){var p=a.text.length-1-(o.first-a.from.line);cc(o,p),a={from:ut(o.first,0),to:ut(a.to.line+p,a.to.ch),text:[Nt(a.text)],origin:a.origin}}var _=o.lastLine();a.to.line>_&&(a={from:a.from,to:ut(_,je(o,_).text.length),text:[a.text[0]],origin:a.origin}),a.removed=Ir(o,a.from,a.to),u||(u=tc(o,a)),o.cm?xa(o.cm,a,c):Cs(o,a,c),fi(o,u,Me),o.cantEdit&&wa(o,ut(o.firstLine(),0))&&(o.cantEdit=!1)}}function xa(o,a,u){var c=o.doc,p=o.display,_=a.from,I=a.to,B=!1,et=_.line;o.options.lineWrapping||(et=rn(Cn(je(c,_.line))),c.iter(et,I.line+1,function(zt){if(zt==p.maxLine)return B=!0,!0})),c.sel.contains(a.from,a.to)>-1&&Ye(o),Cs(c,a,u,Eo(o)),o.options.lineWrapping||(c.iter(et,_.line+a.text.length,function(zt){var Kt=Ho(zt);Kt>p.maxLineLength&&(p.maxLine=zt,p.maxLineLength=Kt,p.maxLineChanged=!0,B=!1)}),B&&(o.curOp.updateMaxLine=!0)),Si(c,_.line),ga(o,400);var it=a.text.length-(I.line-_.line)-1;a.full?mr(o):_.line!=I.line||a.text.length!=1||iu(o.doc,a)?mr(o,_.line,I.line+1,it):oi(o,_.line,"text");var Ct=tn(o,"changes"),St=tn(o,"change");if(St||Ct){var Vt={from:_,to:I,text:a.text,removed:a.removed,origin:a.origin};St&&Pn(o,"change",o,Vt),Ct&&(o.curOp.changeObjs||(o.curOp.changeObjs=[])).push(Vt)}o.display.selForContextMenu=null}function Os(o,a,u,c,p){var _;c||(c=u),Wt(c,u)<0&&(u=(_=[c,u])[0],c=_[1]),typeof a=="string"&&(a=o.splitLines(a)),Ao(o,{from:u,to:c,text:a,origin:p})}function gu(o,a,u,c){u<o.line?o.line+=c:a<o.line&&(o.line=a,o.ch=0)}function uc(o,a,u,c){for(var p=0;p<o.length;++p){var _=o[p],I=!0;if(_.ranges){_.copied||((_=o[p]=_.deepCopy()).copied=!0);for(var B=0;B<_.ranges.length;B++)gu(_.ranges[B].anchor,a,u,c),gu(_.ranges[B].head,a,u,c)}else{for(var et=0;et<_.changes.length;++et){var it=_.changes[et];if(u<it.from.line)it.from=ut(it.from.line+c,it.from.ch),it.to=ut(it.to.line+c,it.to.ch);else if(a<=it.to.line){I=!1;break}}I||(o.splice(0,p+1),p=0)}}}function mu(o,a){var u=a.from.line,c=a.to.line,p=a.text.length-(c-u)-1;uc(o.done,u,c,p),uc(o.undone,u,c,p)}function Ca(o,a,u,c){var p=a,_=a;return typeof a=="number"?_=je(o,Fn(o,a)):p=rn(a),p==null?null:(c(_,p)&&o.cm&&oi(o.cm,p,u),_)}function ks(o){this.lines=o,this.parent=null;for(var a=0,u=0;u<o.length;++u)o[u].parent=this,a+=o[u].height;this.height=a}function Sa(o){this.children=o;for(var a=0,u=0,c=0;c<o.length;++c){var p=o[c];a+=p.chunkSize(),u+=p.height,p.parent=this}this.size=a,this.height=u,this.parent=null}un.prototype.from=function(){return an(this.anchor,this.head)},un.prototype.to=function(){return Qe(this.anchor,this.head)},un.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ks.prototype={chunkSize:function(){return this.lines.length},removeInner:function(o,a){for(var u=o,c=o+a;u<c;++u){var p=this.lines[u];this.height-=p.height,cs(p),Pn(p,"delete")}this.lines.splice(o,a)},collapse:function(o){o.push.apply(o,this.lines)},insertInner:function(o,a,u){this.height+=u,this.lines=this.lines.slice(0,o).concat(a).concat(this.lines.slice(o));for(var c=0;c<a.length;++c)a[c].parent=this},iterN:function(o,a,u){for(var c=o+a;o<c;++o)if(u(this.lines[o]))return!0}},Sa.prototype={chunkSize:function(){return this.size},removeInner:function(o,a){this.size-=a;for(var u=0;u<this.children.length;++u){var c=this.children[u],p=c.chunkSize();if(o<p){var _=Math.min(a,p-o),I=c.height;if(c.removeInner(o,_),this.height-=I-c.height,p==_&&(this.children.splice(u--,1),c.parent=null),(a-=_)==0)break;o=0}else o-=p}if(this.size-a<25&&(this.children.length>1||!(this.children[0]instanceof ks))){var B=[];this.collapse(B),this.children=[new ks(B)],this.children[0].parent=this}},collapse:function(o){for(var a=0;a<this.children.length;++a)this.children[a].collapse(o)},insertInner:function(o,a,u){this.size+=a.length,this.height+=u;for(var c=0;c<this.children.length;++c){var p=this.children[c],_=p.chunkSize();if(o<=_){if(p.insertInner(o,a,u),p.lines&&p.lines.length>50){for(var I=p.lines.length%25+25,B=I;B<p.lines.length;){var et=new ks(p.lines.slice(B,B+=25));p.height-=et.height,this.children.splice(++c,0,et),et.parent=this}p.lines=p.lines.slice(0,I),this.maybeSpill()}break}o-=_}},maybeSpill:function(){if(!(this.children.length<=10)){var o=this;do{var a=new Sa(o.children.splice(o.children.length-5,5));if(o.parent){o.size-=a.size,o.height-=a.height;var u=re(o.parent.children,o);o.parent.children.splice(u+1,0,a)}else{var c=new Sa(o.children);c.parent=o,o.children=[c,a],o=c}a.parent=o.parent}while(o.children.length>10);o.parent.maybeSpill()}},iterN:function(o,a,u){for(var c=0;c<this.children.length;++c){var p=this.children[c],_=p.chunkSize();if(o<_){var I=Math.min(a,_-o);if(p.iterN(o,I,u))return!0;if((a-=I)==0)break;o=0}else o-=_}}};var Oa=function(o,a,u){if(u)for(var c in u)u.hasOwnProperty(c)&&(this[c]=u[c]);this.doc=o,this.node=a};function vu(o,a,u){Rr(a)<(o.curOp&&o.curOp.scrollTop||o.doc.scrollTop)&&Yl(o,u)}function Zp(o,a,u,c){var p=new Oa(o,u,c),_=o.cm;return _&&p.noHScroll&&(_.display.alignWidgets=!0),Ca(o,a,"widget",function(I){var B=I.widgets||(I.widgets=[]);if(p.insertAt==null?B.push(p):B.splice(Math.min(B.length,Math.max(0,p.insertAt)),0,p),p.line=I,_&&!Sn(o,I)){var et=Rr(I)<o.scrollTop;Un(I,I.height+kt(p)),et&&Yl(_,p.height),_.curOp.forceUpdate=!0}return!0}),_&&Pn(_,"lineWidgetAdded",_,p,typeof a=="number"?a:rn(a)),p}Oa.prototype.clear=function(){var o=this.doc.cm,a=this.line.widgets,u=this.line,c=rn(u);if(c!=null&&a){for(var p=0;p<a.length;++p)a[p]==this&&a.splice(p--,1);a.length||(u.widgets=null);var _=kt(this);Un(u,Math.max(0,u.height-_)),o&&(Vr(o,function(){vu(o,u,-_),oi(o,c,"widget")}),Pn(o,"lineWidgetCleared",o,this,c))}},Oa.prototype.changed=function(){var o=this,a=this.height,u=this.doc.cm,c=this.line;this.height=null;var p=kt(this)-a;p&&(Sn(this.doc,c)||Un(c,c.height+p),u&&Vr(u,function(){u.curOp.forceUpdate=!0,vu(u,c,p),Pn(u,"lineWidgetChanged",u,o,rn(c))}))},Ke(Oa);var ka=0,di=function(o,a){this.lines=[],this.type=a,this.doc=o,this.id=++ka};function Ts(o,a,u,c,p){if(c&&c.shared)return yu(o,a,u,c,p);if(o.cm&&!o.cm.curOp)return Zn(o.cm,Ts)(o,a,u,c,p);var _=new di(o,p),I=Wt(a,u);if(c&&Yt(c,_,!1),I>0||I==0&&_.clearWhenEmpty!==!1)return _;if(_.replacedWith&&(_.collapsed=!0,_.widgetNode=Y("span",[_.replacedWith],"CodeMirror-widget"),c.handleMouseEvents||_.widgetNode.setAttribute("cm-ignore-events","true"),c.insertLeft&&(_.widgetNode.insertLeft=!0)),_.collapsed){if(Gn(o,a.line,a,u,_)||a.line!=u.line&&Gn(o,u.line,a,u,_))throw new Error("Inserting collapsed marker partially overlapping an existing one");as()}_.addToHistory&&rc(o,{from:a,to:u,origin:"markText"},o.sel,NaN);var B,et=a.line,it=o.cm;if(o.iter(et,u.line+1,function(St){it&&_.collapsed&&!it.options.lineWrapping&&Cn(St)==it.display.maxLine&&(B=!0),_.collapsed&&et!=a.line&&Un(St,0),ki(St,new Wn(_,et==a.line?a.ch:null,et==u.line?u.ch:null),o.cm&&o.cm.curOp),++et}),_.collapsed&&o.iter(a.line,u.line+1,function(St){Sn(o,St)&&Un(St,0)}),_.clearOnEnter&&_t(_,"beforeCursorEnter",function(){return _.clear()}),_.readOnly&&(ss(),(o.history.done.length||o.history.undone.length)&&o.clearHistory()),_.collapsed&&(_.id=++ka,_.atomic=!0),it){if(B&&(it.curOp.updateMaxLine=!0),_.collapsed)mr(it,a.line,u.line+1);else if(_.className||_.startStyle||_.endStyle||_.css||_.attributes||_.title)for(var Ct=a.line;Ct<=u.line;Ct++)oi(it,Ct,"text");_.atomic&&du(it.doc),Pn(it,"markerAdded",it,_)}return _}di.prototype.clear=function(){if(!this.explicitlyCleared){var o=this.doc.cm,a=o&&!o.curOp;if(a&&Hi(o),tn(this,"clear")){var u=this.find();u&&Pn(this,"clear",u.from,u.to)}for(var c=null,p=null,_=0;_<this.lines.length;++_){var I=this.lines[_],B=No(I.markedSpans,this);o&&!this.collapsed?oi(o,rn(I),"text"):o&&(B.to!=null&&(p=rn(I)),B.from!=null&&(c=rn(I))),I.markedSpans=Ys(I.markedSpans,B),B.from==null&&this.collapsed&&!Sn(this.doc,I)&&o&&Un(I,ms(o.display))}if(o&&this.collapsed&&!o.options.lineWrapping)for(var et=0;et<this.lines.length;++et){var it=Cn(this.lines[et]),Ct=Ho(it);Ct>o.display.maxLineLength&&(o.display.maxLine=it,o.display.maxLineLength=Ct,o.display.maxLineChanged=!0)}c!=null&&o&&this.collapsed&&mr(o,c,p+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,o&&du(o.doc)),o&&Pn(o,"markerCleared",o,this,c,p),a&&zi(o),this.parent&&this.parent.clear()}},di.prototype.find=function(o,a){var u,c;o==null&&this.type=="bookmark"&&(o=1);for(var p=0;p<this.lines.length;++p){var _=this.lines[p],I=No(_.markedSpans,this);if(I.from!=null&&(u=ut(a?_:rn(_),I.from),o==-1))return u;if(I.to!=null&&(c=ut(a?_:rn(_),I.to),o==1))return c}return u&&{from:u,to:c}},di.prototype.changed=function(){var o=this,a=this.find(-1,!0),u=this,c=this.doc.cm;a&&c&&Vr(c,function(){var p=a.line,_=rn(a.line),I=Hl(c,_);if(I&&(tl(I),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,!Sn(u.doc,p)&&u.height!=null){var B=u.height;u.height=null;var et=kt(u)-B;et&&Un(p,p.height+et)}Pn(c,"markerChanged",c,o)})},di.prototype.attachLine=function(o){if(!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;a.maybeHiddenMarkers&&re(a.maybeHiddenMarkers,this)!=-1||(a.maybeUnhiddenMarkers||(a.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(o)},di.prototype.detachLine=function(o){if(this.lines.splice(re(this.lines,o),1),!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this)}},Ke(di);var Ta=function(o,a){this.markers=o,this.primary=a;for(var u=0;u<o.length;++u)o[u].parent=this};function yu(o,a,u,c,p){(c=Yt(c)).shared=!1;var _=[Ts(o,a,u,c,p)],I=_[0],B=c.widgetNode;return ui(o,function(et){B&&(c.widgetNode=B.cloneNode(!0)),_.push(Ts(et,Pe(et,a),Pe(et,u),c,p));for(var it=0;it<et.linked.length;++it)if(et.linked[it].isParent)return;I=Nt(_)}),new Ta(_,I)}function bu(o){return o.findMarks(ut(o.first,0),o.clipPos(ut(o.lastLine())),function(a){return a.parent})}function wu(o,a){for(var u=0;u<a.length;u++){var c=a[u],p=c.find(),_=o.clipPos(p.from),I=o.clipPos(p.to);if(Wt(_,I)){var B=Ts(o,_,I,c.primary,c.primary.type);c.markers.push(B),B.parent=c}}}function pc(o){for(var a=function(c){var p=o[c],_=[p.primary.doc];ui(p.primary.doc,function(et){return _.push(et)});for(var I=0;I<p.markers.length;I++){var B=p.markers[I];re(_,B.doc)==-1&&(B.parent=null,p.markers.splice(I--,1))}},u=0;u<o.length;u++)a(u)}Ta.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var o=0;o<this.markers.length;++o)this.markers[o].clear();Pn(this,"clear")}},Ta.prototype.find=function(o,a){return this.primary.find(o,a)},Ke(Ta);var _u=0,Er=function(o,a,u,c,p){if(!(this instanceof Er))return new Er(o,a,u,c,p);u==null&&(u=0),Sa.call(this,[new ks([new vo("",null)])]),this.first=u,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=u;var _=ut(u,0);this.sel=li(_),this.history=new ya(null),this.id=++_u,this.modeOption=a,this.lineSep=c,this.direction=p=="rtl"?"rtl":"ltr",this.extend=!1,typeof o=="string"&&(o=this.splitLines(o)),Cs(this,{from:_,to:_,text:o}),ar(this,li(_),Me)};Er.prototype=vt(Sa.prototype,{constructor:Er,iter:function(o,a,u){u?this.iterN(o-this.first,a-o,u):this.iterN(this.first,this.first+this.size,o)},insert:function(o,a){for(var u=0,c=0;c<a.length;++c)u+=a[c].height;this.insertInner(o-this.first,a,u)},remove:function(o,a){this.removeInner(o-this.first,a)},getValue:function(o){var a=xo(this,this.first,this.first+this.size);return o===!1?a:a.join(o||this.lineSeparator())},setValue:Yn(function(o){var a=ut(this.first,0),u=this.first+this.size-1;Ao(this,{from:a,to:ut(u,je(this,u).text.length),text:this.splitLines(o),origin:"setValue",full:!0},!0),this.cm&&ws(this.cm,0,0),ar(this,li(a),Me)}),replaceRange:function(o,a,u,c){Os(this,o,a=Pe(this,a),u=u?Pe(this,u):a,c)},getRange:function(o,a,u){var c=Ir(this,Pe(this,o),Pe(this,a));return u===!1?c:u===""?c.join(""):c.join(u||this.lineSeparator())},getLine:function(o){var a=this.getLineHandle(o);return a&&a.text},getLineHandle:function(o){if(go(this,o))return je(this,o)},getLineNumber:function(o){return rn(o)},getLineHandleVisualStart:function(o){return typeof o=="number"&&(o=je(this,o)),Cn(o)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(o){return Pe(this,o)},getCursor:function(o){var a=this.sel.primary();return o==null||o=="head"?a.head:o=="anchor"?a.anchor:o=="end"||o=="to"||o===!1?a.to():a.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Yn(function(o,a,u){pu(this,Pe(this,typeof o=="number"?ut(o,a||0):o),null,u)}),setSelection:Yn(function(o,a,u){pu(this,Pe(this,o),Pe(this,a||o),u)}),extendSelection:Yn(function(o,a,u){ml(this,Pe(this,o),a&&Pe(this,a),u)}),extendSelections:Yn(function(o,a){uu(this,rs(this,o),a)}),extendSelectionsBy:Yn(function(o,a){uu(this,rs(this,wt(this.sel.ranges,o)),a)}),setSelections:Yn(function(o,a,u){if(o.length){for(var c=[],p=0;p<o.length;p++)c[p]=new un(Pe(this,o[p].anchor),Pe(this,o[p].head||o[p].anchor));a==null&&(a=Math.min(o.length-1,this.sel.primIndex)),ar(this,lo(this.cm,c,a),u)}}),addSelection:Yn(function(o,a,u){var c=this.sel.ranges.slice(0);c.push(new un(Pe(this,o),Pe(this,a||o))),ar(this,lo(this.cm,c,c.length-1),u)}),getSelection:function(o){for(var a,u=this.sel.ranges,c=0;c<u.length;c++){var p=Ir(this,u[c].from(),u[c].to());a=a?a.concat(p):p}return o===!1?a:a.join(o||this.lineSeparator())},getSelections:function(o){for(var a=[],u=this.sel.ranges,c=0;c<u.length;c++){var p=Ir(this,u[c].from(),u[c].to());o!==!1&&(p=p.join(o||this.lineSeparator())),a[c]=p}return a},replaceSelection:function(o,a,u){for(var c=[],p=0;p<this.sel.ranges.length;p++)c[p]=o;this.replaceSelections(c,a,u||"+input")},replaceSelections:Yn(function(o,a,u){for(var c=[],p=this.sel,_=0;_<p.ranges.length;_++){var I=p.ranges[_];c[_]={from:I.from(),to:I.to(),text:this.splitLines(o[_]),origin:u}}for(var B=a&&a!="end"&&Bp(this,c,a),et=c.length-1;et>=0;et--)Ao(this,c[et]);B?ic(this,B):this.cm&&bs(this.cm)}),undo:Yn(function(){_a(this,"undo")}),redo:Yn(function(){_a(this,"redo")}),undoSelection:Yn(function(){_a(this,"undo",!0)}),redoSelection:Yn(function(){_a(this,"redo",!0)}),setExtending:function(o){this.extend=o},getExtending:function(){return this.extend},historySize:function(){for(var o=this.history,a=0,u=0,c=0;c<o.done.length;c++)o.done[c].ranges||++a;for(var p=0;p<o.undone.length;p++)o.undone[p].ranges||++u;return{undo:a,redo:u}},clearHistory:function(){var o=this;this.history=new ya(this.history),ui(this,function(a){return a.history=o.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(o){return o&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(o){return this.history.generation==(o||this.cleanGeneration)},getHistory:function(){return{done:Ui(this.history.done),undone:Ui(this.history.undone)}},setHistory:function(o){var a=this.history=new ya(this.history);a.done=Ui(o.done.slice(0),null,!0),a.undone=Ui(o.undone.slice(0),null,!0)},setGutterMarker:Yn(function(o,a,u){return Ca(this,o,"gutter",function(c){var p=c.gutterMarkers||(c.gutterMarkers={});return p[a]=u,!u&&ft(p)&&(c.gutterMarkers=null),!0})}),clearGutter:Yn(function(o){var a=this;this.iter(function(u){u.gutterMarkers&&u.gutterMarkers[o]&&Ca(a,u,"gutter",function(){return u.gutterMarkers[o]=null,ft(u.gutterMarkers)&&(u.gutterMarkers=null),!0})})}),lineInfo:function(o){var a;if(typeof o=="number"){if(!go(this,o)||(a=o,!(o=je(this,o))))return null}else if((a=rn(o))==null)return null;return{line:a,handle:o,text:o.text,gutterMarkers:o.gutterMarkers,textClass:o.textClass,bgClass:o.bgClass,wrapClass:o.wrapClass,widgets:o.widgets}},addLineClass:Yn(function(o,a,u){return Ca(this,o,a=="gutter"?"gutter":"class",function(c){var p=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass";if(c[p]){if(P(u).test(c[p]))return!1;c[p]+=" "+u}else c[p]=u;return!0})}),removeLineClass:Yn(function(o,a,u){return Ca(this,o,a=="gutter"?"gutter":"class",function(c){var p=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass",_=c[p];if(!_)return!1;if(u==null)c[p]=null;else{var I=_.match(P(u));if(!I)return!1;var B=I.index+I[0].length;c[p]=_.slice(0,I.index)+(I.index&&B!=_.length?" ":"")+_.slice(B)||null}return!0})}),addLineWidget:Yn(function(o,a,u){return Zp(this,o,a,u)}),removeLineWidget:function(o){o.clear()},markText:function(o,a,u){return Ts(this,Pe(this,o),Pe(this,a),u,u&&u.type||"range")},setBookmark:function(o,a){var u={replacedWith:a&&(a.nodeType==null?a.widget:a),insertLeft:a&&a.insertLeft,clearWhenEmpty:!1,shared:a&&a.shared,handleMouseEvents:a&&a.handleMouseEvents};return Ts(this,o=Pe(this,o),o,u,"bookmark")},findMarksAt:function(o){var a=[],u=je(this,(o=Pe(this,o)).line).markedSpans;if(u)for(var c=0;c<u.length;++c){var p=u[c];(p.from==null||p.from<=o.ch)&&(p.to==null||p.to>=o.ch)&&a.push(p.marker.parent||p.marker)}return a},findMarks:function(o,a,u){o=Pe(this,o),a=Pe(this,a);var c=[],p=o.line;return this.iter(o.line,a.line+1,function(_){var I=_.markedSpans;if(I)for(var B=0;B<I.length;B++){var et=I[B];et.to!=null&&p==o.line&&o.ch>=et.to||et.from==null&&p!=o.line||et.from!=null&&p==a.line&&et.from>=a.ch||u&&!u(et.marker)||c.push(et.marker.parent||et.marker)}++p}),c},getAllMarks:function(){var o=[];return this.iter(function(a){var u=a.markedSpans;if(u)for(var c=0;c<u.length;++c)u[c].from!=null&&o.push(u[c].marker)}),o},posFromIndex:function(o){var a,u=this.first,c=this.lineSeparator().length;return this.iter(function(p){var _=p.text.length+c;if(_>o)return a=o,!0;o-=_,++u}),Pe(this,ut(u,a))},indexFromPos:function(o){var a=(o=Pe(this,o)).ch;if(o.line<this.first||o.ch<0)return 0;var u=this.lineSeparator().length;return this.iter(this.first,o.line,function(c){a+=c.text.length+u}),a},copy:function(o){var a=new Er(xo(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return a.scrollTop=this.scrollTop,a.scrollLeft=this.scrollLeft,a.sel=this.sel,a.extend=!1,o&&(a.history.undoDepth=this.history.undoDepth,a.setHistory(this.getHistory())),a},linkedDoc:function(o){o||(o={});var a=this.first,u=this.first+this.size;o.from!=null&&o.from>a&&(a=o.from),o.to!=null&&o.to<u&&(u=o.to);var c=new Er(xo(this,a,u),o.mode||this.modeOption,a,this.lineSep,this.direction);return o.sharedHist&&(c.history=this.history),(this.linked||(this.linked=[])).push({doc:c,sharedHist:o.sharedHist}),c.linked=[{doc:this,isParent:!0,sharedHist:o.sharedHist}],wu(c,bu(this)),c},unlinkDoc:function(o){if(o instanceof kn&&(o=o.doc),this.linked){for(var a=0;a<this.linked.length;++a)if(this.linked[a].doc==o){this.linked.splice(a,1),o.unlinkDoc(this),pc(bu(this));break}}if(o.history==this.history){var u=[o.id];ui(o,function(c){return u.push(c.id)},!0),o.history=new ya(null),o.history.done=Ui(this.history.done,u),o.history.undone=Ui(this.history.undone,u)}},iterLinkedDocs:function(o){ui(this,o)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(o){return this.lineSep?o.split(this.lineSep):Do(o)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Yn(function(o){o!="rtl"&&(o="ltr"),o!=this.direction&&(this.direction=o,this.iter(function(a){return a.order=null}),this.cm&&pi(this.cm))})}),Er.prototype.eachLine=Er.prototype.iter;var xu=0;function Yp(o){var a=this;if(fc(a),!be(a,o)&&!Tt(a.display,o)){cn(o),O&&(xu=+new Date);var u=Tn(a,o,!0),c=o.dataTransfer.files;if(u&&!a.isReadOnly())if(c&&c.length&&window.FileReader&&window.File)for(var p=c.length,_=Array(p),I=0,B=function(){++I==p&&Zn(a,function(){var zt={from:u=Pe(a.doc,u),to:u,text:a.doc.splitLines(_.filter(function(Kt){return Kt!=null}).join(a.doc.lineSeparator())),origin:"paste"};Ao(a.doc,zt),ic(a.doc,li(Pe(a.doc,u),Pe(a.doc,ci(zt))))})()},et=function(zt,Kt){if(a.options.allowDropFileTypes&&re(a.options.allowDropFileTypes,zt.type)==-1)B();else{var ie=new FileReader;ie.onerror=function(){return B()},ie.onload=function(){var he=ie.result;/[\x00-\x08\x0e-\x1f]{2}/.test(he)||(_[Kt]=he),B()},ie.readAsText(zt)}},it=0;it<c.length;it++)et(c[it],it);else{if(a.state.draggingText&&a.doc.sel.contains(u)>-1)return a.state.draggingText(o),void setTimeout(function(){return a.display.input.focus()},20);try{var Ct=o.dataTransfer.getData("Text");if(Ct){var St;if(a.state.draggingText&&!a.state.draggingText.copy&&(St=a.listSelections()),fi(a.doc,li(u,u)),St)for(var Vt=0;Vt<St.length;++Vt)Os(a.doc,"",St[Vt].anchor,St[Vt].head,"drag");a.replaceSelection(Ct,"around","paste"),a.display.input.focus()}}catch{}}}}function Kp(o,a){if(O&&(!o.state.draggingText||+new Date-xu<100))En(a);else if(!be(o,a)&&!Tt(o.display,a)&&(a.dataTransfer.setData("Text",o.getSelection()),a.dataTransfer.effectAllowed="copyMove",a.dataTransfer.setDragImage&&!w)){var u=H("img",null,null,"position: fixed; left: 0; top: 0;");u.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",S&&(u.width=u.height=1,o.display.wrapper.appendChild(u),u._top=u.offsetTop),a.dataTransfer.setDragImage(u,0,0),S&&u.parentNode.removeChild(u)}}function Xp(o,a){var u=Tn(o,a);if(u){var c=document.createDocumentFragment();Gl(o,u,c),o.display.dragCursor||(o.display.dragCursor=H("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),o.display.lineSpace.insertBefore(o.display.dragCursor,o.display.cursorDiv)),rt(o.display.dragCursor,c)}}function fc(o){o.display.dragCursor&&(o.display.lineSpace.removeChild(o.display.dragCursor),o.display.dragCursor=null)}function dc(o){if(document.getElementsByClassName){for(var a=document.getElementsByClassName("CodeMirror"),u=[],c=0;c<a.length;c++){var p=a[c].CodeMirror;p&&u.push(p)}u.length&&u[0].operation(function(){for(var _=0;_<u.length;_++)o(u[_])})}}var Cu=!1;function $i(){Cu||(Jp(),Cu=!0)}function Jp(){var o;_t(window,"resize",function(){o==null&&(o=setTimeout(function(){o=null,dc(Qp)},100))}),_t(window,"blur",function(){return dc(Ri)})}function Qp(o){var a=o.display;a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.scrollbarsClipped=!1,o.setSize()}for(var Wo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ea=0;Ea<10;Ea++)Wo[Ea+48]=Wo[Ea+96]=String(Ea);for(var bl=65;bl<=90;bl++)Wo[bl]=String.fromCharCode(bl);for(var Es=1;Es<=12;Es++)Wo[Es+111]=Wo[Es+63235]="F"+Es;var $o={};function An(o){var a,u,c,p,_=o.split(/-(?!$)/);o=_[_.length-1];for(var I=0;I<_.length-1;I++){var B=_[I];if(/^(cmd|meta|m)$/i.test(B))p=!0;else if(/^a(lt)?$/i.test(B))a=!0;else if(/^(c|ctrl|control)$/i.test(B))u=!0;else{if(!/^s(hift)?$/i.test(B))throw new Error("Unrecognized modifier name: "+B);c=!0}}return a&&(o="Alt-"+o),u&&(o="Ctrl-"+o),p&&(o="Cmd-"+o),c&&(o="Shift-"+o),o}function Su(o){var a={};for(var u in o)if(o.hasOwnProperty(u)){var c=o[u];if(/^(name|fallthrough|(de|at)tach)$/.test(u))continue;if(c=="..."){delete o[u];continue}for(var p=wt(u.split(" "),An),_=0;_<p.length;_++){var I=void 0,B=void 0;_==p.length-1?(B=p.join(" "),I=c):(B=p.slice(0,_+1).join(" "),I="...");var et=a[B];if(et){if(et!=I)throw new Error("Inconsistent bindings for "+B)}else a[B]=I}delete o[u]}for(var it in a)o[it]=a[it];return o}function hi(o,a,u,c){var p=(a=Pa(a)).call?a.call(o,c):a[o];if(p===!1)return"nothing";if(p==="...")return"multi";if(p!=null&&u(p))return"handled";if(a.fallthrough){if(Object.prototype.toString.call(a.fallthrough)!="[object Array]")return hi(o,a.fallthrough,u,c);for(var _=0;_<a.fallthrough.length;_++){var I=hi(o,a.fallthrough[_],u,c);if(I)return I}}}function Ps(o){var a=typeof o=="string"?o:Wo[o.keyCode];return a=="Ctrl"||a=="Alt"||a=="Shift"||a=="Mod"}function wl(o,a,u){var c=o;return a.altKey&&c!="Alt"&&(o="Alt-"+o),(U?a.metaKey:a.ctrlKey)&&c!="Ctrl"&&(o="Ctrl-"+o),(U?a.ctrlKey:a.metaKey)&&c!="Mod"&&(o="Cmd-"+o),!u&&a.shiftKey&&c!="Shift"&&(o="Shift-"+o),o}function Ou(o,a){if(S&&o.keyCode==34&&o.char)return!1;var u=Wo[o.keyCode];return u!=null&&!o.altGraphKey&&(o.keyCode==3&&o.code&&(u=o.code),wl(u,o,a))}function Pa(o){return typeof o=="string"?$o[o]:o}function gi(o,a){for(var u=o.doc.sel.ranges,c=[],p=0;p<u.length;p++){for(var _=a(u[p]);c.length&&Wt(_.from,Nt(c).to)<=0;){var I=c.pop();if(Wt(I.from,_.from)<0){_.from=I.from;break}}c.push(_)}Vr(o,function(){for(var B=c.length-1;B>=0;B--)Os(o.doc,"",c[B].from,c[B].to,"+delete");bs(o)})}function _l(o,a,u){var c=Ut(o.text,a+u,u);return c<0||c>o.text.length?null:c}function As(o,a,u){var c=_l(o,a.ch,u);return c==null?null:new ut(a.line,c,u<0?"after":"before")}function xl(o,a,u,c,p){if(o){a.doc.direction=="rtl"&&(p=-p);var _=ke(u,a.doc.direction);if(_){var I,B=p<0?Nt(_):_[0],et=p<0==(B.level==1)?"after":"before";if(B.level>0||a.doc.direction=="rtl"){var it=Bo(a,u);I=p<0?u.text.length-1:0;var Ct=To(a,it,I).top;I=pe(function(St){return To(a,it,St).top==Ct},p<0==(B.level==1)?B.from:B.to-1,I),et=="before"&&(I=_l(u,I,1))}else I=p<0?B.to:B.from;return new ut(c,I,et)}}return new ut(c,p<0?u.text.length:0,p<0?"before":"after")}function ku(o,a,u,c){var p=ke(a,o.doc.direction);if(!p)return As(a,u,c);u.ch>=a.text.length?(u.ch=a.text.length,u.sticky="before"):u.ch<=0&&(u.ch=0,u.sticky="after");var _=$e(p,u.ch,u.sticky),I=p[_];if(o.doc.direction=="ltr"&&I.level%2==0&&(c>0?I.to>u.ch:I.from<u.ch))return As(a,u,c);var B,et=function(we,Ce){return _l(a,we instanceof ut?we.ch:we,Ce)},it=function(we){return o.options.lineWrapping?(B=B||Bo(o,a),Uc(o,a,B,we)):{begin:0,end:a.text.length}},Ct=it(u.sticky=="before"?et(u,-1):u.ch);if(o.doc.direction=="rtl"||I.level==1){var St=I.level==1==c<0,Vt=et(u,St?1:-1);if(Vt!=null&&(St?Vt<=I.to&&Vt<=Ct.end:Vt>=I.from&&Vt>=Ct.begin)){var zt=St?"before":"after";return new ut(u.line,Vt,zt)}}var Kt=function(we,Ce,me){for(var Ae=function(gn,Hr){return Hr?new ut(u.line,et(gn,1),"before"):new ut(u.line,gn,"after")};we>=0&&we<p.length;we+=Ce){var Ee=p[we],Ie=Ce>0==(Ee.level!=1),vn=Ie?me.begin:et(me.end,-1);if(Ee.from<=vn&&vn<Ee.to||(vn=Ie?Ee.from:et(Ee.to,-1),me.begin<=vn&&vn<me.end))return Ae(vn,Ie)}},ie=Kt(_+c,c,Ct);if(ie)return ie;var he=c>0?Ct.end:et(Ct.begin,-1);return he==null||c>0&&he==a.text.length||!(ie=Kt(c>0?0:p.length-1,c,it(he)))?null:ie}$o.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},$o.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},$o.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},$o.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},$o.default=N?$o.macDefault:$o.pcDefault;var Aa={selectAll:lc,singleSelection:function(o){return o.setSelection(o.getCursor("anchor"),o.getCursor("head"),Me)},killLine:function(o){return gi(o,function(a){if(a.empty()){var u=je(o.doc,a.head.line).text.length;return a.head.ch==u&&a.head.line<o.lastLine()?{from:a.head,to:ut(a.head.line+1,0)}:{from:a.head,to:ut(a.head.line,u)}}return{from:a.from(),to:a.to()}})},deleteLine:function(o){return gi(o,function(a){return{from:ut(a.from().line,0),to:Pe(o.doc,ut(a.to().line+1,0))}})},delLineLeft:function(o){return gi(o,function(a){return{from:ut(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(o){return gi(o,function(a){var u=o.charCoords(a.head,"div").top+5;return{from:o.coordsChar({left:0,top:u},"div"),to:a.from()}})},delWrappedLineRight:function(o){return gi(o,function(a){var u=o.charCoords(a.head,"div").top+5,c=o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:u},"div");return{from:a.from(),to:c}})},undo:function(o){return o.undo()},redo:function(o){return o.redo()},undoSelection:function(o){return o.undoSelection()},redoSelection:function(o){return o.redoSelection()},goDocStart:function(o){return o.extendSelection(ut(o.firstLine(),0))},goDocEnd:function(o){return o.extendSelection(ut(o.lastLine()))},goLineStart:function(o){return o.extendSelectionsBy(function(a){return Tu(o,a.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(o){return o.extendSelectionsBy(function(a){return Cl(o,a.head)},{origin:"+move",bias:1})},goLineEnd:function(o){return o.extendSelectionsBy(function(a){return js(o,a.head.line)},{origin:"+move",bias:-1})},goLineRight:function(o){return o.extendSelectionsBy(function(a){var u=o.cursorCoords(a.head,"div").top+5;return o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:u},"div")},ze)},goLineLeft:function(o){return o.extendSelectionsBy(function(a){var u=o.cursorCoords(a.head,"div").top+5;return o.coordsChar({left:0,top:u},"div")},ze)},goLineLeftSmart:function(o){return o.extendSelectionsBy(function(a){var u=o.cursorCoords(a.head,"div").top+5,c=o.coordsChar({left:0,top:u},"div");return c.ch<o.getLine(c.line).search(/\S/)?Cl(o,a.head):c},ze)},goLineUp:function(o){return o.moveV(-1,"line")},goLineDown:function(o){return o.moveV(1,"line")},goPageUp:function(o){return o.moveV(-1,"page")},goPageDown:function(o){return o.moveV(1,"page")},goCharLeft:function(o){return o.moveH(-1,"char")},goCharRight:function(o){return o.moveH(1,"char")},goColumnLeft:function(o){return o.moveH(-1,"column")},goColumnRight:function(o){return o.moveH(1,"column")},goWordLeft:function(o){return o.moveH(-1,"word")},goGroupRight:function(o){return o.moveH(1,"group")},goGroupLeft:function(o){return o.moveH(-1,"group")},goWordRight:function(o){return o.moveH(1,"word")},delCharBefore:function(o){return o.deleteH(-1,"codepoint")},delCharAfter:function(o){return o.deleteH(1,"char")},delWordBefore:function(o){return o.deleteH(-1,"word")},delWordAfter:function(o){return o.deleteH(1,"word")},delGroupBefore:function(o){return o.deleteH(-1,"group")},delGroupAfter:function(o){return o.deleteH(1,"group")},indentAuto:function(o){return o.indentSelection("smart")},indentMore:function(o){return o.indentSelection("add")},indentLess:function(o){return o.indentSelection("subtract")},insertTab:function(o){return o.replaceSelection("	")},insertSoftTab:function(o){for(var a=[],u=o.listSelections(),c=o.options.tabSize,p=0;p<u.length;p++){var _=u[p].from(),I=Ht(o.getLine(_.line),_.ch,c);a.push(Gt(c-I%c))}o.replaceSelections(a)},defaultTab:function(o){o.somethingSelected()?o.indentSelection("add"):o.execCommand("insertTab")},transposeChars:function(o){return Vr(o,function(){for(var a=o.listSelections(),u=[],c=0;c<a.length;c++)if(a[c].empty()){var p=a[c].head,_=je(o.doc,p.line).text;if(_){if(p.ch==_.length&&(p=new ut(p.line,p.ch-1)),p.ch>0)p=new ut(p.line,p.ch+1),o.replaceRange(_.charAt(p.ch-1)+_.charAt(p.ch-2),ut(p.line,p.ch-2),p,"+transpose");else if(p.line>o.doc.first){var I=je(o.doc,p.line-1).text;I&&(p=new ut(p.line,1),o.replaceRange(_.charAt(0)+o.doc.lineSeparator()+I.charAt(I.length-1),ut(p.line-1,I.length-1),p,"+transpose"))}}u.push(new un(p,p))}o.setSelections(u)})},newlineAndIndent:function(o){return Vr(o,function(){for(var a=o.listSelections(),u=a.length-1;u>=0;u--)o.replaceRange(o.doc.lineSeparator(),a[u].anchor,a[u].head,"+input");a=o.listSelections();for(var c=0;c<a.length;c++)o.indentLine(a[c].from().line,null,!0);bs(o)})},openLine:function(o){return o.replaceSelection(`
`,"start")},toggleOverwrite:function(o){return o.toggleOverwrite()}};function Tu(o,a){var u=je(o.doc,a),c=Cn(u);return c!=u&&(a=rn(c)),xl(!0,o,c,a,1)}function js(o,a){var u=je(o.doc,a),c=hr(u);return c!=u&&(a=rn(c)),xl(!0,o,u,a,-1)}function Cl(o,a){var u=Tu(o,a.line),c=je(o.doc,u.line),p=ke(c,o.doc.direction);if(!p||p[0].level==0){var _=Math.max(u.ch,c.text.search(/\S/)),I=a.line==u.line&&a.ch<=_&&a.ch;return ut(u.line,I?0:_,u.sticky)}return u}function Ms(o,a,u){if(typeof a=="string"&&!(a=Aa[a]))return!1;o.display.input.ensurePolled();var c=o.display.shift,p=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),u&&(o.display.shift=!1),p=a(o)!=fe}finally{o.display.shift=c,o.state.suppressEdits=!1}return p}function Eu(o,a,u){for(var c=0;c<o.state.keyMaps.length;c++){var p=hi(a,o.state.keyMaps[c],u,o);if(p)return p}return o.options.extraKeys&&hi(a,o.options.extraKeys,u,o)||hi(a,o.options.keyMap,u,o)}var Pu=new ne;function Ls(o,a,u,c){var p=o.state.keySeq;if(p){if(Ps(a))return"handled";if(/\'$/.test(a)?o.state.keySeq=null:Pu.set(50,function(){o.state.keySeq==p&&(o.state.keySeq=null,o.display.input.reset())}),hc(o,p+" "+a,u,c))return!0}return hc(o,a,u,c)}function hc(o,a,u,c){var p=Eu(o,a,c);return p=="multi"&&(o.state.keySeq=a),p=="handled"&&Pn(o,"keyHandled",o,a,u),p!="handled"&&p!="multi"||(cn(u),ys(o)),!!p}function ja(o,a){var u=Ou(a,!0);return!!u&&(a.shiftKey&&!o.state.keySeq?Ls(o,"Shift-"+u,a,function(c){return Ms(o,c,!0)})||Ls(o,u,a,function(c){if(typeof c=="string"?/^go[A-Z]/.test(c):c.motion)return Ms(o,c)}):Ls(o,u,a,function(c){return Ms(o,c)}))}function Au(o,a,u){return Ls(o,"'"+u+"'",a,function(c){return Ms(o,c,!0)})}var gc=null;function ju(o){var a=this;if(!(o.target&&o.target!=a.display.input.getField()||(a.curOp.focus=ct(mt(a)),be(a,o)))){O&&h<11&&o.keyCode==27&&(o.returnValue=!1);var u=o.keyCode;a.display.shift=u==16||o.shiftKey;var c=ja(a,o);S&&(gc=c?u:null,c||u!=88||qr||!(N?o.metaKey:o.ctrlKey)||a.replaceSelection("",null,"cut")),F&&!N&&!c&&u==46&&o.shiftKey&&!o.ctrlKey&&document.execCommand&&document.execCommand("cut"),u!=18||/\bCodeMirror-crosshair\b/.test(a.display.lineDiv.className)||tf(a)}}function tf(o){var a=o.display.lineDiv;function u(c){c.keyCode!=18&&c.altKey||(tt(a,"CodeMirror-crosshair"),$t(document,"keyup",u),$t(document,"mouseover",u))}jt(a,"CodeMirror-crosshair"),_t(document,"keyup",u),_t(document,"mouseover",u)}function Mu(o){o.keyCode==16&&(this.doc.sel.shift=!1),be(this,o)}function Lu(o){var a=this;if(!(o.target&&o.target!=a.display.input.getField()||Tt(a.display,o)||be(a,o)||o.ctrlKey&&!o.altKey||N&&o.metaKey)){var u=o.keyCode,c=o.charCode;if(S&&u==gc)return gc=null,void cn(o);if(!S||o.which&&!(o.which<10)||!ja(a,o)){var p=String.fromCharCode(c??u);p!="\b"&&(Au(a,o,p)||a.display.input.onKeyPress(o))}}}var Go,Ds,qo=400,mc=function(o,a,u){this.time=o,this.pos=a,this.button=u};function Du(o,a){var u=+new Date;return Ds&&Ds.compare(u,o,a)?(Go=Ds=null,"triple"):Go&&Go.compare(u,o,a)?(Ds=new mc(u,o,a),Go=null,"double"):(Go=new mc(u,o,a),Ds=null,"single")}function vc(o){var a=this,u=a.display;if(!(be(a,o)||u.activeTouch&&u.input.supportsTouch())){if(u.input.ensurePolled(),u.shift=o.shiftKey,Tt(u,o))v||(u.scroller.draggable=!1,setTimeout(function(){return u.scroller.draggable=!0},100));else if(!Ol(a,o)){var c=Tn(a,o),p=sn(o),_=c?Du(c,p):"single";gt(a).focus(),p==1&&a.state.selectingText&&a.state.selectingText(o),c&&ef(a,p,c,_,o)||(p==1?c?rf(a,c,_,o):$r(o)==u.scroller&&cn(o):p==2?(c&&ml(a.doc,c),setTimeout(function(){return u.input.focus()},20)):p==3&&(L?a.display.input.onContextMenu(o):ll(a)))}}}function ef(o,a,u,c,p){var _="Click";return c=="double"?_="Double"+_:c=="triple"&&(_="Triple"+_),Ls(o,wl(_=(a==1?"Left":a==2?"Middle":"Right")+_,p),p,function(I){if(typeof I=="string"&&(I=Aa[I]),!I)return!1;var B=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),B=I(o,u)!=fe}finally{o.state.suppressEdits=!1}return B})}function nf(o,a,u){var c=o.getOption("configureMouse"),p=c?c(o,a,u):{};if(p.unit==null){var _=W?u.shiftKey&&u.metaKey:u.altKey;p.unit=_?"rectangle":a=="single"?"char":a=="double"?"word":"line"}return(p.extend==null||o.doc.extend)&&(p.extend=o.doc.extend||u.shiftKey),p.addNew==null&&(p.addNew=N?u.metaKey:u.ctrlKey),p.moveOnDrag==null&&(p.moveOnDrag=!(N?u.altKey:u.ctrlKey)),p}function rf(o,a,u,c){O?setTimeout(qt($c,o),0):o.curOp.focus=ct(mt(o));var p,_=nf(o,u,c),I=o.doc.sel;o.options.dragDrop&&Gr&&!o.isReadOnly()&&u=="single"&&(p=I.contains(a))>-1&&(Wt((p=I.ranges[p]).from(),a)<0||a.xRel>0)&&(Wt(p.to(),a)>0||a.xRel<0)?of(o,c,a,_):Nu(o,c,a,_)}function of(o,a,u,c){var p=o.display,_=!1,I=Zn(o,function(it){v&&(p.scroller.draggable=!1),o.state.draggingText=!1,o.state.delayingBlurEvent&&(o.hasFocus()?o.state.delayingBlurEvent=!1:ll(o)),$t(p.wrapper.ownerDocument,"mouseup",I),$t(p.wrapper.ownerDocument,"mousemove",B),$t(p.scroller,"dragstart",et),$t(p.scroller,"drop",I),_||(cn(it),c.addNew||ml(o.doc,u,null,null,c.extend),v&&!w||O&&h==9?setTimeout(function(){p.wrapper.ownerDocument.body.focus({preventScroll:!0}),p.input.focus()},20):p.input.focus())}),B=function(it){_=_||Math.abs(a.clientX-it.clientX)+Math.abs(a.clientY-it.clientY)>=10},et=function(){return _=!0};v&&(p.scroller.draggable=!0),o.state.draggingText=I,I.copy=!c.moveOnDrag,_t(p.wrapper.ownerDocument,"mouseup",I),_t(p.wrapper.ownerDocument,"mousemove",B),_t(p.scroller,"dragstart",et),_t(p.scroller,"drop",I),o.state.delayingBlurEvent=!0,setTimeout(function(){return p.input.focus()},20),p.scroller.dragDrop&&p.scroller.dragDrop()}function Iu(o,a,u){if(u=="char")return new un(a,a);if(u=="word")return o.findWordAt(a);if(u=="line")return new un(ut(a.line,0),Pe(o.doc,ut(a.line+1,0)));var c=u(o,a);return new un(c.from,c.to)}function Nu(o,a,u,c){O&&ll(o);var p=o.display,_=o.doc;cn(a);var I,B,et=_.sel,it=et.ranges;if(c.addNew&&!c.extend?(B=_.sel.contains(u),I=B>-1?it[B]:new un(u,u)):(I=_.sel.primary(),B=_.sel.primIndex),c.unit=="rectangle")c.addNew||(I=new un(u,u)),u=Tn(o,a,!0,!0),B=-1;else{var Ct=Iu(o,u,c.unit);I=c.extend?ba(I,Ct.anchor,Ct.head,c.extend):Ct}c.addNew?B==-1?(B=it.length,ar(_,lo(o,it.concat([I]),B),{scroll:!1,origin:"*mouse"})):it.length>1&&it[B].empty()&&c.unit=="char"&&!c.extend?(ar(_,lo(o,it.slice(0,B).concat(it.slice(B+1)),0),{scroll:!1,origin:"*mouse"}),et=_.sel):vl(_,B,I,Se):(B=0,ar(_,new Yr([I],0),Se),et=_.sel);var St=u;function Vt(me){if(Wt(St,me)!=0)if(St=me,c.unit=="rectangle"){for(var Ae=[],Ee=o.options.tabSize,Ie=Ht(je(_,u.line).text,u.ch,Ee),vn=Ht(je(_,me.line).text,me.ch,Ee),gn=Math.min(Ie,vn),Hr=Math.max(Ie,vn),_n=Math.min(u.line,me.line),uo=Math.min(o.lastLine(),Math.max(u.line,me.line));_n<=uo;_n++){var zr=je(_,_n).text,Mn=qe(zr,gn,Ee);gn==Hr?Ae.push(new un(ut(_n,Mn),ut(_n,Mn))):zr.length>Mn&&Ae.push(new un(ut(_n,Mn),ut(_n,qe(zr,Hr,Ee))))}Ae.length||Ae.push(new un(u,u)),ar(_,lo(o,et.ranges.slice(0,B).concat(Ae),B),{origin:"*mouse",scroll:!1}),o.scrollIntoView(me)}else{var Pr,yr=I,Dn=Iu(o,me,c.unit),In=yr.anchor;Wt(Dn.anchor,In)>0?(Pr=Dn.head,In=an(yr.from(),Dn.anchor)):(Pr=Dn.anchor,In=Qe(yr.to(),Dn.head));var On=et.ranges.slice(0);On[B]=Sl(o,new un(Pe(_,In),Pr)),ar(_,lo(o,On,B),Se)}}var zt=p.wrapper.getBoundingClientRect(),Kt=0;function ie(me){var Ae=++Kt,Ee=Tn(o,me,!0,c.unit=="rectangle");if(Ee)if(Wt(Ee,St)!=0){o.curOp.focus=ct(mt(o)),Vt(Ee);var Ie=ul(p,_);(Ee.line>=Ie.to||Ee.line<Ie.from)&&setTimeout(Zn(o,function(){Kt==Ae&&ie(me)}),150)}else{var vn=me.clientY<zt.top?-20:me.clientY>zt.bottom?20:0;vn&&setTimeout(Zn(o,function(){Kt==Ae&&(p.scroller.scrollTop+=vn,ie(me))}),50)}}function he(me){o.state.selectingText=!1,Kt=1/0,me&&(cn(me),p.input.focus()),$t(p.wrapper.ownerDocument,"mousemove",we),$t(p.wrapper.ownerDocument,"mouseup",Ce),_.history.lastSelOrigin=null}var we=Zn(o,function(me){me.buttons!==0&&sn(me)?ie(me):he(me)}),Ce=Zn(o,he);o.state.selectingText=Ce,_t(p.wrapper.ownerDocument,"mousemove",we),_t(p.wrapper.ownerDocument,"mouseup",Ce)}function Sl(o,a){var u=a.anchor,c=a.head,p=je(o.doc,u.line);if(Wt(u,c)==0&&u.sticky==c.sticky)return a;var _=ke(p);if(!_)return a;var I=$e(_,u.ch,u.sticky),B=_[I];if(B.from!=u.ch&&B.to!=u.ch)return a;var et,it=I+(B.from==u.ch==(B.level!=1)?0:1);if(it==0||it==_.length)return a;if(c.line!=u.line)et=(c.line-u.line)*(o.doc.direction=="ltr"?1:-1)>0;else{var Ct=$e(_,c.ch,c.sticky),St=Ct-I||(c.ch-u.ch)*(B.level==1?-1:1);et=Ct==it-1||Ct==it?St<0:St>0}var Vt=_[it+(et?-1:0)],zt=et==(Vt.level==1),Kt=zt?Vt.from:Vt.to,ie=zt?"after":"before";return u.ch==Kt&&u.sticky==ie?a:new un(new ut(u.line,Kt,ie),c)}function Ru(o,a,u,c){var p,_;if(a.touches)p=a.touches[0].clientX,_=a.touches[0].clientY;else try{p=a.clientX,_=a.clientY}catch{return!1}if(p>=Math.floor(o.display.gutters.getBoundingClientRect().right))return!1;c&&cn(a);var I=o.display,B=I.lineDiv.getBoundingClientRect();if(_>B.bottom||!tn(o,u))return Wr(a);_-=B.top-I.viewOffset;for(var et=0;et<o.display.gutterSpecs.length;++et){var it=I.gutters.childNodes[et];if(it&&it.getBoundingClientRect().right>=p)return le(o,u,o,no(o.doc,_),o.display.gutterSpecs[et].className,a),Wr(a)}}function Ol(o,a){return Ru(o,a,"gutterClick",!0)}function yc(o,a){Tt(o.display,a)||sf(o,a)||be(o,a,"contextmenu")||L||o.display.input.onContextMenu(a)}function sf(o,a){return!!tn(o,"gutterContextMenu")&&Ru(o,a,"gutterContextMenu",!1)}function Fu(o){o.display.wrapper.className=o.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+o.options.theme.replace(/(^|\s)\s*/g," cm-s-"),sa(o)}mc.prototype.compare=function(o,a,u){return this.time+qo>o&&Wt(a,this.pos)==0&&u==this.button};var Is={toString:function(){return"CodeMirror.Init"}},Ns={},Gi={};function Vu(o){var a=o.optionHandlers;function u(c,p,_,I){o.defaults[c]=p,_&&(a[c]=I?function(B,et,it){it!=Is&&_(B,et,it)}:_)}o.defineOption=u,o.Init=Is,u("value","",function(c,p){return c.setValue(p)},!0),u("mode",null,function(c,p){c.doc.modeOption=p,ec(c)},!0),u("indentUnit",2,ec,!0),u("indentWithTabs",!1),u("smartIndent",!0),u("tabSize",4,function(c){xs(c),sa(c),mr(c)},!0),u("lineSeparator",null,function(c,p){if(c.doc.lineSep=p,p){var _=[],I=c.doc.first;c.doc.iter(function(et){for(var it=0;;){var Ct=et.text.indexOf(p,it);if(Ct==-1)break;it=Ct+p.length,_.push(ut(I,Ct))}I++});for(var B=_.length-1;B>=0;B--)Os(c.doc,p,_[B],ut(_[B].line,_[B].ch+p.length))}}),u("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(c,p,_){c.state.specialChars=new RegExp(p.source+(p.test("	")?"":"|	"),"g"),_!=Is&&c.refresh()}),u("specialCharPlaceholder",Ai,function(c){return c.refresh()},!0),u("electricChars",!0),u("inputStyle",R?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),u("spellcheck",!1,function(c,p){return c.getInputField().spellcheck=p},!0),u("autocorrect",!1,function(c,p){return c.getInputField().autocorrect=p},!0),u("autocapitalize",!1,function(c,p){return c.getInputField().autocapitalize=p},!0),u("rtlMoveVisually",!$),u("wholeLineUpdateBefore",!0),u("theme","default",function(c){Fu(c),ma(c)},!0),u("keyMap","default",function(c,p,_){var I=Pa(p),B=_!=Is&&Pa(_);B&&B.detach&&B.detach(c,I),I.attach&&I.attach(c,B||null)}),u("extraKeys",null),u("configureMouse",null),u("lineWrapping",!1,lf,!0),u("gutters",[],function(c,p){c.display.gutterSpecs=Jl(p,c.options.lineNumbers),ma(c)},!0),u("fixedGutter",!0,function(c,p){c.display.gutters.style.left=p?Wl(c.display)+"px":"0",c.refresh()},!0),u("coverGutterNextToScrollbar",!1,function(c){return _s(c)},!0),u("scrollbarStyle","native",function(c){Xc(c),_s(c),c.display.scrollbars.setScrollTop(c.doc.scrollTop),c.display.scrollbars.setScrollLeft(c.doc.scrollLeft)},!0),u("lineNumbers",!1,function(c,p){c.display.gutterSpecs=Jl(c.options.gutters,p),ma(c)},!0),u("firstLineNumber",1,ma,!0),u("lineNumberFormatter",function(c){return c},ma,!0),u("showCursorWhenSelecting",!1,ca,!0),u("resetSelectionOnContextMenu",!0),u("lineWiseCopyCut",!0),u("pasteLinesPerSelection",!0),u("selectionsMayTouch",!1),u("readOnly",!1,function(c,p){p=="nocursor"&&(Ri(c),c.display.input.blur()),c.display.input.readOnlyChanged(p)}),u("screenReaderLabel",null,function(c,p){p=p===""?null:p,c.display.input.screenReaderLabelChanged(p)}),u("disableInput",!1,function(c,p){p||c.display.input.reset()},!0),u("dragDrop",!0,af),u("allowDropFileTypes",null),u("cursorBlinkRate",530),u("cursorScrollMargin",0),u("cursorHeight",1,ca,!0),u("singleCursorHeightPerLine",!0,ca,!0),u("workTime",100),u("workDelay",100),u("flattenSpans",!0,xs,!0),u("addModeClass",!1,xs,!0),u("pollInterval",100),u("undoDepth",200,function(c,p){return c.doc.history.undoDepth=p}),u("historyEventDelay",1250),u("viewportMargin",10,function(c){return c.refresh()},!0),u("maxHighlightLength",1e4,xs,!0),u("moveInputWithCursor",!0,function(c,p){p||c.display.input.resetPosition()}),u("tabindex",null,function(c,p){return c.display.input.getField().tabIndex=p||""}),u("autofocus",null),u("direction","ltr",function(c,p){return c.doc.setDirection(p)},!0),u("phrases",null)}function af(o,a,u){if(!a!=!(u&&u!=Is)){var c=o.display.dragFunctions,p=a?_t:$t;p(o.display.scroller,"dragstart",c.start),p(o.display.scroller,"dragenter",c.enter),p(o.display.scroller,"dragover",c.over),p(o.display.scroller,"dragleave",c.leave),p(o.display.scroller,"drop",c.drop)}}function lf(o){o.options.lineWrapping?(jt(o.display.wrapper,"CodeMirror-wrap"),o.display.sizer.style.minWidth="",o.display.sizerWidth=null):(tt(o.display.wrapper,"CodeMirror-wrap"),Ei(o)),$l(o),mr(o),sa(o),setTimeout(function(){return _s(o)},100)}function kn(o,a){var u=this;if(!(this instanceof kn))return new kn(o,a);this.options=a=a?Yt(a):{},Yt(Ns,a,!1);var c=a.value;typeof c=="string"?c=new Er(c,a.mode,null,a.lineSeparator,a.direction):a.mode&&(c.modeOption=a.mode),this.doc=c;var p=new kn.inputStyles[a.inputStyle](this),_=this.display=new nu(o,c,p,a);for(var I in _.wrapper.CodeMirror=this,Fu(this),a.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Xc(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ne,keySeq:null,specialChars:null},a.autofocus&&!R&&_.input.focus(),O&&h<11&&setTimeout(function(){return u.display.input.reset(!0)},20),Hu(this),$i(),Hi(this),this.curOp.forceUpdate=!0,nc(this,c),a.autofocus&&!R||this.hasFocus()?setTimeout(function(){u.hasFocus()&&!u.state.focused&&ql(u)},20):Ri(this),Gi)Gi.hasOwnProperty(I)&&Gi[I](this,a[I],Is);tu(this),a.finishInit&&a.finishInit(this);for(var B=0;B<bc.length;++B)bc[B](this);zi(this),v&&a.lineWrapping&&getComputedStyle(_.lineDiv).textRendering=="optimizelegibility"&&(_.lineDiv.style.textRendering="auto")}function Hu(o){var a=o.display;_t(a.scroller,"mousedown",Zn(o,vc)),_t(a.scroller,"dblclick",O&&h<11?Zn(o,function(et){if(!be(o,et)){var it=Tn(o,et);if(it&&!Ol(o,et)&&!Tt(o.display,et)){cn(et);var Ct=o.findWordAt(it);ml(o.doc,Ct.anchor,Ct.head)}}}):function(et){return be(o,et)||cn(et)}),_t(a.scroller,"contextmenu",function(et){return yc(o,et)}),_t(a.input.getField(),"contextmenu",function(et){a.scroller.contains(et.target)||yc(o,et)});var u,c={end:0};function p(){a.activeTouch&&(u=setTimeout(function(){return a.activeTouch=null},1e3),(c=a.activeTouch).end=+new Date)}function _(et){if(et.touches.length!=1)return!1;var it=et.touches[0];return it.radiusX<=1&&it.radiusY<=1}function I(et,it){if(it.left==null)return!0;var Ct=it.left-et.left,St=it.top-et.top;return Ct*Ct+St*St>400}_t(a.scroller,"touchstart",function(et){if(!be(o,et)&&!_(et)&&!Ol(o,et)){a.input.ensurePolled(),clearTimeout(u);var it=+new Date;a.activeTouch={start:it,moved:!1,prev:it-c.end<=300?c:null},et.touches.length==1&&(a.activeTouch.left=et.touches[0].pageX,a.activeTouch.top=et.touches[0].pageY)}}),_t(a.scroller,"touchmove",function(){a.activeTouch&&(a.activeTouch.moved=!0)}),_t(a.scroller,"touchend",function(et){var it=a.activeTouch;if(it&&!Tt(a,et)&&it.left!=null&&!it.moved&&new Date-it.start<300){var Ct,St=o.coordsChar(a.activeTouch,"page");Ct=!it.prev||I(it,it.prev)?new un(St,St):!it.prev.prev||I(it,it.prev.prev)?o.findWordAt(St):new un(ut(St.line,0),Pe(o.doc,ut(St.line+1,0))),o.setSelection(Ct.anchor,Ct.head),o.focus(),cn(et)}p()}),_t(a.scroller,"touchcancel",p),_t(a.scroller,"scroll",function(){a.scroller.clientHeight&&(pa(o,a.scroller.scrollTop),Fi(o,a.scroller.scrollLeft,!0),le(o,"scroll",o))}),_t(a.scroller,"mousewheel",function(et){return Ql(o,et)}),_t(a.scroller,"DOMMouseScroll",function(et){return Ql(o,et)}),_t(a.wrapper,"scroll",function(){return a.wrapper.scrollTop=a.wrapper.scrollLeft=0}),a.dragFunctions={enter:function(et){be(o,et)||En(et)},over:function(et){be(o,et)||(Xp(o,et),En(et))},start:function(et){return Kp(o,et)},drop:Zn(o,Yp),leave:function(et){be(o,et)||fc(o)}};var B=a.input.getField();_t(B,"keyup",function(et){return Mu.call(o,et)}),_t(B,"keydown",Zn(o,ju)),_t(B,"keypress",Zn(o,Lu)),_t(B,"focus",function(et){return ql(o,et)}),_t(B,"blur",function(et){return Ri(o,et)})}kn.defaults=Ns,kn.optionHandlers=Gi;var bc=[];function Ma(o,a,u,c){var p,_=o.doc;u==null&&(u="add"),u=="smart"&&(_.mode.indent?p=mo(o,a).state:u="prev");var I=o.options.tabSize,B=je(_,a),et=Ht(B.text,null,I);B.stateAfter&&(B.stateAfter=null);var it,Ct=B.text.match(/^\s*/)[0];if(c||/\S/.test(B.text)){if(u=="smart"&&((it=_.mode.indent(p,B.text.slice(Ct.length),B.text))==fe||it>150)){if(!c)return;u="prev"}}else it=0,u="not";u=="prev"?it=a>_.first?Ht(je(_,a-1).text,null,I):0:u=="add"?it=et+o.options.indentUnit:u=="subtract"?it=et-o.options.indentUnit:typeof u=="number"&&(it=et+u),it=Math.max(0,it);var St="",Vt=0;if(o.options.indentWithTabs)for(var zt=Math.floor(it/I);zt;--zt)Vt+=I,St+="	";if(Vt<it&&(St+=Gt(it-Vt)),St!=Ct)return Os(_,St,ut(a,0),ut(a,Ct.length),"+input"),B.stateAfter=null,!0;for(var Kt=0;Kt<_.sel.ranges.length;Kt++){var ie=_.sel.ranges[Kt];if(ie.head.line==a&&ie.head.ch<Ct.length){var he=ut(a,Ct.length);vl(_,Kt,new un(he,he));break}}}kn.defineInitHook=function(o){return bc.push(o)};var co=null;function kl(o){co=o}function wc(o,a,u,c,p){var _=o.doc;o.display.shift=!1,c||(c=_.sel);var I=+new Date-200,B=p=="paste"||o.state.pasteIncoming>I,et=Do(a),it=null;if(B&&c.ranges.length>1)if(co&&co.text.join(`
`)==a){if(c.ranges.length%co.text.length==0){it=[];for(var Ct=0;Ct<co.text.length;Ct++)it.push(_.splitLines(co.text[Ct]))}}else et.length==c.ranges.length&&o.options.pasteLinesPerSelection&&(it=wt(et,function(we){return[we]}));for(var St=o.curOp.updateInput,Vt=c.ranges.length-1;Vt>=0;Vt--){var zt=c.ranges[Vt],Kt=zt.from(),ie=zt.to();zt.empty()&&(u&&u>0?Kt=ut(Kt.line,Kt.ch-u):o.state.overwrite&&!B?ie=ut(ie.line,Math.min(je(_,ie.line).text.length,ie.ch+Nt(et).length)):B&&co&&co.lineWise&&co.text.join(`
`)==et.join(`
`)&&(Kt=ie=ut(Kt.line,0)));var he={from:Kt,to:ie,text:it?it[Vt%it.length]:et,origin:p||(B?"paste":o.state.cutIncoming>I?"cut":"+input")};Ao(o.doc,he),Pn(o,"inputRead",o,he)}a&&!B&&Bu(o,a),bs(o),o.curOp.updateInput<2&&(o.curOp.updateInput=St),o.curOp.typing=!0,o.state.pasteIncoming=o.state.cutIncoming=-1}function zu(o,a){var u=o.clipboardData&&o.clipboardData.getData("Text");if(u)return o.preventDefault(),a.isReadOnly()||a.options.disableInput||!a.hasFocus()||Vr(a,function(){return wc(a,u,0,null,"paste")}),!0}function Bu(o,a){if(o.options.electricChars&&o.options.smartIndent)for(var u=o.doc.sel,c=u.ranges.length-1;c>=0;c--){var p=u.ranges[c];if(!(p.head.ch>100||c&&u.ranges[c-1].head.line==p.head.line)){var _=o.getModeAt(p.head),I=!1;if(_.electricChars){for(var B=0;B<_.electricChars.length;B++)if(a.indexOf(_.electricChars.charAt(B))>-1){I=Ma(o,p.head.line,"smart");break}}else _.electricInput&&_.electricInput.test(je(o.doc,p.head.line).text.slice(0,p.head.ch))&&(I=Ma(o,p.head.line,"smart"));I&&Pn(o,"electricInput",o,p.head.line)}}}function Uu(o){for(var a=[],u=[],c=0;c<o.doc.sel.ranges.length;c++){var p=o.doc.sel.ranges[c].head.line,_={anchor:ut(p,0),head:ut(p+1,0)};u.push(_),a.push(o.getRange(_.anchor,_.head))}return{text:a,ranges:u}}function _c(o,a,u,c){o.setAttribute("autocorrect",u?"on":"off"),o.setAttribute("autocapitalize",c?"on":"off"),o.setAttribute("spellcheck",!!a)}function Wu(){var o=H("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),a=H("div",[o],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return v?o.style.width="1000px":o.setAttribute("wrap","off"),M&&(o.style.border="1px solid black"),a}function cf(o){var a=o.optionHandlers,u=o.helpers={};o.prototype={constructor:o,focus:function(){gt(this).focus(),this.display.input.focus()},setOption:function(c,p){var _=this.options,I=_[c];_[c]==p&&c!="mode"||(_[c]=p,a.hasOwnProperty(c)&&Zn(this,a[c])(this,p,I),le(this,"optionChange",this,c))},getOption:function(c){return this.options[c]},getDoc:function(){return this.doc},addKeyMap:function(c,p){this.state.keyMaps[p?"push":"unshift"](Pa(c))},removeKeyMap:function(c){for(var p=this.state.keyMaps,_=0;_<p.length;++_)if(p[_]==c||p[_].name==c)return p.splice(_,1),!0},addOverlay:vr(function(c,p){var _=c.token?c:o.getMode(this.options,c);if(_.startState)throw new Error("Overlays may not be stateful.");yt(this.state.overlays,{mode:_,modeSpec:c,opaque:p&&p.opaque,priority:p&&p.priority||0},function(I){return I.priority}),this.state.modeGen++,mr(this)}),removeOverlay:vr(function(c){for(var p=this.state.overlays,_=0;_<p.length;++_){var I=p[_].modeSpec;if(I==c||typeof c=="string"&&I.name==c)return p.splice(_,1),this.state.modeGen++,void mr(this)}}),indentLine:vr(function(c,p,_){typeof p!="string"&&typeof p!="number"&&(p=p==null?this.options.smartIndent?"smart":"prev":p?"add":"subtract"),go(this.doc,c)&&Ma(this,c,p,_)}),indentSelection:vr(function(c){for(var p=this.doc.sel.ranges,_=-1,I=0;I<p.length;I++){var B=p[I];if(B.empty())B.head.line>_&&(Ma(this,B.head.line,c,!0),_=B.head.line,I==this.doc.sel.primIndex&&bs(this));else{var et=B.from(),it=B.to(),Ct=Math.max(_,et.line);_=Math.min(this.lastLine(),it.line-(it.ch?0:1))+1;for(var St=Ct;St<_;++St)Ma(this,St,c);var Vt=this.doc.sel.ranges;et.ch==0&&p.length==Vt.length&&Vt[I].from().ch>0&&vl(this.doc,I,new un(et,Vt[I].to()),Me)}}}),getTokenAt:function(c,p){return Jo(this,c,p)},getLineTokens:function(c,p){return Jo(this,ut(c),p,!0)},getTokenTypeAt:function(c){c=Pe(this.doc,c);var p,_=Xo(this,je(this.doc,c.line)),I=0,B=(_.length-1)/2,et=c.ch;if(et==0)p=_[2];else for(;;){var it=I+B>>1;if((it?_[2*it-1]:0)>=et)B=it;else{if(!(_[2*it+1]<et)){p=_[2*it+2];break}I=it+1}}var Ct=p?p.indexOf("overlay "):-1;return Ct<0?p:Ct==0?null:p.slice(0,Ct-1)},getModeAt:function(c){var p=this.doc.mode;return p.innerMode?o.innerMode(p,this.getTokenAt(c).state).mode:p},getHelper:function(c,p){return this.getHelpers(c,p)[0]},getHelpers:function(c,p){var _=[];if(!u.hasOwnProperty(p))return _;var I=u[p],B=this.getModeAt(c);if(typeof B[p]=="string")I[B[p]]&&_.push(I[B[p]]);else if(B[p])for(var et=0;et<B[p].length;et++){var it=I[B[p][et]];it&&_.push(it)}else B.helperType&&I[B.helperType]?_.push(I[B.helperType]):I[B.name]&&_.push(I[B.name]);for(var Ct=0;Ct<I._global.length;Ct++){var St=I._global[Ct];St.pred(B,this)&&re(_,St.val)==-1&&_.push(St.val)}return _},getStateAfter:function(c,p){var _=this.doc;return mo(this,(c=Fn(_,c??_.first+_.size-1))+1,p).state},cursorCoords:function(c,p){var _=this.doc.sel.primary();return gr(this,c==null?_.head:typeof c=="object"?Pe(this.doc,c):c?_.from():_.to(),p||"page")},charCoords:function(c,p){return gs(this,Pe(this.doc,c),p||"page")},coordsChar:function(c,p){return nl(this,(c=la(this,c,p||"page")).left,c.top)},lineAtHeight:function(c,p){return c=la(this,{top:c,left:0},p||"page").top,no(this.doc,c+this.display.viewOffset)},heightAtLine:function(c,p,_){var I,B=!1;if(typeof c=="number"){var et=this.doc.first+this.doc.size-1;c<this.doc.first?c=this.doc.first:c>et&&(c=et,B=!0),I=je(this.doc,c)}else I=c;return el(this,I,{top:0,left:0},p||"page",_||B).top+(B?this.doc.height-Rr(I):0)},defaultTextHeight:function(){return ms(this.display)},defaultCharWidth:function(){return vs(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(c,p,_,I,B){var et=this.display,it=(c=gr(this,Pe(this.doc,c))).bottom,Ct=c.left;if(p.style.position="absolute",p.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(p),et.sizer.appendChild(p),I=="over")it=c.top;else if(I=="above"||I=="near"){var St=Math.max(et.wrapper.clientHeight,this.doc.height),Vt=Math.max(et.sizer.clientWidth,et.lineSpace.clientWidth);(I=="above"||c.bottom+p.offsetHeight>St)&&c.top>p.offsetHeight?it=c.top-p.offsetHeight:c.bottom+p.offsetHeight<=St&&(it=c.bottom),Ct+p.offsetWidth>Vt&&(Ct=Vt-p.offsetWidth)}p.style.top=it+"px",p.style.left=p.style.right="",B=="right"?(Ct=et.sizer.clientWidth-p.offsetWidth,p.style.right="0px"):(B=="left"?Ct=0:B=="middle"&&(Ct=(et.sizer.clientWidth-p.offsetWidth)/2),p.style.left=Ct+"px"),_&&Ap(this,{left:Ct,top:it,right:Ct+p.offsetWidth,bottom:it+p.offsetHeight})},triggerOnKeyDown:vr(ju),triggerOnKeyPress:vr(Lu),triggerOnKeyUp:Mu,triggerOnMouseDown:vr(vc),execCommand:function(c){if(Aa.hasOwnProperty(c))return Aa[c].call(null,this)},triggerElectric:vr(function(c){Bu(this,c)}),findPosH:function(c,p,_,I){var B=1;p<0&&(B=-1,p=-p);for(var et=Pe(this.doc,c),it=0;it<p&&!(et=xc(this.doc,et,B,_,I)).hitSide;++it);return et},moveH:vr(function(c,p){var _=this;this.extendSelectionsBy(function(I){return _.display.shift||_.doc.extend||I.empty()?xc(_.doc,I.head,c,p,_.options.rtlMoveVisually):c<0?I.from():I.to()},ze)}),deleteH:vr(function(c,p){var _=this.doc.sel,I=this.doc;_.somethingSelected()?I.replaceSelection("",null,"+delete"):gi(this,function(B){var et=xc(I,B.head,c,p,!1);return c<0?{from:et,to:B.head}:{from:B.head,to:et}})}),findPosV:function(c,p,_,I){var B=1,et=I;p<0&&(B=-1,p=-p);for(var it=Pe(this.doc,c),Ct=0;Ct<p;++Ct){var St=gr(this,it,"div");if(et==null?et=St.left:St.left=et,(it=$u(this,St,B,_)).hitSide)break}return it},moveV:vr(function(c,p){var _=this,I=this.doc,B=[],et=!this.display.shift&&!I.extend&&I.sel.somethingSelected();if(I.extendSelectionsBy(function(Ct){if(et)return c<0?Ct.from():Ct.to();var St=gr(_,Ct.head,"div");Ct.goalColumn!=null&&(St.left=Ct.goalColumn),B.push(St.left);var Vt=$u(_,St,c,p);return p=="page"&&Ct==I.sel.primary()&&Yl(_,gs(_,Vt,"div").top-St.top),Vt},ze),B.length)for(var it=0;it<I.sel.ranges.length;it++)I.sel.ranges[it].goalColumn=B[it]}),findWordAt:function(c){var p=je(this.doc,c.line).text,_=c.ch,I=c.ch;if(p){var B=this.getHelper(c,"wordChars");c.sticky!="before"&&I!=p.length||!_?++I:--_;for(var et=p.charAt(_),it=ot(et,B)?function(Ct){return ot(Ct,B)}:/\s/.test(et)?function(Ct){return/\s/.test(Ct)}:function(Ct){return!/\s/.test(Ct)&&!ot(Ct)};_>0&&it(p.charAt(_-1));)--_;for(;I<p.length&&it(p.charAt(I));)++I}return new un(ut(c.line,_),ut(c.line,I))},toggleOverwrite:function(c){c!=null&&c==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?jt(this.display.cursorDiv,"CodeMirror-overwrite"):tt(this.display.cursorDiv,"CodeMirror-overwrite"),le(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ct(mt(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:vr(function(c,p){ws(this,c,p)}),getScrollInfo:function(){var c=this.display.scroller;return{left:c.scrollLeft,top:c.scrollTop,height:c.scrollHeight-de(this)-this.display.barHeight,width:c.scrollWidth-de(this)-this.display.barWidth,clientHeight:Ze(this),clientWidth:Ne(this)}},scrollIntoView:vr(function(c,p){c==null?(c={from:this.doc.sel.primary().head,to:null},p==null&&(p=this.options.cursorScrollMargin)):typeof c=="number"?c={from:ut(c,0),to:null}:c.from==null&&(c={from:c,to:null}),c.to||(c.to=c.from),c.margin=p||0,c.from.line!=null?jp(this,c):qc(this,c.from,c.to,c.margin)}),setSize:vr(function(c,p){var _=this,I=function(et){return typeof et=="number"||/^\d+$/.test(String(et))?et+"px":et};c!=null&&(this.display.wrapper.style.width=I(c)),p!=null&&(this.display.wrapper.style.height=I(p)),this.options.lineWrapping&&Bc(this);var B=this.display.viewFrom;this.doc.iter(B,this.display.viewTo,function(et){if(et.widgets){for(var it=0;it<et.widgets.length;it++)if(et.widgets[it].noHScroll){oi(_,B,"widget");break}}++B}),this.curOp.forceUpdate=!0,le(this,"refresh",this)}),operation:function(c){return Vr(this,c)},startOperation:function(){return Hi(this)},endOperation:function(){return zi(this)},refresh:vr(function(){var c=this.display.cachedTextHeight;mr(this),this.curOp.forceUpdate=!0,sa(this),ws(this,this.doc.scrollLeft,this.doc.scrollTop),Xl(this.display),(c==null||Math.abs(c-ms(this.display))>.5||this.options.lineWrapping)&&$l(this),le(this,"refresh",this)}),swapDoc:vr(function(c){var p=this.doc;return p.cm=null,this.state.selectingText&&this.state.selectingText(),nc(this,c),sa(this),this.display.input.reset(),ws(this,c.scrollLeft,c.scrollTop),this.curOp.forceScroll=!0,Pn(this,"swapDoc",this,p),p}),phrase:function(c){var p=this.options.phrases;return p&&Object.prototype.hasOwnProperty.call(p,c)?p[c]:c},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ke(o),o.registerHelper=function(c,p,_){u.hasOwnProperty(c)||(u[c]=o[c]={_global:[]}),u[c][p]=_},o.registerGlobalHelper=function(c,p,_,I){o.registerHelper(c,p,I),u[c]._global.push({pred:_,val:I})}}function xc(o,a,u,c,p){var _=a,I=u,B=je(o,a.line),et=p&&o.direction=="rtl"?-u:u;function it(){var Ce=a.line+et;return!(Ce<o.first||Ce>=o.first+o.size)&&(a=new ut(Ce,a.ch,a.sticky),B=je(o,Ce))}function Ct(Ce){var me;if(c=="codepoint"){var Ae=B.text.charCodeAt(a.ch+(u>0?0:-1));if(isNaN(Ae))me=null;else{var Ee=u>0?Ae>=55296&&Ae<56320:Ae>=56320&&Ae<57343;me=new ut(a.line,Math.max(0,Math.min(B.text.length,a.ch+u*(Ee?2:1))),-u)}}else me=p?ku(o.cm,B,a,u):As(B,a,u);if(me==null){if(Ce||!it())return!1;a=xl(p,o.cm,B,a.line,et)}else a=me;return!0}if(c=="char"||c=="codepoint")Ct();else if(c=="column")Ct(!0);else if(c=="word"||c=="group")for(var St=null,Vt=c=="group",zt=o.cm&&o.cm.getHelper(a,"wordChars"),Kt=!0;!(u<0)||Ct(!Kt);Kt=!1){var ie=B.text.charAt(a.ch)||`
`,he=ot(ie,zt)?"w":Vt&&ie==`
`?"n":!Vt||/\s/.test(ie)?null:"p";if(!Vt||Kt||he||(he="s"),St&&St!=he){u<0&&(u=1,Ct(),a.sticky="after");break}if(he&&(St=he),u>0&&!Ct(!Kt))break}var we=wa(o,a,_,I,!0);return _e(_,we)&&(we.hitSide=!0),we}function $u(o,a,u,c){var p,_,I=o.doc,B=a.left;if(c=="page"){var et=Math.min(o.display.wrapper.clientHeight,gt(o).innerHeight||I(o).documentElement.clientHeight),it=Math.max(et-.5*ms(o.display),3);p=(u>0?a.bottom:a.top)+u*it}else c=="line"&&(p=u>0?a.bottom+3:a.top-3);for(;(_=nl(o,B,p)).outside;){if(u<0?p<=0:p>=I.height){_.hitSide=!0;break}p+=5*u}return _}var hn=function(o){this.cm=o,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ne,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Gu(o,a){var u=Hl(o,a.line);if(!u||u.hidden)return null;var c=je(o.doc,a.line),p=qn(u,c,a.line),_=ke(c,o.doc.direction),I="left";_&&(I=$e(_,a.ch)%2?"right":"left");var B=Ja(p.map,a.ch,I);return B.offset=B.collapse=="right"?B.end:B.start,B}function uf(o){for(var a=o;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;return!1}function Rs(o,a){return a&&(o.bad=!0),o}function Cc(o,a,u,c,p){var _="",I=!1,B=o.doc.lineSeparator(),et=!1;function it(zt){return function(Kt){return Kt.id==zt}}function Ct(){I&&(_+=B,et&&(_+=B),I=et=!1)}function St(zt){zt&&(Ct(),_+=zt)}function Vt(zt){if(zt.nodeType==1){var Kt=zt.getAttribute("cm-text");if(Kt)return void St(Kt);var ie,he=zt.getAttribute("cm-marker");if(he){var we=o.findMarks(ut(c,0),ut(p+1,0),it(+he));return void(we.length&&(ie=we[0].find(0))&&St(Ir(o.doc,ie.from,ie.to).join(B)))}if(zt.getAttribute("contenteditable")=="false")return;var Ce=/^(pre|div|p|li|table|br)$/i.test(zt.nodeName);if(!/^br$/i.test(zt.nodeName)&&zt.textContent.length==0)return;Ce&&Ct();for(var me=0;me<zt.childNodes.length;me++)Vt(zt.childNodes[me]);/^(pre|p)$/i.test(zt.nodeName)&&(et=!0),Ce&&(I=!0)}else zt.nodeType==3&&St(zt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Vt(a),a!=u;)a=a.nextSibling,et=!1;return _}function La(o,a,u){var c;if(a==o.display.lineDiv){if(!(c=o.display.lineDiv.childNodes[u]))return Rs(o.clipPos(ut(o.display.viewTo-1)),!0);a=null,u=0}else for(c=a;;c=c.parentNode){if(!c||c==o.display.lineDiv)return null;if(c.parentNode&&c.parentNode==o.display.lineDiv)break}for(var p=0;p<o.display.view.length;p++){var _=o.display.view[p];if(_.node==c)return Sc(_,a,u)}}function Sc(o,a,u){var c=o.text.firstChild,p=!1;if(!a||!dt(c,a))return Rs(ut(rn(o.line),0),!0);if(a==c&&(p=!0,a=c.childNodes[u],u=0,!a)){var _=o.rest?Nt(o.rest):o.line;return Rs(ut(rn(_),_.text.length),p)}var I=a.nodeType==3?a:null,B=a;for(I||a.childNodes.length!=1||a.firstChild.nodeType!=3||(I=a.firstChild,u&&(u=I.nodeValue.length));B.parentNode!=c;)B=B.parentNode;var et=o.measure,it=et.maps;function Ct(he,we,Ce){for(var me=-1;me<(it?it.length:0);me++)for(var Ae=me<0?et.map:it[me],Ee=0;Ee<Ae.length;Ee+=3){var Ie=Ae[Ee+2];if(Ie==he||Ie==we){var vn=rn(me<0?o.line:o.rest[me]),gn=Ae[Ee]+Ce;return(Ce<0||Ie!=he)&&(gn=Ae[Ee+(Ce?1:0)]),ut(vn,gn)}}}var St=Ct(I,B,u);if(St)return Rs(St,p);for(var Vt=B.nextSibling,zt=I?I.nodeValue.length-u:0;Vt;Vt=Vt.nextSibling){if(St=Ct(Vt,Vt.firstChild,0))return Rs(ut(St.line,St.ch-zt),p);zt+=Vt.textContent.length}for(var Kt=B.previousSibling,ie=u;Kt;Kt=Kt.previousSibling){if(St=Ct(Kt,Kt.firstChild,-1))return Rs(ut(St.line,St.ch+ie),p);ie+=Kt.textContent.length}}hn.prototype.init=function(o){var a=this,u=this,c=u.cm,p=u.div=o.lineDiv;function _(B){for(var et=B.target;et;et=et.parentNode){if(et==p)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(et.className))break}return!1}function I(B){if(_(B)&&!be(c,B)){if(c.somethingSelected())kl({lineWise:!1,text:c.getSelections()}),B.type=="cut"&&c.replaceSelection("",null,"cut");else{if(!c.options.lineWiseCopyCut)return;var et=Uu(c);kl({lineWise:!0,text:et.text}),B.type=="cut"&&c.operation(function(){c.setSelections(et.ranges,0,Me),c.replaceSelection("",null,"cut")})}if(B.clipboardData){B.clipboardData.clearData();var it=co.text.join(`
`);if(B.clipboardData.setData("Text",it),B.clipboardData.getData("Text")==it)return void B.preventDefault()}var Ct=Wu(),St=Ct.firstChild;_c(St),c.display.lineSpace.insertBefore(Ct,c.display.lineSpace.firstChild),St.value=co.text.join(`
`);var Vt=ct(p.ownerDocument);ee(St),setTimeout(function(){c.display.lineSpace.removeChild(Ct),Vt.focus(),Vt==p&&u.showPrimarySelection()},50)}}p.contentEditable=!0,_c(p,c.options.spellcheck,c.options.autocorrect,c.options.autocapitalize),_t(p,"paste",function(B){!_(B)||be(c,B)||zu(B,c)||h<=11&&setTimeout(Zn(c,function(){return a.updateFromDOM()}),20)}),_t(p,"compositionstart",function(B){a.composing={data:B.data,done:!1}}),_t(p,"compositionupdate",function(B){a.composing||(a.composing={data:B.data,done:!1})}),_t(p,"compositionend",function(B){a.composing&&(B.data!=a.composing.data&&a.readFromDOMSoon(),a.composing.done=!0)}),_t(p,"touchstart",function(){return u.forceCompositionEnd()}),_t(p,"input",function(){a.composing||a.readFromDOMSoon()}),_t(p,"copy",I),_t(p,"cut",I)},hn.prototype.screenReaderLabelChanged=function(o){o?this.div.setAttribute("aria-label",o):this.div.removeAttribute("aria-label")},hn.prototype.prepareSelection=function(){var o=ua(this.cm,!1);return o.focus=ct(this.div.ownerDocument)==this.div,o},hn.prototype.showSelection=function(o,a){o&&this.cm.display.view.length&&((o.focus||a)&&this.showPrimarySelection(),this.showMultipleSelections(o))},hn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},hn.prototype.showPrimarySelection=function(){var o=this.getSelection(),a=this.cm,u=a.doc.sel.primary(),c=u.from(),p=u.to();if(a.display.viewTo==a.display.viewFrom||c.line>=a.display.viewTo||p.line<a.display.viewFrom)o.removeAllRanges();else{var _=La(a,o.anchorNode,o.anchorOffset),I=La(a,o.focusNode,o.focusOffset);if(!_||_.bad||!I||I.bad||Wt(an(_,I),c)!=0||Wt(Qe(_,I),p)!=0){var B=a.display.view,et=c.line>=a.display.viewFrom&&Gu(a,c)||{node:B[0].measure.map[2],offset:0},it=p.line<a.display.viewTo&&Gu(a,p);if(!it){var Ct=B[B.length-1].measure,St=Ct.maps?Ct.maps[Ct.maps.length-1]:Ct.map;it={node:St[St.length-1],offset:St[St.length-2]-St[St.length-3]}}if(et&&it){var Vt,zt=o.rangeCount&&o.getRangeAt(0);try{Vt=z(et.node,et.offset,it.offset,it.node)}catch{}Vt&&(!F&&a.state.focused?(o.collapse(et.node,et.offset),Vt.collapsed||(o.removeAllRanges(),o.addRange(Vt))):(o.removeAllRanges(),o.addRange(Vt)),zt&&o.anchorNode==null?o.addRange(zt):F&&this.startGracePeriod()),this.rememberSelection()}else o.removeAllRanges()}}},hn.prototype.startGracePeriod=function(){var o=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){o.gracePeriod=!1,o.selectionChanged()&&o.cm.operation(function(){return o.cm.curOp.selectionChanged=!0})},20)},hn.prototype.showMultipleSelections=function(o){rt(this.cm.display.cursorDiv,o.cursors),rt(this.cm.display.selectionDiv,o.selection)},hn.prototype.rememberSelection=function(){var o=this.getSelection();this.lastAnchorNode=o.anchorNode,this.lastAnchorOffset=o.anchorOffset,this.lastFocusNode=o.focusNode,this.lastFocusOffset=o.focusOffset},hn.prototype.selectionInEditor=function(){var o=this.getSelection();if(!o.rangeCount)return!1;var a=o.getRangeAt(0).commonAncestorContainer;return dt(this.div,a)},hn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&(this.selectionInEditor()&&ct(this.div.ownerDocument)==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},hn.prototype.blur=function(){this.div.blur()},hn.prototype.getField=function(){return this.div},hn.prototype.supportsTouch=function(){return!0},hn.prototype.receivedFocus=function(){var o=this,a=this;function u(){a.cm.state.focused&&(a.pollSelection(),a.polling.set(a.cm.options.pollInterval,u))}this.selectionInEditor()?setTimeout(function(){return o.pollSelection()},20):Vr(this.cm,function(){return a.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,u)},hn.prototype.selectionChanged=function(){var o=this.getSelection();return o.anchorNode!=this.lastAnchorNode||o.anchorOffset!=this.lastAnchorOffset||o.focusNode!=this.lastFocusNode||o.focusOffset!=this.lastFocusOffset},hn.prototype.pollSelection=function(){if(this.readDOMTimeout==null&&!this.gracePeriod&&this.selectionChanged()){var o=this.getSelection(),a=this.cm;if(D&&g&&this.cm.display.gutterSpecs.length&&uf(o.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var u=La(a,o.anchorNode,o.anchorOffset),c=La(a,o.focusNode,o.focusOffset);u&&c&&Vr(a,function(){ar(a.doc,li(u,c),Me),(u.bad||c.bad)&&(a.curOp.selectionChanged=!0)})}}},hn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var o,a,u,c=this.cm,p=c.display,_=c.doc.sel.primary(),I=_.from(),B=_.to();if(I.ch==0&&I.line>c.firstLine()&&(I=ut(I.line-1,je(c.doc,I.line-1).length)),B.ch==je(c.doc,B.line).text.length&&B.line<c.lastLine()&&(B=ut(B.line+1,0)),I.line<p.viewFrom||B.line>p.viewTo-1)return!1;I.line==p.viewFrom||(o=Ni(c,I.line))==0?(a=rn(p.view[0].line),u=p.view[0].node):(a=rn(p.view[o].line),u=p.view[o-1].node.nextSibling);var et,it,Ct=Ni(c,B.line);if(Ct==p.view.length-1?(et=p.viewTo-1,it=p.lineDiv.lastChild):(et=rn(p.view[Ct+1].line)-1,it=p.view[Ct+1].node.previousSibling),!u)return!1;for(var St=c.doc.splitLines(Cc(c,u,it,a,et)),Vt=Ir(c.doc,ut(a,0),ut(et,je(c.doc,et).text.length));St.length>1&&Vt.length>1;)if(Nt(St)==Nt(Vt))St.pop(),Vt.pop(),et--;else{if(St[0]!=Vt[0])break;St.shift(),Vt.shift(),a++}for(var zt=0,Kt=0,ie=St[0],he=Vt[0],we=Math.min(ie.length,he.length);zt<we&&ie.charCodeAt(zt)==he.charCodeAt(zt);)++zt;for(var Ce=Nt(St),me=Nt(Vt),Ae=Math.min(Ce.length-(St.length==1?zt:0),me.length-(Vt.length==1?zt:0));Kt<Ae&&Ce.charCodeAt(Ce.length-Kt-1)==me.charCodeAt(me.length-Kt-1);)++Kt;if(St.length==1&&Vt.length==1&&a==I.line)for(;zt&&zt>I.ch&&Ce.charCodeAt(Ce.length-Kt-1)==me.charCodeAt(me.length-Kt-1);)zt--,Kt++;St[St.length-1]=Ce.slice(0,Ce.length-Kt).replace(/^\u200b+/,""),St[0]=St[0].slice(zt).replace(/\u200b+$/,"");var Ee=ut(a,zt),Ie=ut(et,Vt.length?Nt(Vt).length-Kt:0);return St.length>1||St[0]||Wt(Ee,Ie)?(Os(c.doc,St,Ee,Ie,"+input"),!0):void 0},hn.prototype.ensurePolled=function(){this.forceCompositionEnd()},hn.prototype.reset=function(){this.forceCompositionEnd()},hn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},hn.prototype.readFromDOMSoon=function(){var o=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(o.readDOMTimeout=null,o.composing){if(!o.composing.done)return;o.composing=null}o.updateFromDOM()},80))},hn.prototype.updateFromDOM=function(){var o=this;!this.cm.isReadOnly()&&this.pollContent()||Vr(this.cm,function(){return mr(o.cm)})},hn.prototype.setUneditable=function(o){o.contentEditable="false"},hn.prototype.onKeyPress=function(o){o.charCode==0||this.composing||(o.preventDefault(),this.cm.isReadOnly()||Zn(this.cm,wc)(this.cm,String.fromCharCode(o.charCode==null?o.keyCode:o.charCode),0))},hn.prototype.readOnlyChanged=function(o){this.div.contentEditable=String(o!="nocursor")},hn.prototype.onContextMenu=function(){},hn.prototype.resetPosition=function(){},hn.prototype.needsContentAttribute=!0;var jn=function(o){this.cm=o,this.prevInput="",this.pollingFast=!1,this.polling=new ne,this.hasSelection=!1,this.composing=null,this.resetting=!1};function qu(o,a){if((a=a?Yt(a):{}).value=o.value,!a.tabindex&&o.tabIndex&&(a.tabindex=o.tabIndex),!a.placeholder&&o.placeholder&&(a.placeholder=o.placeholder),a.autofocus==null){var u=ct(o.ownerDocument);a.autofocus=u==o||o.getAttribute("autofocus")!=null&&u==document.body}function c(){o.value=B.getValue()}var p;if(o.form&&(_t(o.form,"submit",c),!a.leaveSubmitMethodAlone)){var _=o.form;p=_.submit;try{var I=_.submit=function(){c(),_.submit=p,_.submit(),_.submit=I}}catch{}}a.finishInit=function(et){et.save=c,et.getTextArea=function(){return o},et.toTextArea=function(){et.toTextArea=isNaN,c(),o.parentNode.removeChild(et.getWrapperElement()),o.style.display="",o.form&&($t(o.form,"submit",c),a.leaveSubmitMethodAlone||typeof o.form.submit!="function"||(o.form.submit=p))}},o.style.display="none";var B=kn(function(et){return o.parentNode.insertBefore(et,o.nextSibling)},a);return B}function pf(o){o.off=$t,o.on=_t,o.wheelEventPixels=zp,o.Doc=Er,o.splitLines=Do,o.countColumn=Ht,o.findColumn=qe,o.isWordChar=A,o.Pass=fe,o.signal=le,o.Line=vo,o.changeEnd=ci,o.scrollbarModel=Kc,o.Pos=ut,o.cmpPos=Wt,o.modes=eo,o.mimeModes=Jn,o.resolveMode=xn,o.getMode=Qn,o.modeExtensions=tr,o.extendMode=ns,o.copyState=dr,o.startState=Sr,o.innerMode=Bn,o.commands=Aa,o.keyMap=$o,o.keyName=Ou,o.isModifierKey=Ps,o.lookupKey=hi,o.normalizeKeyMap=Su,o.StringStream=bn,o.SharedTextMarker=Ta,o.TextMarker=di,o.LineWidget=Oa,o.e_preventDefault=cn,o.e_stopPropagation=Xn,o.e_stop=En,o.addClass=jt,o.contains=dt,o.rmClass=tt,o.keyNames=Wo}jn.prototype.init=function(o){var a=this,u=this,c=this.cm;this.createField(o);var p=this.textarea;function _(I){if(!be(c,I)){if(c.somethingSelected())kl({lineWise:!1,text:c.getSelections()});else{if(!c.options.lineWiseCopyCut)return;var B=Uu(c);kl({lineWise:!0,text:B.text}),I.type=="cut"?c.setSelections(B.ranges,null,Me):(u.prevInput="",p.value=B.text.join(`
`),ee(p))}I.type=="cut"&&(c.state.cutIncoming=+new Date)}}o.wrapper.insertBefore(this.wrapper,o.wrapper.firstChild),M&&(p.style.width="0px"),_t(p,"input",function(){O&&h>=9&&a.hasSelection&&(a.hasSelection=null),u.poll()}),_t(p,"paste",function(I){be(c,I)||zu(I,c)||(c.state.pasteIncoming=+new Date,u.fastPoll())}),_t(p,"cut",_),_t(p,"copy",_),_t(o.scroller,"paste",function(I){if(!Tt(o,I)&&!be(c,I)){if(!p.dispatchEvent)return c.state.pasteIncoming=+new Date,void u.focus();var B=new Event("paste");B.clipboardData=I.clipboardData,p.dispatchEvent(B)}}),_t(o.lineSpace,"selectstart",function(I){Tt(o,I)||cn(I)}),_t(p,"compositionstart",function(){var I=c.getCursor("from");u.composing&&u.composing.range.clear(),u.composing={start:I,range:c.markText(I,c.getCursor("to"),{className:"CodeMirror-composing"})}}),_t(p,"compositionend",function(){u.composing&&(u.poll(),u.composing.range.clear(),u.composing=null)})},jn.prototype.createField=function(o){this.wrapper=Wu(),this.textarea=this.wrapper.firstChild;var a=this.cm.options;_c(this.textarea,a.spellcheck,a.autocorrect,a.autocapitalize)},jn.prototype.screenReaderLabelChanged=function(o){o?this.textarea.setAttribute("aria-label",o):this.textarea.removeAttribute("aria-label")},jn.prototype.prepareSelection=function(){var o=this.cm,a=o.display,u=o.doc,c=ua(o);if(o.options.moveInputWithCursor){var p=gr(o,u.sel.primary().head,"div"),_=a.wrapper.getBoundingClientRect(),I=a.lineDiv.getBoundingClientRect();c.teTop=Math.max(0,Math.min(a.wrapper.clientHeight-10,p.top+I.top-_.top)),c.teLeft=Math.max(0,Math.min(a.wrapper.clientWidth-10,p.left+I.left-_.left))}return c},jn.prototype.showSelection=function(o){var a=this.cm.display;rt(a.cursorDiv,o.cursors),rt(a.selectionDiv,o.selection),o.teTop!=null&&(this.wrapper.style.top=o.teTop+"px",this.wrapper.style.left=o.teLeft+"px")},jn.prototype.reset=function(o){if(!(this.contextMenuPending||this.composing&&o)){var a=this.cm;if(this.resetting=!0,a.somethingSelected()){this.prevInput="";var u=a.getSelection();this.textarea.value=u,a.state.focused&&ee(this.textarea),O&&h>=9&&(this.hasSelection=u)}else o||(this.prevInput=this.textarea.value="",O&&h>=9&&(this.hasSelection=null));this.resetting=!1}},jn.prototype.getField=function(){return this.textarea},jn.prototype.supportsTouch=function(){return!1},jn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!R||ct(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},jn.prototype.blur=function(){this.textarea.blur()},jn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},jn.prototype.receivedFocus=function(){this.slowPoll()},jn.prototype.slowPoll=function(){var o=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){o.poll(),o.cm.state.focused&&o.slowPoll()})},jn.prototype.fastPoll=function(){var o=!1,a=this;function u(){a.poll()||o?(a.pollingFast=!1,a.slowPoll()):(o=!0,a.polling.set(60,u))}a.pollingFast=!0,a.polling.set(20,u)},jn.prototype.poll=function(){var o=this,a=this.cm,u=this.textarea,c=this.prevInput;if(this.contextMenuPending||this.resetting||!a.state.focused||ts(u)&&!c&&!this.composing||a.isReadOnly()||a.options.disableInput||a.state.keySeq)return!1;var p=u.value;if(p==c&&!a.somethingSelected())return!1;if(O&&h>=9&&this.hasSelection===p||N&&/[\uf700-\uf7ff]/.test(p))return a.display.input.reset(),!1;if(a.doc.sel==a.display.selForContextMenu){var _=p.charCodeAt(0);if(_!=8203||c||(c="​"),_==8666)return this.reset(),this.cm.execCommand("undo")}for(var I=0,B=Math.min(c.length,p.length);I<B&&c.charCodeAt(I)==p.charCodeAt(I);)++I;return Vr(a,function(){wc(a,p.slice(I),c.length-I,null,o.composing?"*compose":null),p.length>1e3||p.indexOf(`
`)>-1?u.value=o.prevInput="":o.prevInput=p,o.composing&&(o.composing.range.clear(),o.composing.range=a.markText(o.composing.start,a.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},jn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},jn.prototype.onKeyPress=function(){O&&h>=9&&(this.hasSelection=null),this.fastPoll()},jn.prototype.onContextMenu=function(o){var a=this,u=a.cm,c=u.display,p=a.textarea;a.contextMenuPending&&a.contextMenuPending();var _=Tn(u,o),I=c.scroller.scrollTop;if(_&&!S){u.options.resetSelectionOnContextMenu&&u.doc.sel.contains(_)==-1&&Zn(u,ar)(u.doc,li(_),Me);var B,et=p.style.cssText,it=a.wrapper.style.cssText,Ct=a.wrapper.offsetParent.getBoundingClientRect();if(a.wrapper.style.cssText="position: static",p.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(o.clientY-Ct.top-5)+"px; left: "+(o.clientX-Ct.left-5)+`px;
      z-index: 1000; background: `+(O?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`,v&&(B=p.ownerDocument.defaultView.scrollY),c.input.focus(),v&&p.ownerDocument.defaultView.scrollTo(null,B),c.input.reset(),u.somethingSelected()||(p.value=a.prevInput=" "),a.contextMenuPending=zt,c.selForContextMenu=u.doc.sel,clearTimeout(c.detectingSelectAll),O&&h>=9&&Vt(),L){En(o);var St=function(){$t(window,"mouseup",St),setTimeout(zt,20)};_t(window,"mouseup",St)}else setTimeout(zt,50)}function Vt(){if(p.selectionStart!=null){var Kt=u.somethingSelected(),ie="​"+(Kt?p.value:"");p.value="⇚",p.value=ie,a.prevInput=Kt?"":"​",p.selectionStart=1,p.selectionEnd=ie.length,c.selForContextMenu=u.doc.sel}}function zt(){if(a.contextMenuPending==zt&&(a.contextMenuPending=!1,a.wrapper.style.cssText=it,p.style.cssText=et,O&&h<9&&c.scrollbars.setScrollTop(c.scroller.scrollTop=I),p.selectionStart!=null)){(!O||O&&h<9)&&Vt();var Kt=0,ie=function(){c.selForContextMenu==u.doc.sel&&p.selectionStart==0&&p.selectionEnd>0&&a.prevInput=="​"?Zn(u,lc)(u):Kt++<10?c.detectingSelectAll=setTimeout(ie,500):(c.selForContextMenu=null,c.input.reset())};c.detectingSelectAll=setTimeout(ie,200)}}},jn.prototype.readOnlyChanged=function(o){o||this.reset(),this.textarea.disabled=o=="nocursor",this.textarea.readOnly=!!o},jn.prototype.setUneditable=function(){},jn.prototype.needsContentAttribute=!1,Vu(kn),cf(kn);var ff="iter insert remove copy getEditor constructor".split(" ");for(var Fs in Er.prototype)Er.prototype.hasOwnProperty(Fs)&&re(ff,Fs)<0&&(kn.prototype[Fs]=function(o){return function(){return o.apply(this.doc,arguments)}}(Er.prototype[Fs]));return Ke(Er),kn.inputStyles={textarea:jn,contenteditable:hn},kn.defineMode=function(o){kn.defaults.mode||o=="null"||(kn.defaults.mode=o),es.apply(this,arguments)},kn.defineMIME=Io,kn.defineMode("null",function(){return{token:function(o){return o.skipToEnd()}}}),kn.defineMIME("text/plain","null"),kn.defineExtension=function(o,a){kn.prototype[o]=a},kn.defineDocExtension=function(o,a){Er.prototype[o]=a},kn.fromTextArea=qu,pf(kn),kn.version="5.65.15",kn}()},629:(E,K,Z)=>{(function(F){function V(L){for(var P={},z=0;z<L.length;++z)P[L[z].toLowerCase()]=!0;return P}F.defineMode("css",function(L,P){var z=P.inline;P.propertyKeywords||(P=F.resolveMode("text/css"));var tt,q,rt=L.indentUnit,H=P.tokenHooks,Y=P.documentTypes||{},dt=P.mediaTypes||{},ct=P.mediaFeatures||{},jt=P.mediaValueKeywords||{},At=P.propertyKeywords||{},ee=P.nonStandardPropertyKeywords||{},mt=P.fontProperties||{},gt=P.counterDescriptors||{},qt=P.colorKeywords||{},Yt=P.valueKeywords||{},Ht=P.allowNested,ne=P.lineComment,re=P.supportsAtComponent===!0,ce=L.highlightNonStandardPropertyKeywords!==!1;function fe(vt,Pt){return tt=Pt,vt}function Me(vt,Pt){var A=vt.next();if(H[A]){var ot=H[A](vt,Pt);if(ot!==!1)return ot}return A=="@"?(vt.eatWhile(/[\w\\\-]/),fe("def",vt.current())):A=="="||(A=="~"||A=="|")&&vt.eat("=")?fe(null,"compare"):A=='"'||A=="'"?(Pt.tokenize=Se(A),Pt.tokenize(vt,Pt)):A=="#"?(vt.eatWhile(/[\w\\\-]/),fe("atom","hash")):A=="!"?(vt.match(/^\s*\w*/),fe("keyword","important")):/\d/.test(A)||A=="."&&vt.eat(/\d/)?(vt.eatWhile(/[\w.%]/),fe("number","unit")):A!=="-"?/[,+>*\/]/.test(A)?fe(null,"select-op"):A=="."&&vt.match(/^-?[_a-z][_a-z0-9-]*/i)?fe("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(A)?fe(null,A):vt.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(vt.current())&&(Pt.tokenize=ze),fe("variable callee","variable")):/[\w\\\-]/.test(A)?(vt.eatWhile(/[\w\\\-]/),fe("property","word")):fe(null,null):/[\d.]/.test(vt.peek())?(vt.eatWhile(/[\w.%]/),fe("number","unit")):vt.match(/^-[\w\\\-]*/)?(vt.eatWhile(/[\w\\\-]/),vt.match(/^\s*:/,!1)?fe("variable-2","variable-definition"):fe("variable-2","variable")):vt.match(/^\w+-/)?fe("meta","meta"):void 0}function Se(vt){return function(Pt,A){for(var ot,ft=!1;(ot=Pt.next())!=null;){if(ot==vt&&!ft){vt==")"&&Pt.backUp(1);break}ft=!ft&&ot=="\\"}return(ot==vt||!ft&&vt!=")")&&(A.tokenize=null),fe("string","string")}}function ze(vt,Pt){return vt.next(),vt.match(/^\s*[\"\')]/,!1)?Pt.tokenize=null:Pt.tokenize=Se(")"),fe(null,"(")}function qe(vt,Pt,A){this.type=vt,this.indent=Pt,this.prev=A}function X(vt,Pt,A,ot){return vt.context=new qe(A,Pt.indentation()+(ot===!1?0:rt),vt.context),A}function Gt(vt){return vt.context.prev&&(vt.context=vt.context.prev),vt.context.type}function Nt(vt,Pt,A){return Mt[A.context.type](vt,Pt,A)}function wt(vt,Pt,A,ot){for(var ft=ot||1;ft>0;ft--)A.context=A.context.prev;return Nt(vt,Pt,A)}function yt(vt){var Pt=vt.current().toLowerCase();q=Yt.hasOwnProperty(Pt)?"atom":qt.hasOwnProperty(Pt)?"keyword":"variable"}var Mt={top:function(vt,Pt,A){if(vt=="{")return X(A,Pt,"block");if(vt=="}"&&A.context.prev)return Gt(A);if(re&&/@component/i.test(vt))return X(A,Pt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(vt))return X(A,Pt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(vt))return X(A,Pt,"atBlock");if(/^@(font-face|counter-style)/i.test(vt))return A.stateArg=vt,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(vt))return"keyframes";if(vt&&vt.charAt(0)=="@")return X(A,Pt,"at");if(vt=="hash")q="builtin";else if(vt=="word")q="tag";else{if(vt=="variable-definition")return"maybeprop";if(vt=="interpolation")return X(A,Pt,"interpolation");if(vt==":")return"pseudo";if(Ht&&vt=="(")return X(A,Pt,"parens")}return A.context.type},block:function(vt,Pt,A){if(vt=="word"){var ot=Pt.current().toLowerCase();return At.hasOwnProperty(ot)?(q="property","maybeprop"):ee.hasOwnProperty(ot)?(q=ce?"string-2":"property","maybeprop"):Ht?(q=Pt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(q+=" error","maybeprop")}return vt=="meta"?"block":Ht||vt!="hash"&&vt!="qualifier"?Mt.top(vt,Pt,A):(q="error","block")},maybeprop:function(vt,Pt,A){return vt==":"?X(A,Pt,"prop"):Nt(vt,Pt,A)},prop:function(vt,Pt,A){if(vt==";")return Gt(A);if(vt=="{"&&Ht)return X(A,Pt,"propBlock");if(vt=="}"||vt=="{")return wt(vt,Pt,A);if(vt=="(")return X(A,Pt,"parens");if(vt!="hash"||/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(Pt.current())){if(vt=="word")yt(Pt);else if(vt=="interpolation")return X(A,Pt,"interpolation")}else q+=" error";return"prop"},propBlock:function(vt,Pt,A){return vt=="}"?Gt(A):vt=="word"?(q="property","maybeprop"):A.context.type},parens:function(vt,Pt,A){return vt=="{"||vt=="}"?wt(vt,Pt,A):vt==")"?Gt(A):vt=="("?X(A,Pt,"parens"):vt=="interpolation"?X(A,Pt,"interpolation"):(vt=="word"&&yt(Pt),"parens")},pseudo:function(vt,Pt,A){return vt=="meta"?"pseudo":vt=="word"?(q="variable-3",A.context.type):Nt(vt,Pt,A)},documentTypes:function(vt,Pt,A){return vt=="word"&&Y.hasOwnProperty(Pt.current())?(q="tag",A.context.type):Mt.atBlock(vt,Pt,A)},atBlock:function(vt,Pt,A){if(vt=="(")return X(A,Pt,"atBlock_parens");if(vt=="}"||vt==";")return wt(vt,Pt,A);if(vt=="{")return Gt(A)&&X(A,Pt,Ht?"block":"top");if(vt=="interpolation")return X(A,Pt,"interpolation");if(vt=="word"){var ot=Pt.current().toLowerCase();q=ot=="only"||ot=="not"||ot=="and"||ot=="or"?"keyword":dt.hasOwnProperty(ot)?"attribute":ct.hasOwnProperty(ot)?"property":jt.hasOwnProperty(ot)?"keyword":At.hasOwnProperty(ot)?"property":ee.hasOwnProperty(ot)?ce?"string-2":"property":Yt.hasOwnProperty(ot)?"atom":qt.hasOwnProperty(ot)?"keyword":"error"}return A.context.type},atComponentBlock:function(vt,Pt,A){return vt=="}"?wt(vt,Pt,A):vt=="{"?Gt(A)&&X(A,Pt,Ht?"block":"top",!1):(vt=="word"&&(q="error"),A.context.type)},atBlock_parens:function(vt,Pt,A){return vt==")"?Gt(A):vt=="{"||vt=="}"?wt(vt,Pt,A,2):Mt.atBlock(vt,Pt,A)},restricted_atBlock_before:function(vt,Pt,A){return vt=="{"?X(A,Pt,"restricted_atBlock"):vt=="word"&&A.stateArg=="@counter-style"?(q="variable","restricted_atBlock_before"):Nt(vt,Pt,A)},restricted_atBlock:function(vt,Pt,A){return vt=="}"?(A.stateArg=null,Gt(A)):vt=="word"?(q=A.stateArg=="@font-face"&&!mt.hasOwnProperty(Pt.current().toLowerCase())||A.stateArg=="@counter-style"&&!gt.hasOwnProperty(Pt.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(vt,Pt,A){return vt=="word"?(q="variable","keyframes"):vt=="{"?X(A,Pt,"top"):Nt(vt,Pt,A)},at:function(vt,Pt,A){return vt==";"?Gt(A):vt=="{"||vt=="}"?wt(vt,Pt,A):(vt=="word"?q="tag":vt=="hash"&&(q="builtin"),"at")},interpolation:function(vt,Pt,A){return vt=="}"?Gt(A):vt=="{"||vt==";"?wt(vt,Pt,A):(vt=="word"?q="variable":vt!="variable"&&vt!="("&&vt!=")"&&(q="error"),"interpolation")}};return{startState:function(vt){return{tokenize:null,state:z?"block":"top",stateArg:null,context:new qe(z?"block":"top",vt||0,null)}},token:function(vt,Pt){if(!Pt.tokenize&&vt.eatSpace())return null;var A=(Pt.tokenize||Me)(vt,Pt);return A&&typeof A=="object"&&(tt=A[1],A=A[0]),q=A,tt!="comment"&&(Pt.state=Mt[Pt.state](tt,vt,Pt)),q},indent:function(vt,Pt){var A=vt.context,ot=Pt&&Pt.charAt(0),ft=A.indent;return A.type!="prop"||ot!="}"&&ot!=")"||(A=A.prev),A.prev&&(ot!="}"||A.type!="block"&&A.type!="top"&&A.type!="interpolation"&&A.type!="restricted_atBlock"?(ot!=")"||A.type!="parens"&&A.type!="atBlock_parens")&&(ot!="{"||A.type!="at"&&A.type!="atBlock")||(ft=Math.max(0,A.indent-rt)):ft=(A=A.prev).indent),ft},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:ne,fold:"brace"}});var j=["domain","regexp","url","url-prefix"],C=V(j),O=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],h=V(O),v=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],m=V(v),g=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],y=V(g),S=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],w=V(S),T=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],k=V(T),M=V(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),D=V(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),R=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],N=V(R),W=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],$=V(W),J=j.concat(O).concat(v).concat(g).concat(S).concat(T).concat(R).concat(W);function U(L,P){for(var z,tt=!1;(z=L.next())!=null;){if(tt&&z=="/"){P.tokenize=null;break}tt=z=="*"}return["comment","comment"]}F.registerHelper("hintWords","css",J),F.defineMIME("text/css",{documentTypes:C,mediaTypes:h,mediaFeatures:m,mediaValueKeywords:y,propertyKeywords:w,nonStandardPropertyKeywords:k,fontProperties:M,counterDescriptors:D,colorKeywords:N,valueKeywords:$,tokenHooks:{"/":function(L,P){return!!L.eat("*")&&(P.tokenize=U,U(L,P))}},name:"css"}),F.defineMIME("text/x-scss",{mediaTypes:h,mediaFeatures:m,mediaValueKeywords:y,propertyKeywords:w,nonStandardPropertyKeywords:k,colorKeywords:N,valueKeywords:$,fontProperties:M,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(L,P){return L.eat("/")?(L.skipToEnd(),["comment","comment"]):L.eat("*")?(P.tokenize=U,U(L,P)):["operator","operator"]},":":function(L){return!!L.match(/^\s*\{/,!1)&&[null,null]},$:function(L){return L.match(/^[\w-]+/),L.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(L){return!!L.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),F.defineMIME("text/x-less",{mediaTypes:h,mediaFeatures:m,mediaValueKeywords:y,propertyKeywords:w,nonStandardPropertyKeywords:k,colorKeywords:N,valueKeywords:$,fontProperties:M,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(L,P){return L.eat("/")?(L.skipToEnd(),["comment","comment"]):L.eat("*")?(P.tokenize=U,U(L,P)):["operator","operator"]},"@":function(L){return L.eat("{")?[null,"interpolation"]:!L.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(L.eatWhile(/[\w\\\-]/),L.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),F.defineMIME("text/x-gss",{documentTypes:C,mediaTypes:h,mediaFeatures:m,propertyKeywords:w,nonStandardPropertyKeywords:k,fontProperties:M,counterDescriptors:D,colorKeywords:N,valueKeywords:$,supportsAtComponent:!0,tokenHooks:{"/":function(L,P){return!!L.eat("*")&&(P.tokenize=U,U(L,P))}},name:"css",helperType:"gss"})})(Z(631))},531:(E,K,Z)=>{(function(F){var V={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function j(y,S,w){var T=y.current(),k=T.search(S);return k>-1?y.backUp(T.length-k):T.match(/<\/?$/)&&(y.backUp(T.length),y.match(S,!1)||y.match(T)),w}var C={};function O(y){var S=C[y];return S||(C[y]=new RegExp("\\s+"+y+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function h(y,S){var w=y.match(O(S));return w?/^\s*(.*?)\s*$/.exec(w[2])[1]:""}function v(y,S){return new RegExp((S?"^":"")+"</\\s*"+y+"\\s*>","i")}function m(y,S){for(var w in y)for(var T=S[w]||(S[w]=[]),k=y[w],M=k.length-1;M>=0;M--)T.unshift(k[M])}function g(y,S){for(var w=0;w<y.length;w++){var T=y[w];if(!T[0]||T[1].test(h(S,T[0])))return T[2]}}F.defineMode("htmlmixed",function(y,S){var w=F.getMode(y,{name:"xml",htmlMode:!0,multilineTagIndentFactor:S.multilineTagIndentFactor,multilineTagIndentPastTag:S.multilineTagIndentPastTag,allowMissingTagName:S.allowMissingTagName}),T={},k=S&&S.tags,M=S&&S.scriptTypes;if(m(V,T),k&&m(k,T),M)for(var D=M.length-1;D>=0;D--)T.script.unshift(["type",M[D].matches,M[D].mode]);function R(N,W){var $,J=w.token(N,W.htmlState),U=/\btag\b/.test(J);if(U&&!/[<>\s\/]/.test(N.current())&&($=W.htmlState.tagName&&W.htmlState.tagName.toLowerCase())&&T.hasOwnProperty($))W.inTag=$+" ";else if(W.inTag&&U&&/>$/.test(N.current())){var L=/^([\S]+) (.*)/.exec(W.inTag);W.inTag=null;var P=N.current()==">"&&g(T[L[1]],L[2]),z=F.getMode(y,P),tt=v(L[1],!0),q=v(L[1],!1);W.token=function(rt,H){return rt.match(tt,!1)?(H.token=R,H.localState=H.localMode=null,null):j(rt,q,H.localMode.token(rt,H.localState))},W.localMode=z,W.localState=F.startState(z,w.indent(W.htmlState,"",""))}else W.inTag&&(W.inTag+=N.current(),N.eol()&&(W.inTag+=" "));return J}return{startState:function(){return{token:R,inTag:null,localMode:null,localState:null,htmlState:F.startState(w)}},copyState:function(N){var W;return N.localState&&(W=F.copyState(N.localMode,N.localState)),{token:N.token,inTag:N.inTag,localMode:N.localMode,localState:W,htmlState:F.copyState(w,N.htmlState)}},token:function(N,W){return W.token(N,W)},indent:function(N,W,$){return!N.localMode||/^\s*<\//.test(W)?w.indent(N.htmlState,W,$):N.localMode.indent?N.localMode.indent(N.localState,W,$):F.Pass},innerMode:function(N){return{state:N.localState||N.htmlState,mode:N.localMode||w}}}},"xml","javascript","css"),F.defineMIME("text/html","htmlmixed")})(Z(631),Z(589),Z(876),Z(629))},876:(E,K,Z)=>{(function(F){F.defineMode("javascript",function(V,j){var C,O,h=V.indentUnit,v=j.statementIndent,m=j.jsonld,g=j.json||m,y=j.trackScope!==!1,S=j.typescript,w=j.wordCharacters||/[\w$\xa1-\uffff]/,T=function(){function at(Fn){return{type:Fn,style:"keyword"}}var ut=at("keyword a"),Wt=at("keyword b"),_e=at("keyword c"),Te=at("keyword d"),Qe=at("operator"),an={type:"atom",style:"atom"};return{if:at("if"),while:ut,with:ut,else:Wt,do:Wt,try:Wt,finally:Wt,return:Te,break:Te,continue:Te,new:at("new"),delete:_e,void:_e,throw:_e,debugger:at("debugger"),var:at("var"),const:at("var"),let:at("var"),function:at("function"),catch:at("catch"),for:at("for"),switch:at("switch"),case:at("case"),default:at("default"),in:Qe,typeof:Qe,instanceof:Qe,true:an,false:an,null:an,undefined:an,NaN:an,Infinity:an,this:at("this"),class:at("class"),super:at("atom"),yield:_e,export:at("export"),import:at("import"),extends:_e,await:_e}}(),k=/[+\-*&%=<>!?|~^@]/,M=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function D(at){for(var ut,Wt=!1,_e=!1;(ut=at.next())!=null;){if(!Wt){if(ut=="/"&&!_e)return;ut=="["?_e=!0:_e&&ut=="]"&&(_e=!1)}Wt=!Wt&&ut=="\\"}}function R(at,ut,Wt){return C=at,O=Wt,ut}function N(at,ut){var Wt=at.next();if(Wt=='"'||Wt=="'")return ut.tokenize=W(Wt),ut.tokenize(at,ut);if(Wt=="."&&at.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return R("number","number");if(Wt=="."&&at.match(".."))return R("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Wt))return R(Wt);if(Wt=="="&&at.eat(">"))return R("=>","operator");if(Wt=="0"&&at.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return R("number","number");if(/\d/.test(Wt))return at.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),R("number","number");if(Wt=="/")return at.eat("*")?(ut.tokenize=$,$(at,ut)):at.eat("/")?(at.skipToEnd(),R("comment","comment")):go(at,ut,1)?(D(at),at.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),R("regexp","string-2")):(at.eat("="),R("operator","operator",at.current()));if(Wt=="`")return ut.tokenize=J,J(at,ut);if(Wt=="#"&&at.peek()=="!")return at.skipToEnd(),R("meta","meta");if(Wt=="#"&&at.eatWhile(w))return R("variable","property");if(Wt=="<"&&at.match("!--")||Wt=="-"&&at.match("->")&&!/\S/.test(at.string.slice(0,at.start)))return at.skipToEnd(),R("comment","comment");if(k.test(Wt))return Wt==">"&&ut.lexical&&ut.lexical.type==">"||(at.eat("=")?Wt!="!"&&Wt!="="||at.eat("="):/[<>*+\-|&?]/.test(Wt)&&(at.eat(Wt),Wt==">"&&at.eat(Wt))),Wt=="?"&&at.eat(".")?R("."):R("operator","operator",at.current());if(w.test(Wt)){at.eatWhile(w);var _e=at.current();if(ut.lastType!="."){if(T.propertyIsEnumerable(_e)){var Te=T[_e];return R(Te.type,Te.style,_e)}if(_e=="async"&&at.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return R("async","keyword",_e)}return R("variable","variable",_e)}}function W(at){return function(ut,Wt){var _e,Te=!1;if(m&&ut.peek()=="@"&&ut.match(M))return Wt.tokenize=N,R("jsonld-keyword","meta");for(;(_e=ut.next())!=null&&(_e!=at||Te);)Te=!Te&&_e=="\\";return Te||(Wt.tokenize=N),R("string","string")}}function $(at,ut){for(var Wt,_e=!1;Wt=at.next();){if(Wt=="/"&&_e){ut.tokenize=N;break}_e=Wt=="*"}return R("comment","comment")}function J(at,ut){for(var Wt,_e=!1;(Wt=at.next())!=null;){if(!_e&&(Wt=="`"||Wt=="$"&&at.eat("{"))){ut.tokenize=N;break}_e=!_e&&Wt=="\\"}return R("quasi","string-2",at.current())}var U="([{}])";function L(at,ut){ut.fatArrowAt&&(ut.fatArrowAt=null);var Wt=at.string.indexOf("=>",at.start);if(!(Wt<0)){if(S){var _e=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(at.string.slice(at.start,Wt));_e&&(Wt=_e.index)}for(var Te=0,Qe=!1,an=Wt-1;an>=0;--an){var Fn=at.string.charAt(an),Pe=U.indexOf(Fn);if(Pe>=0&&Pe<3){if(!Te){++an;break}if(--Te==0){Fn=="("&&(Qe=!0);break}}else if(Pe>=3&&Pe<6)++Te;else if(w.test(Fn))Qe=!0;else if(/["'\/`]/.test(Fn))for(;;--an){if(an==0)return;if(at.string.charAt(an-1)==Fn&&at.string.charAt(an-2)!="\\"){an--;break}}else if(Qe&&!Te){++an;break}}Qe&&!Te&&(ut.fatArrowAt=an)}}var P={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function z(at,ut,Wt,_e,Te,Qe){this.indented=at,this.column=ut,this.type=Wt,this.prev=Te,this.info=Qe,_e!=null&&(this.align=_e)}function tt(at,ut){if(!y)return!1;for(var Wt=at.localVars;Wt;Wt=Wt.next)if(Wt.name==ut)return!0;for(var _e=at.context;_e;_e=_e.prev)for(Wt=_e.vars;Wt;Wt=Wt.next)if(Wt.name==ut)return!0}function q(at,ut,Wt,_e,Te){var Qe=at.cc;for(rt.state=at,rt.stream=Te,rt.marked=null,rt.cc=Qe,rt.style=ut,at.lexical.hasOwnProperty("align")||(at.lexical.align=!0);;)if((Qe.length?Qe.pop():g?Se:fe)(Wt,_e)){for(;Qe.length&&Qe[Qe.length-1].lex;)Qe.pop()();return rt.marked?rt.marked:Wt=="variable"&&tt(at,_e)?"variable-2":ut}}var rt={state:null,column:null,marked:null,cc:null};function H(){for(var at=arguments.length-1;at>=0;at--)rt.cc.push(arguments[at])}function Y(){return H.apply(null,arguments),!0}function dt(at,ut){for(var Wt=ut;Wt;Wt=Wt.next)if(Wt.name==at)return!0;return!1}function ct(at){var ut=rt.state;if(rt.marked="def",y){if(ut.context){if(ut.lexical.info=="var"&&ut.context&&ut.context.block){var Wt=jt(at,ut.context);if(Wt!=null)return void(ut.context=Wt)}else if(!dt(at,ut.localVars))return void(ut.localVars=new mt(at,ut.localVars))}j.globalVars&&!dt(at,ut.globalVars)&&(ut.globalVars=new mt(at,ut.globalVars))}}function jt(at,ut){if(ut){if(ut.block){var Wt=jt(at,ut.prev);return Wt?Wt==ut.prev?ut:new ee(Wt,ut.vars,!0):null}return dt(at,ut.vars)?ut:new ee(ut.prev,new mt(at,ut.vars),!1)}return null}function At(at){return at=="public"||at=="private"||at=="protected"||at=="abstract"||at=="readonly"}function ee(at,ut,Wt){this.prev=at,this.vars=ut,this.block=Wt}function mt(at,ut){this.name=at,this.next=ut}var gt=new mt("this",new mt("arguments",null));function qt(){rt.state.context=new ee(rt.state.context,rt.state.localVars,!1),rt.state.localVars=gt}function Yt(){rt.state.context=new ee(rt.state.context,rt.state.localVars,!0),rt.state.localVars=null}function Ht(){rt.state.localVars=rt.state.context.vars,rt.state.context=rt.state.context.prev}function ne(at,ut){var Wt=function(){var _e=rt.state,Te=_e.indented;if(_e.lexical.type=="stat")Te=_e.lexical.indented;else for(var Qe=_e.lexical;Qe&&Qe.type==")"&&Qe.align;Qe=Qe.prev)Te=Qe.indented;_e.lexical=new z(Te,rt.stream.column(),at,null,_e.lexical,ut)};return Wt.lex=!0,Wt}function re(){var at=rt.state;at.lexical.prev&&(at.lexical.type==")"&&(at.indented=at.lexical.indented),at.lexical=at.lexical.prev)}function ce(at){function ut(Wt){return Wt==at?Y():at==";"||Wt=="}"||Wt==")"||Wt=="]"?H():Y(ut)}return ut}function fe(at,ut){return at=="var"?Y(ne("vardef",ut),sn,ce(";"),re):at=="keyword a"?Y(ne("form"),qe,fe,re):at=="keyword b"?Y(ne("form"),fe,re):at=="keyword d"?rt.stream.match(/^\s*$/,!1)?Y():Y(ne("stat"),Gt,ce(";"),re):at=="debugger"?Y(ce(";")):at=="{"?Y(ne("}"),Yt,nn,re,Ht):at==";"?Y():at=="if"?(rt.state.lexical.info=="else"&&rt.state.cc[rt.state.cc.length-1]==re&&rt.state.cc.pop()(),Y(ne("form"),qe,fe,re,Lo)):at=="function"?Y(fr):at=="for"?Y(ne("form"),Yt,Do,fe,Ht,re):at=="class"||S&&ut=="interface"?(rt.marked="keyword",Y(ne("form",at=="class"?at:ut),Io,re)):at=="variable"?S&&ut=="declare"?(rt.marked="keyword",Y(fe)):S&&(ut=="module"||ut=="enum"||ut=="type")&&rt.stream.match(/^\s*\w/,!1)?(rt.marked="keyword",ut=="enum"?Y(Un):ut=="type"?Y(eo,ce("operator"),$t,ce(";")):Y(ne("form"),ue,ce("{"),ne("}"),nn,re,re)):S&&ut=="namespace"?(rt.marked="keyword",Y(ne("form"),Se,fe,re)):S&&ut=="abstract"?(rt.marked="keyword",Y(fe)):Y(ne("stat"),xt):at=="switch"?Y(ne("form"),qe,ce("{"),ne("}","switch"),Yt,nn,re,re,Ht):at=="case"?Y(Se,ce(":")):at=="default"?Y(ce(":")):at=="catch"?Y(ne("form"),qt,Me,fe,re,Ht):at=="export"?Y(ne("stat"),ns,re):at=="import"?Y(ne("stat"),Bn,re):at=="async"?Y(fe):ut=="@"?Y(Se,fe):H(ne("stat"),Se,ce(";"),re)}function Me(at){if(at=="(")return Y(Jn,ce(")"))}function Se(at,ut){return X(at,ut,!1)}function ze(at,ut){return X(at,ut,!0)}function qe(at){return at!="("?H():Y(ne(")"),Gt,ce(")"),re)}function X(at,ut,Wt){if(rt.state.fatArrowAt==rt.stream.start){var _e=Wt?Pt:vt;if(at=="(")return Y(qt,ne(")"),Ve(Jn,")"),re,ce("=>"),_e,Ht);if(at=="variable")return H(qt,ue,ce("=>"),_e,Ht)}var Te=Wt?wt:Nt;return P.hasOwnProperty(at)?Y(Te):at=="function"?Y(fr,Te):at=="class"||S&&ut=="interface"?(rt.marked="keyword",Y(ne("form"),es,re)):at=="keyword c"||at=="async"?Y(Wt?ze:Se):at=="("?Y(ne(")"),Gt,ce(")"),re,Te):at=="operator"||at=="spread"?Y(Wt?ze:Se):at=="["?Y(ne("]"),xo,re,Te):at=="{"?$e(Ut,"}",null,Te):at=="quasi"?H(yt,Te):at=="new"?Y(A(Wt)):Y()}function Gt(at){return at.match(/[;\}\)\],]/)?H():H(Se)}function Nt(at,ut){return at==","?Y(Gt):wt(at,ut,!1)}function wt(at,ut,Wt){var _e=Wt==0?Nt:wt,Te=Wt==0?Se:ze;return at=="=>"?Y(qt,Wt?Pt:vt,Ht):at=="operator"?/\+\+|--/.test(ut)||S&&ut=="!"?Y(_e):S&&ut=="<"&&rt.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?Y(ne(">"),Ve($t,">"),re,_e):ut=="?"?Y(Se,ce(":"),Te):Y(Te):at=="quasi"?H(yt,_e):at!=";"?at=="("?$e(ze,")","call",_e):at=="."?Y(It,_e):at=="["?Y(ne("]"),Gt,ce("]"),re,_e):S&&ut=="as"?(rt.marked="keyword",Y($t,_e)):at=="regexp"?(rt.state.lastType=rt.marked="operator",rt.stream.backUp(rt.stream.pos-rt.stream.start-1),Y(Te)):void 0:void 0}function yt(at,ut){return at!="quasi"?H():ut.slice(ut.length-2)!="${"?Y(yt):Y(Gt,Mt)}function Mt(at){if(at=="}")return rt.marked="string-2",rt.state.tokenize=J,Y(yt)}function vt(at){return L(rt.stream,rt.state),H(at=="{"?fe:Se)}function Pt(at){return L(rt.stream,rt.state),H(at=="{"?fe:ze)}function A(at){return function(ut){return ut=="."?Y(at?ft:ot):ut=="variable"&&S?Y(Wr,at?wt:Nt):H(at?ze:Se)}}function ot(at,ut){if(ut=="target")return rt.marked="keyword",Y(Nt)}function ft(at,ut){if(ut=="target")return rt.marked="keyword",Y(wt)}function xt(at){return at==":"?Y(re,fe):H(Nt,ce(";"),re)}function It(at){if(at=="variable")return rt.marked="property",Y()}function Ut(at,ut){return at=="async"?(rt.marked="property",Y(Ut)):at=="variable"||rt.style=="keyword"?(rt.marked="property",ut=="get"||ut=="set"?Y(pe):(S&&rt.state.fatArrowAt==rt.stream.start&&(Wt=rt.stream.match(/^\s*:\s*/,!1))&&(rt.state.fatArrowAt=rt.stream.pos+Wt[0].length),Y(De))):at=="number"||at=="string"?(rt.marked=m?"property":rt.style+" property",Y(De)):at=="jsonld-keyword"?Y(De):S&&At(ut)?(rt.marked="keyword",Y(Ut)):at=="["?Y(Se,ke,ce("]"),De):at=="spread"?Y(ze,De):ut=="*"?(rt.marked="keyword",Y(Ut)):at==":"?H(De):void 0;var Wt}function pe(at){return at!="variable"?H(De):(rt.marked="property",Y(fr))}function De(at){return at==":"?Y(ze):at=="("?H(fr):void 0}function Ve(at,ut,Wt){function _e(Te,Qe){if(Wt?Wt.indexOf(Te)>-1:Te==","){var an=rt.state.lexical;return an.info=="call"&&(an.pos=(an.pos||0)+1),Y(function(Fn,Pe){return Fn==ut||Pe==ut?H():H(at)},_e)}return Te==ut||Qe==ut?Y():Wt&&Wt.indexOf(";")>-1?H(at):Y(ce(ut))}return function(Te,Qe){return Te==ut||Qe==ut?Y():H(at,_e)}}function $e(at,ut,Wt){for(var _e=3;_e<arguments.length;_e++)rt.cc.push(arguments[_e]);return Y(ne(ut,Wt),Ve(at,ut),re)}function nn(at){return at=="}"?Y():H(fe,nn)}function ke(at,ut){if(S){if(at==":")return Y($t);if(ut=="?")return Y(ke)}}function ht(at,ut){if(S&&(at==":"||ut=="in"))return Y($t)}function _t(at){if(S&&at==":")return rt.stream.match(/^\s*\w+\s+is\b/,!1)?Y(Se,Rt,$t):Y($t)}function Rt(at,ut){if(ut=="is")return rt.marked="keyword",Y()}function $t(at,ut){return ut=="keyof"||ut=="typeof"||ut=="infer"||ut=="readonly"?(rt.marked="keyword",Y(ut=="typeof"?ze:$t)):at=="variable"||ut=="void"?(rt.marked="type",Y(Xn)):ut=="|"||ut=="&"?Y($t):at=="string"||at=="number"||at=="atom"?Y(Xn):at=="["?Y(ne("]"),Ve($t,"]",","),re,Xn):at=="{"?Y(ne("}"),be,re,Xn):at=="("?Y(Ve(cn,")"),le,Xn):at=="<"?Y(Ve($t,">"),$t):at=="quasi"?H(tn,Xn):void 0}function le(at){if(at=="=>")return Y($t)}function be(at){return at.match(/[\}\)\]]/)?Y():at==","||at==";"?Y(be):H(Ye,be)}function Ye(at,ut){return at=="variable"||rt.style=="keyword"?(rt.marked="property",Y(Ye)):ut=="?"||at=="number"||at=="string"?Y(Ye):at==":"?Y($t):at=="["?Y(ce("variable"),ht,ce("]"),Ye):at=="("?H(Cr,Ye):at.match(/[;\}\)\],]/)?void 0:Y()}function tn(at,ut){return at!="quasi"?H():ut.slice(ut.length-2)!="${"?Y(tn):Y($t,Ke)}function Ke(at){if(at=="}")return rt.marked="string-2",rt.state.tokenize=J,Y(tn)}function cn(at,ut){return at=="variable"&&rt.stream.match(/^\s*[?:]/,!1)||ut=="?"?Y(cn):at==":"?Y($t):at=="spread"?Y(cn):H($t)}function Xn(at,ut){return ut=="<"?Y(ne(">"),Ve($t,">"),re,Xn):ut=="|"||at=="."||ut=="&"?Y($t):at=="["?Y($t,ce("]"),Xn):ut=="extends"||ut=="implements"?(rt.marked="keyword",Y($t)):ut=="?"?Y($t,ce(":"),$t):void 0}function Wr(at,ut){if(ut=="<")return Y(ne(">"),Ve($t,">"),re,Xn)}function En(){return H($t,$r)}function $r(at,ut){if(ut=="=")return Y($t)}function sn(at,ut){return ut=="enum"?(rt.marked="keyword",Y(Un)):H(ue,ke,or,Yo)}function ue(at,ut){return S&&At(ut)?(rt.marked="keyword",Y(ue)):at=="variable"?(ct(ut),Y()):at=="spread"?Y(ue):at=="["?$e(Gr,"]"):at=="{"?$e(Rn,"}"):void 0}function Rn(at,ut){return at!="variable"||rt.stream.match(/^\s*:/,!1)?(at=="variable"&&(rt.marked="property"),at=="spread"?Y(ue):at=="}"?H():at=="["?Y(Se,ce("]"),ce(":"),Rn):Y(ce(":"),ue,or)):(ct(ut),Y(or))}function Gr(){return H(ue,or)}function or(at,ut){if(ut=="=")return Y(ze)}function Yo(at){if(at==",")return Y(sn)}function Lo(at,ut){if(at=="keyword b"&&ut=="else")return Y(ne("form","else"),fe,re)}function Do(at,ut){return ut=="await"?Y(Do):at=="("?Y(ne(")"),ts,re):void 0}function ts(at){return at=="var"?Y(sn,qr):at=="variable"?Y(qr):H(qr)}function qr(at,ut){return at==")"?Y():at==";"?Y(qr):ut=="in"||ut=="of"?(rt.marked="keyword",Y(Se,qr)):H(Se,qr)}function fr(at,ut){return ut=="*"?(rt.marked="keyword",Y(fr)):at=="variable"?(ct(ut),Y(fr)):at=="("?Y(qt,ne(")"),Ve(Jn,")"),re,_t,fe,Ht):S&&ut=="<"?Y(ne(">"),Ve(En,">"),re,fr):void 0}function Cr(at,ut){return ut=="*"?(rt.marked="keyword",Y(Cr)):at=="variable"?(ct(ut),Y(Cr)):at=="("?Y(qt,ne(")"),Ve(Jn,")"),re,_t,Ht):S&&ut=="<"?Y(ne(">"),Ve(En,">"),re,Cr):void 0}function eo(at,ut){return at=="keyword"||at=="variable"?(rt.marked="type",Y(eo)):ut=="<"?Y(ne(">"),Ve(En,">"),re):void 0}function Jn(at,ut){return ut=="@"&&Y(Se,Jn),at=="spread"?Y(Jn):S&&At(ut)?(rt.marked="keyword",Y(Jn)):S&&at=="this"?Y(ke,or):H(ue,ke,or)}function es(at,ut){return at=="variable"?Io(at,ut):xn(at,ut)}function Io(at,ut){if(at=="variable")return ct(ut),Y(xn)}function xn(at,ut){return ut=="<"?Y(ne(">"),Ve(En,">"),re,xn):ut=="extends"||ut=="implements"||S&&at==","?(ut=="implements"&&(rt.marked="keyword"),Y(S?$t:Se,xn)):at=="{"?Y(ne("}"),Qn,re):void 0}function Qn(at,ut){return at=="async"||at=="variable"&&(ut=="static"||ut=="get"||ut=="set"||S&&At(ut))&&rt.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1)?(rt.marked="keyword",Y(Qn)):at=="variable"||rt.style=="keyword"?(rt.marked="property",Y(tr,Qn)):at=="number"||at=="string"?Y(tr,Qn):at=="["?Y(Se,ke,ce("]"),tr,Qn):ut=="*"?(rt.marked="keyword",Y(Qn)):S&&at=="("?H(Cr,Qn):at==";"||at==","?Y(Qn):at=="}"?Y():ut=="@"?Y(Se,Qn):void 0}function tr(at,ut){if(ut=="!"||ut=="?")return Y(tr);if(at==":")return Y($t,or);if(ut=="=")return Y(ze);var Wt=rt.state.lexical.prev;return H(Wt&&Wt.info=="interface"?Cr:fr)}function ns(at,ut){return ut=="*"?(rt.marked="keyword",Y(Ir,ce(";"))):ut=="default"?(rt.marked="keyword",Y(Se,ce(";"))):at=="{"?Y(Ve(dr,"}"),Ir,ce(";")):H(fe)}function dr(at,ut){return ut=="as"?(rt.marked="keyword",Y(ce("variable"))):at=="variable"?H(ze,dr):void 0}function Bn(at){return at=="string"?Y():at=="("?H(Se):at=="."?H(Nt):H(Sr,bn,Ir)}function Sr(at,ut){return at=="{"?$e(Sr,"}"):(at=="variable"&&ct(ut),ut=="*"&&(rt.marked="keyword"),Y(je))}function bn(at){if(at==",")return Y(Sr,bn)}function je(at,ut){if(ut=="as")return rt.marked="keyword",Y(Sr)}function Ir(at,ut){if(ut=="from")return rt.marked="keyword",Y(Se)}function xo(at){return at=="]"?Y():H(Ve(ze,"]"))}function Un(){return H(ne("form"),ue,ce("{"),ne("}"),Ve(rn,"}"),re,re)}function rn(){return H(ue,or)}function no(at,ut){return at.lastType=="operator"||at.lastType==","||k.test(ut.charAt(0))||/[,.]/.test(ut.charAt(0))}function go(at,ut,Wt){return ut.tokenize==N&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ut.lastType)||ut.lastType=="quasi"&&/\{\s*$/.test(at.string.slice(0,at.pos-(Wt||0)))}return qt.lex=Yt.lex=!0,Ht.lex=!0,re.lex=!0,{startState:function(at){var ut={tokenize:N,lastType:"sof",cc:[],lexical:new z((at||0)-h,0,"block",!1),localVars:j.localVars,context:j.localVars&&new ee(null,null,!1),indented:at||0};return j.globalVars&&typeof j.globalVars=="object"&&(ut.globalVars=j.globalVars),ut},token:function(at,ut){if(at.sol()&&(ut.lexical.hasOwnProperty("align")||(ut.lexical.align=!1),ut.indented=at.indentation(),L(at,ut)),ut.tokenize!=$&&at.eatSpace())return null;var Wt=ut.tokenize(at,ut);return C=="comment"?Wt:(ut.lastType=C!="operator"||O!="++"&&O!="--"?C:"incdec",q(ut,Wt,C,O,at))},indent:function(at,ut){if(at.tokenize==$||at.tokenize==J)return F.Pass;if(at.tokenize!=N)return 0;var Wt,_e=ut&&ut.charAt(0),Te=at.lexical;if(!/^\s*else\b/.test(ut))for(var Qe=at.cc.length-1;Qe>=0;--Qe){var an=at.cc[Qe];if(an==re)Te=Te.prev;else if(an!=Lo&&an!=Ht)break}for(;(Te.type=="stat"||Te.type=="form")&&(_e=="}"||(Wt=at.cc[at.cc.length-1])&&(Wt==Nt||Wt==wt)&&!/^[,\.=+\-*:?[\(]/.test(ut));)Te=Te.prev;v&&Te.type==")"&&Te.prev.type=="stat"&&(Te=Te.prev);var Fn=Te.type,Pe=_e==Fn;return Fn=="vardef"?Te.indented+(at.lastType=="operator"||at.lastType==","?Te.info.length+1:0):Fn=="form"&&_e=="{"?Te.indented:Fn=="form"?Te.indented+h:Fn=="stat"?Te.indented+(no(at,ut)?v||h:0):Te.info!="switch"||Pe||j.doubleIndentSwitch==0?Te.align?Te.column+(Pe?0:1):Te.indented+(Pe?0:h):Te.indented+(/^(?:case|default)\b/.test(ut)?h:2*h)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:g?null:"/*",blockCommentEnd:g?null:"*/",blockCommentContinue:g?null:" * ",lineComment:g?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:g?"json":"javascript",jsonldMode:m,jsonMode:g,expressionAllowed:go,skipExpression:function(at){q(at,"atom","atom","true",new F.StringStream("",2,null))}}}),F.registerHelper("wordChars","javascript",/[\w$]/),F.defineMIME("text/javascript","javascript"),F.defineMIME("text/ecmascript","javascript"),F.defineMIME("application/javascript","javascript"),F.defineMIME("application/x-javascript","javascript"),F.defineMIME("application/ecmascript","javascript"),F.defineMIME("application/json",{name:"javascript",json:!0}),F.defineMIME("application/x-json",{name:"javascript",json:!0}),F.defineMIME("application/manifest+json",{name:"javascript",json:!0}),F.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),F.defineMIME("text/typescript",{name:"javascript",typescript:!0}),F.defineMIME("application/typescript",{name:"javascript",typescript:!0})})(Z(631))},589:(E,K,Z)=>{(function(F){var V={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},j={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};F.defineMode("xml",function(C,O){var h,v,m=C.indentUnit,g={},y=O.htmlMode?V:j;for(var S in y)g[S]=y[S];for(var S in O)g[S]=O[S];function w(Y,dt){function ct(At){return dt.tokenize=At,At(Y,dt)}var jt=Y.next();return jt=="<"?Y.eat("!")?Y.eat("[")?Y.match("CDATA[")?ct(M("atom","]]>")):null:Y.match("--")?ct(M("comment","-->")):Y.match("DOCTYPE",!0,!0)?(Y.eatWhile(/[\w\._\-]/),ct(D(1))):null:Y.eat("?")?(Y.eatWhile(/[\w\._\-]/),dt.tokenize=M("meta","?>"),"meta"):(h=Y.eat("/")?"closeTag":"openTag",dt.tokenize=T,"tag bracket"):jt=="&"?(Y.eat("#")?Y.eat("x")?Y.eatWhile(/[a-fA-F\d]/)&&Y.eat(";"):Y.eatWhile(/[\d]/)&&Y.eat(";"):Y.eatWhile(/[\w\.\-:]/)&&Y.eat(";"))?"atom":"error":(Y.eatWhile(/[^&<]/),null)}function T(Y,dt){var ct=Y.next();if(ct==">"||ct=="/"&&Y.eat(">"))return dt.tokenize=w,h=ct==">"?"endTag":"selfcloseTag","tag bracket";if(ct=="=")return h="equals",null;if(ct=="<"){dt.tokenize=w,dt.state=J,dt.tagName=dt.tagStart=null;var jt=dt.tokenize(Y,dt);return jt?jt+" tag error":"tag error"}return/[\'\"]/.test(ct)?(dt.tokenize=k(ct),dt.stringStartCol=Y.column(),dt.tokenize(Y,dt)):(Y.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function k(Y){var dt=function(ct,jt){for(;!ct.eol();)if(ct.next()==Y){jt.tokenize=T;break}return"string"};return dt.isInAttribute=!0,dt}function M(Y,dt){return function(ct,jt){for(;!ct.eol();){if(ct.match(dt)){jt.tokenize=w;break}ct.next()}return Y}}function D(Y){return function(dt,ct){for(var jt;(jt=dt.next())!=null;){if(jt=="<")return ct.tokenize=D(Y+1),ct.tokenize(dt,ct);if(jt==">"){if(Y==1){ct.tokenize=w;break}return ct.tokenize=D(Y-1),ct.tokenize(dt,ct)}}return"meta"}}function R(Y){return Y&&Y.toLowerCase()}function N(Y,dt,ct){this.prev=Y.context,this.tagName=dt||"",this.indent=Y.indented,this.startOfLine=ct,(g.doNotIndent.hasOwnProperty(dt)||Y.context&&Y.context.noIndent)&&(this.noIndent=!0)}function W(Y){Y.context&&(Y.context=Y.context.prev)}function $(Y,dt){for(var ct;;){if(!Y.context||(ct=Y.context.tagName,!g.contextGrabbers.hasOwnProperty(R(ct))||!g.contextGrabbers[R(ct)].hasOwnProperty(R(dt))))return;W(Y)}}function J(Y,dt,ct){return Y=="openTag"?(ct.tagStart=dt.column(),U):Y=="closeTag"?L:J}function U(Y,dt,ct){return Y=="word"?(ct.tagName=dt.current(),v="tag",tt):g.allowMissingTagName&&Y=="endTag"?(v="tag bracket",tt(Y,dt,ct)):(v="error",U)}function L(Y,dt,ct){if(Y=="word"){var jt=dt.current();return ct.context&&ct.context.tagName!=jt&&g.implicitlyClosed.hasOwnProperty(R(ct.context.tagName))&&W(ct),ct.context&&ct.context.tagName==jt||g.matchClosing===!1?(v="tag",P):(v="tag error",z)}return g.allowMissingTagName&&Y=="endTag"?(v="tag bracket",P(Y,dt,ct)):(v="error",z)}function P(Y,dt,ct){return Y!="endTag"?(v="error",P):(W(ct),J)}function z(Y,dt,ct){return v="error",P(Y,dt,ct)}function tt(Y,dt,ct){if(Y=="word")return v="attribute",q;if(Y=="endTag"||Y=="selfcloseTag"){var jt=ct.tagName,At=ct.tagStart;return ct.tagName=ct.tagStart=null,Y=="selfcloseTag"||g.autoSelfClosers.hasOwnProperty(R(jt))?$(ct,jt):($(ct,jt),ct.context=new N(ct,jt,At==ct.indented)),J}return v="error",tt}function q(Y,dt,ct){return Y=="equals"?rt:(g.allowMissing||(v="error"),tt(Y,dt,ct))}function rt(Y,dt,ct){return Y=="string"?H:Y=="word"&&g.allowUnquoted?(v="string",tt):(v="error",tt(Y,dt,ct))}function H(Y,dt,ct){return Y=="string"?H:tt(Y,dt,ct)}return w.isInText=!0,{startState:function(Y){var dt={tokenize:w,state:J,indented:Y||0,tagName:null,tagStart:null,context:null};return Y!=null&&(dt.baseIndent=Y),dt},token:function(Y,dt){if(!dt.tagName&&Y.sol()&&(dt.indented=Y.indentation()),Y.eatSpace())return null;h=null;var ct=dt.tokenize(Y,dt);return(ct||h)&&ct!="comment"&&(v=null,dt.state=dt.state(h||ct,Y,dt),v&&(ct=v=="error"?ct+" error":v)),ct},indent:function(Y,dt,ct){var jt=Y.context;if(Y.tokenize.isInAttribute)return Y.tagStart==Y.indented?Y.stringStartCol+1:Y.indented+m;if(jt&&jt.noIndent)return F.Pass;if(Y.tokenize!=T&&Y.tokenize!=w)return ct?ct.match(/^(\s*)/)[0].length:0;if(Y.tagName)return g.multilineTagIndentPastTag!==!1?Y.tagStart+Y.tagName.length+2:Y.tagStart+m*(g.multilineTagIndentFactor||1);if(g.alignCDATA&&/<!\[CDATA\[/.test(dt))return 0;var At=dt&&/^<(\/)?([\w_:\.-]*)/.exec(dt);if(At&&At[1])for(;jt;){if(jt.tagName==At[2]){jt=jt.prev;break}if(!g.implicitlyClosed.hasOwnProperty(R(jt.tagName)))break;jt=jt.prev}else if(At)for(;jt;){var ee=g.contextGrabbers[R(jt.tagName)];if(!ee||!ee.hasOwnProperty(R(At[2])))break;jt=jt.prev}for(;jt&&jt.prev&&!jt.startOfLine;)jt=jt.prev;return jt?jt.indent+m:Y.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:g.htmlMode?"html":"xml",helperType:g.htmlMode?"html":"xml",skipAttribute:function(Y){Y.state==rt&&(Y.state=tt)},xmlCurrentTag:function(Y){return Y.tagName?{name:Y.tagName,close:Y.type=="closeTag"}:null},xmlCurrentContext:function(Y){for(var dt=[],ct=Y.context;ct;ct=ct.prev)dt.push(ct.tagName);return dt.reverse()}}}),F.defineMIME("text/xml","xml"),F.defineMIME("application/xml","xml"),F.mimeModes.hasOwnProperty("text/html")||F.defineMIME("text/html",{name:"xml",htmlMode:!0})})(Z(631))},642:(E,K,Z)=>{Z.d(K,{Z:()=>C});var F,V=Z(346),j=(F=function(O,h){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(v[g]=m[g])},F(O,h)},function(O,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=O}F(O,h),O.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)});const C=function(O){function h(v,m,g){var y=O.call(this,m,g)||this;return y._module=v,y}return j(h,O),Object.defineProperty(h.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),h}(V.Hn)},675:(E,K,Z)=>{Z.d(K,{Z:()=>O,q:()=>V});var F,V,j=Z(642),C=(F=function(h,v){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(m[y]=g[y])},F(h,v)},function(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=h}F(h,v),h.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)});(function(h){h.Select="select",h.Hover="hover",h.Spacing="spacing",h.Target="target",h.Resize="resize"})(V||(V={}));const O=function(h){function v(){return h!==null&&h.apply(this,arguments)||this}return C(v,h),v.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(v.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"component",{get:function(){var m;return this.get("component")||((m=this.get("componentView"))===null||m===void 0?void 0:m.model)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"componentView",{get:function(){var m;return this.get("componentView")||((m=this.get("component"))===null||m===void 0?void 0:m.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"el",{get:function(){var m;return(m=this.componentView)===null||m===void 0?void 0:m.el},enumerable:!1,configurable:!0}),v.prototype.getBoxRect=function(m){var g=this.el,y=this.em.Canvas.getCanvasView(),S=this.get("boxRect");return S||(g&&y?y.getElBoxRect(g,m):{x:0,y:0,width:0,height:0})},v.prototype.getStyle=function(m){m===void 0&&(m={});var g=m.boxRect||this.getBoxRect(m),y=g.width,S=g.height,w=g.x,T=g.y;return{width:"".concat(y,"px"),height:"".concat(S,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(w,"px ").concat(T,"px")}},v.prototype.isType=function(m){return this.type===m},v}(j.Z)},858:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>F});const F={run:function(V){V.DomComponents.clear(),V.CssComposer.clear()}}},884:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>C});var F=Z(50),V=Z(668),j=Z(491);const C={run:function(O){(0,F.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=O,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(O){this.toggleMove(),this.disableDragger()},onKeyUp:function(O){(0,j.sN)(O)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(O){this.toggleDragger(1,O)},disableDragger:function(O){this.toggleDragger(0,O)},toggleDragger:function(O,h){var v=this.canvasModel,m=this.em,g=this.dragger,y=O?"add":"remove";this.getCanvas().classList[y]("".concat(this.ppfx,"is__grabbing")),g||(g=new V.Z({getPosition:function(){return{x:v.get("x"),y:v.get("y")}},setPosition:function(S){var w=S.x,T=S.y;v.set({x:w,y:T})},onStart:function(S,w){m.trigger("canvas:move:start",w)},onDrag:function(S,w){m.trigger("canvas:move",w)},onEnd:function(S,w){m.trigger("canvas:move:end",w)}}),this.dragger=g),O?g.start(h):g.stop()},toggleMove:function(O){var h=this.ppfx,v=O?"add":"remove",m=O?"on":"off",g={on:j.on,off:j.S1},y=this.getCanvas(),S=["".concat(h,"is__grab")];!O&&S.push("".concat(h,"is__grabbing")),S.forEach(function(w){return y.classList[v](w)}),g[m](document,"keyup",this.onKeyUp),g[m](y,"mousedown",this.enableDragger),g[m](document,"mouseup",this.disableDragger)}}},790:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>O,defineCommand:()=>C});var F,V=Z(346),j=(F=function(h,v){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(m[y]=g[y])},F(h,v)},function(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=h}F(h,v),h.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)});function C(h){return h}const O=function(h){function v(m){var g=h.call(this,0)||this;g.config=m||{},g.em=g.config.em||{};var y=g.config.stylePrefix;return g.pfx=y,g.ppfx=g.config.pStylePrefix,g.hoverClass="".concat(y,"hover"),g.badgeClass="".concat(y,"badge"),g.plhClass="".concat(y,"placeholder"),g.freezClass="".concat(g.ppfx,"freezed"),g.canvas=g.em.Canvas,g.init(g.config),g}return j(v,h),v.prototype.onFrameScroll=function(m){},v.prototype.getCanvas=function(){return this.canvas.getElement()},v.prototype.getCanvasBody=function(){return this.canvas.getBody()},v.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},v.prototype.offset=function(m){var g=m.getBoundingClientRect();return{top:g.top+m.ownerDocument.body.scrollTop,left:g.left+m.ownerDocument.body.scrollLeft}},v.prototype.init=function(m){},v.prototype.callRun=function(m,g){g===void 0&&(g={});var y=this.id;if(m.trigger("run:".concat(y,":before"),g),!g||!g.abort){var S=g.sender||m,w=this.run(m,S,g);return m.trigger("run:".concat(y),w,g),m.trigger("run",y,w,g),w}m.trigger("abort:".concat(y),g)},v.prototype.callStop=function(m,g){g===void 0&&(g={});var y=this.id,S=g.sender||m;m.trigger("stop:".concat(y,":before"),g);var w=this.stop(m,S,g);return m.trigger("stop:".concat(y),w,g),m.trigger("stop",y,w,g),w},v.prototype.stopCommand=function(m){this.em.Commands.stop(this.id,m)},v.prototype.run=function(m,g,y){},v.prototype.stop=function(m,g,y){},v}(V.Hn)},180:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>j});var F=Z(50),V=function(C,O,h){if(h||arguments.length===2)for(var v,m=0,g=O.length;m<g;m++)!v&&m in O||(v||(v=Array.prototype.slice.call(O,0,m)),v[m]=O[m]);return C.concat(v||Array.prototype.slice.call(O))};const j={run:function(C,O,h){var v=this;h===void 0&&(h={});var m=[],g=h.component||C.getSelectedAll();return(g=(0,F.isArray)(g)?V([],g,!0):[g]).filter(Boolean).forEach(function(y){if(!y.get("removable"))return m.push(y),v.em.logWarning("The element is not removable",{component:y});y.remove()}),C.select(m),g}}},544:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>O});var F=Z(50),V=Z(668),j=function(){return j=Object.assign||function(h){for(var v,m=1,g=arguments.length;m<g;m++)for(var y in v=arguments[m])Object.prototype.hasOwnProperty.call(v,y)&&(h[y]=v[y]);return h},j.apply(this,arguments)},C="dmode";const O={run:function(h,v,m){var g=this;m===void 0&&(m={}),(0,F.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var y=m.target,S=m.event,w=m.mode,T=m.dragger,k=T===void 0?{}:T,M=y.getEl(),D=j({doc:M.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return g.guidesStatic},guidesTarget:function(){return g.guidesTarget}},k);this.setupGuides(),this.opts=m,this.editor=h,this.em=h.getModel(),this.target=y,this.isTran=w=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var R=this.dragger;return R?R.setOptions(D):(R=new V.Z(D),this.dragger=R),S&&R.start(S),this.toggleDrag(1),this.em.trigger("".concat(C,":start"),this.getEventOpts()),R},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(h){var v=h.guide;v&&v.parentNode.removeChild(v)}),this.guides=[]},getGuidesContainer:function(){var h=this,v=this.guidesEl;if(!v){var m=this,g=m.editor,y=m.em,S=m.opts,w=g.getConfig().stylePrefix,T=document.createElement("div"),k=document.createElement("div"),M='<div class="'.concat(w,"guide-info__line ").concat(w,`danger-bg">
        <div class="`).concat(w,"guide-info__content ").concat(w,`danger-color"></div>
      </div>`);(v=document.createElement("div")).className="".concat(w,"guides"),T.className="".concat(w,"guide-info ").concat(w,"guide-info__x"),k.className="".concat(w,"guide-info ").concat(w,"guide-info__y"),T.innerHTML=M,k.innerHTML=M,v.appendChild(T),v.appendChild(k),g.Canvas.getGlobalToolsEl().appendChild(v),this.guidesEl=v,this.elGuideInfoX=T,this.elGuideInfoY=k,this.elGuideInfoContentX=T.querySelector(".".concat(w,"guide-info__content")),this.elGuideInfoContentY=k.querySelector(".".concat(w,"guide-info__content")),y.on("canvas:update frame:scroll",(0,F.debounce)(function(){var D;h.updateGuides(),S.debug&&((D=h.guides)===null||D===void 0||D.forEach(function(R){return h.renderGuide(R)}))},200))}return v},getGuidesStatic:function(){var h=this,v=[],m=this.target.getEl(),g=m.parentNode,y=g===void 0?{}:g;return(0,F.each)(y.children,function(S){return v=v.concat(m!==S?h.getElementGuides(S):[])}),v.concat(this.getElementGuides(y))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(h){var v,m,g=this;(h||this.guides).forEach(function(y){var S=y.origin,w=v===S?m:g.getElementPos(S);v=S,m=w,(0,F.each)(g.getGuidePosUpdate(y,w),function(T,k){return y[k]=T}),y.originRect=w})},getGuidePosUpdate:function(h,v){var m={},g=v.top,y=v.height,S=v.left,w=v.width;switch(h.type){case"t":m.y=g;break;case"b":m.y=g+y;break;case"l":m.x=S;break;case"r":m.x=S+w;break;case"x":m.x=S+w/2;break;case"y":m.y=g+y/2}return m},renderGuide:function(h){h===void 0&&(h={});var v=h.guide||document.createElement("div"),m="px",g=h.active?2:1,y=v.children[0];return v.style="position: absolute; background-color: ".concat(h.active?"green":"red",";"),v.children.length||((y=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",v.appendChild(y)),h.y?(v.style.width="100%",v.style.height="".concat(g).concat(m),v.style.top="".concat(h.y).concat(m),v.style.left=0):(v.style.width="".concat(g).concat(m),v.style.height="100%",v.style.left="".concat(h.x).concat(m),v.style.top="0".concat(m)),!h.guide&&this.guidesContainer.appendChild(v),v},getElementPos:function(h){return this.editor.Canvas.getElementPos(h,{noScroll:1})},getElementGuides:function(h){var v=this,m=this.opts,g=this.getElementPos(h),y=g.top,S=g.height,w=g.left,T=g.width,k=[{type:"t",y},{type:"b",y:y+S},{type:"l",x:w},{type:"r",x:w+T},{type:"x",x:w+T/2},{type:"y",y:y+S/2}].map(function(M){return j(j({},M),{origin:h,originRect:g,guide:m.debug&&v.renderGuide(M)})});return k.forEach(function(M){var D;return(D=v.guides)===null||D===void 0?void 0:D.push(M)}),k},getTranslate:function(h,v){v===void 0&&(v="x");var m=0;return(h||"").split(" ").forEach(function(g){var y=g.trim(),S="translate".concat(v.toUpperCase(),"(");y.indexOf(S)===0&&(m=parseFloat(y.replace(S,"")))}),m},setTranslate:function(h,v,m){var g="translate".concat(v.toUpperCase(),"("),y="".concat(g).concat(m,")"),S=(h||"").split(" ").map(function(w){return w.trim().indexOf(g)===0&&(w=y),w}).join(" ");return S.indexOf(g)<0&&(S+=" ".concat(y)),S},getPosition:function(){var h=this.target,v=this.isTran,m=h.getStyle(),g=m.left,y=m.top,S=m.transform,w=0,T=0;return v?(w=this.getTranslate(S),T=this.getTranslate(S,"y")):(w=parseFloat(g||0),T=parseFloat(y||0)),{x:w,y:T}},setPosition:function(h){var v=h.x,m=h.y,g=h.end,y=h.position,S=h.width,w=h.height,T=this,k=T.target,M=T.isTran,D=T.em,R="px",N=!g,W="".concat(parseInt(v,10)).concat(R),$="".concat(parseInt(m,10)).concat(R),J={};if(M){var U=k.getStyle().transform||"";U=this.setTranslate(U,"x",W),J={transform:U=this.setTranslate(U,"y",$),__p:N},k.addStyle(J,{avoidStore:!g})}else{var L={position:y,width:S,height:w},P={left:W,top:$,__p:N};(0,F.keys)(L).forEach(function(z){var tt=L[z];tt&&(P[z]=tt)}),J=P,k.addStyle(J,{avoidStore:!g})}D==null||D.Styles.__emitCmpStyleUpdate(J,{components:D.getSelected()})},_getDragData:function(){var h=this.target;return{target:h,parent:h.parent(),index:h.index()}},onStart:function(h){var v=this,m=v.target,g=v.editor,y=v.isTran,S=v.opts,w=S.center,T=S.onStart,k=g.Canvas,M=m.getStyle(),D="absolute",R=[D,"relative"];if(T&&T(this._getDragData()),!y&&M.position!==D){var N=k.offset(m.getEl()),W=N.left,$=N.top,J=N.width,U=N.height,L=m.parent(),P=void 0;do{var z=L.getStyle();P=R.indexOf(z.position)>=0?L:null,L=L.parent()}while(L&&!P);if(w){var tt=k.getMouseRelativeCanvas(h);W=tt.x,$=tt.y}else if(P){var q=k.offset(P.getEl());W-=q.left,$-=q.top}this.setPosition({x:W,y:$,width:"".concat(J,"px"),height:"".concat(U,"px"),position:D})}},onDrag:function(){for(var h=this,v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];var g=this.guidesTarget,y=this.opts,S=y.onDrag;this.updateGuides(g),y.debug&&g.forEach(function(w){return h.renderGuide(w)}),y.guidesInfo&&this.renderGuideInfo(g.filter(function(w){return w.active})),S&&S(this._getDragData())},onEnd:function(h,v,m){m===void 0&&(m={});var g=this,y=g.editor,S=g.opts,w=g.id,T=S.onEnd;T&&T(h,m,j(j({event:h},m),this._getDragData())),y.stopCommand(w),this.hideGuidesInfo(),this.em.trigger("".concat(C,":end"),this.getEventOpts())},hideGuidesInfo:function(){var h=this;["X","Y"].forEach(function(v){var m=h["elGuideInfo".concat(v)];m&&(m.style.display="none")})},renderGuideInfo:function(h){var v=this;h===void 0&&(h=[]);var m=this.guidesStatic;this.hideGuidesInfo(),h.forEach(function(g){var y=g.origin,S=g.x,w=v.getElementPos(y),T=(0,F.isUndefined)(S)?"y":"x",k=T==="y",M=w[k?"left":"top"],D=w.rect[k?"left":"top"],R=k?M+w.width:M+w.height,N=k?D+w.rect.width:D+w.rect.height,W=v["elGuideInfo".concat(T.toUpperCase())],$=v["elGuideInfoContent".concat(T.toUpperCase())],J=W.style,U=m==null?void 0:m.filter(function(Yt){return Yt.type===g.type}).map(function(Yt){var Ht=Yt.originRect,ne=Ht.left,re=Ht.width,ce=Ht.top,fe=Ht.height,Me=k?ne+re:ce+fe;return{gap:Me<M?M-Me:(k?ne:ce)-R,guide:Yt}}).filter(function(Yt){return Yt.gap>0}).sort(function(Yt,Ht){return Yt.gap-Ht.gap}).map(function(Yt){return Yt.guide})[0];if(U){var L=U.originRect,P=L.left,z=L.width,tt=L.top,q=L.height,rt=L.rect,H=k?P<w.left:tt<w.top,Y=k?P:tt,dt=k?rt.left:rt.top,ct=k?P+z:tt+q,jt=k?rt.left+rt.width:rt.top+rt.height,At=k?g.y:g.x,ee=H?ct:R,mt="".concat(At,"px"),gt=H?M-ct:Y-R,qt=H?D-jt:dt-N;J.display="",J[k?"top":"left"]=mt,J[k?"left":"top"]="".concat(ee,"px"),J[k?"width":"height"]="".concat(gt,"px"),$.innerHTML="".concat(Math.round(qt),"px"),v.em.trigger("".concat(C,":active"),j(j({},v.getEventOpts()),{guide:g,guidesStatic:m,matched:U,posFirst:At,posSecond:ee,size:gt,sizeRaw:qt,elGuideInfo:W,elGuideInfoCnt:$}))}})},toggleDrag:function(h){var v=this.ppfx,m=this.editor,g=h?"add":"remove",y=["".concat(v,"is__grabbing")],S=m.Canvas,w=S.getBody();y.forEach(function(T){return w.classList[g](T)}),S[h?"startAutoscroll":"stopAutoscroll"]()}}},236:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>F});const F={run:function(V){if(V.Canvas.hasFocus()){var j=[];V.getSelectedAll().forEach(function(C){var O=C.components(),h=O&&O.filter(function(v){return v.get("selectable")})[0];h&&j.push(h)}),j.length&&V.select(j)}}}},368:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>F});const F={run:function(V,j,C){if(C===void 0&&(C={}),V.Canvas.hasFocus()||C.force){var O=[];V.getSelectedAll().forEach(function(h){for(var v=h.parent();v&&!v.get("selectable");)v=v.parent();v&&O.push(v)}),O.length&&V.select(O)}}}},243:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>F});const F={run:function(V){if(V.Canvas.hasFocus()){var j=[];V.getSelectedAll().forEach(function(C){var O=C.parent();if(O){var h,v=O.components().length,m=0,g=0;do m++,h=(g=C.index()+m)<=v?O.getChildAt(g):null;while(h&&!h.get("selectable"));j.push(h||C)}}),j.length&&V.select(j)}}}},400:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>F});const F={run:function(V){if(V.Canvas.hasFocus()){var j=[];V.getSelectedAll().forEach(function(C){var O=C.parent();if(O){var h,v=0,m=0;do v++,h=(m=C.index()-v)>=0?O.getChildAt(m):null;while(h&&!h.get("selectable"));j.push(h||C)}}),j.length&&V.select(j)}}}},910:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>V});var F=Z(50);const V={run:function(j,C,O){O===void 0&&(O={});var h=O.target,v=[];if(!h.get("styles"))return v;var m=h.get("type"),g=j.Pages.getAllWrappers();if(!(0,F.flatten)(g.map(function(S){return S.findType(m)})).length){var y=j.CssComposer.getAll();v=y.filter(function(S){return S.get("group")==="cmp:".concat(m)}),y.remove(v)}return v}}},744:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>V});var F=function(j,C,O){if(O||arguments.length===2)for(var h,v=0,m=C.length;v<m;v++)!h&&v in C||(h||(h=Array.prototype.slice.call(C,0,v)),h[v]=C[v]);return j.concat(h||Array.prototype.slice.call(C))};const V={run:function(j){var C=j.getModel(),O=F([],j.getSelectedAll(),!0);O.length&&C.set("clipboard",O)}}},517:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>C});var F=Z(50),V=Z(895),j=Z(407);const C=(0,F.extend)({},j.default,{init:function(){(0,F.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(O){O.stopPropagation();var h=(0,V.default)(O.target);h.data("model").get("removable")&&(h.addClass(this.hoverClass),this.attachBadge(h.get(0)))},stopDelete:function(O){O.stopPropagation(),(0,V.default)(O.target).removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(O){O.stopPropagation();var h=(0,V.default)(O.target);h.data("model").get("removable")&&(h.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(O){this.badge.html("Remove "+O.getName())}})},457:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>V});var F=Z(491);const V={run:function(j,C,O){var h=this;O===void 0&&(O={}),C&&C.set&&C.set("active",0);var v=j.getConfig(),m=j.Modal,g=v.stylePrefix;if(this.cm=j.CodeManager||null,!this.editors){var y=this.buildEditor("htmlmixed","hopscotch","HTML"),S=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=y.model,this.cssEditor=S.model;var w=(0,F.ut)("div",{class:"".concat(g,"export-dl")});w.appendChild(y.el),w.appendChild(S.el),this.editors=w}m.open({title:v.textViewCode,content:this.editors}).getModel().once("change:open",function(){return j.stopCommand("".concat(h.id))}),this.htmlEditor.setContent(j.getHtml(O.optsHtml)),this.cssEditor.setContent(j.getCss(O.optsCss))},stop:function(j){var C=j.Modal;C&&C.close()},buildEditor:function(j,C,O){var h=this.em.CodeManager,v=h.createViewer({label:O,codeName:j,theme:C});return{model:v,el:new h.EditorView({model:v,config:h.getConfig()}).render().el}}}},975:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>V});var F=Z(50);const V={isEnabled:function(){var j=document;return!!(j.fullscreenElement||j.webkitFullscreenElement||j.mozFullScreenElement)},enable:function(j){var C="";return j.requestFullscreen?j.requestFullscreen():j.webkitRequestFullscreen?(C="webkit",j.webkitRequestFullscreen()):j.mozRequestFullScreen?(C="moz",j.mozRequestFullScreen()):j.msRequestFullscreen&&j.msRequestFullscreen(),C},disable:function(){var j=document;this.isEnabled()&&(j.exitFullscreen?j.exitFullscreen():j.webkitExitFullscreen?j.webkitExitFullscreen():j.mozCancelFullScreen?j.mozCancelFullScreen():j.msExitFullscreen&&j.msExitFullscreen())},fsChanged:function(j){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(j||"","fullscreenchange"),this.fsChanged))},run:function(j,C,O){O===void 0&&(O={}),this.sender=C;var h=O.target,v=(0,F.isElement)(h)?h:document.querySelector(h),m=this.enable(v||j.getContainer());this.fsChanged=this.fsChanged.bind(this,m),document.addEventListener(m+"fullscreenchange",this.fsChanged),j.trigger("change:canvasOffset")},stop:function(j,C){C&&C.set&&C.set("active",!1),this.disable(),j&&j.trigger("change:canvasOffset")}}},191:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>h});var F=Z(50),V=Z(895),j=Z(491),C=Z(407),O=Z(189);const h=(0,F.extend)({},O.default,C.default,{init:function(v){C.default.init.apply(this,arguments),(0,F.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=v,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];C.default.enable.apply(this,v),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var g=this.$wrapper;g.css("cursor","move"),g.on("mousedown",this.initSorter),g.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(v){var m=(0,V.default)(v.target).data("model").get("draggable");m&&(this.cacheEl=null,this.startSelectPosition(v.target,this.frameEl.contentDocument),this.sorter.draggable=m,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,j.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(v){var m=v.get("draggable");if(m){this.cacheEl=null;var g=v.view.el;this.startSelectPosition(g,this.frameEl.contentDocument),this.sorter.draggable=m,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,j.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(v){this.cacheEl=null;var m=v[v.length-1],g=this.em.getCurrentFrame(),y=m.getEl(g==null?void 0:g.model),S=y.ownerDocument;this.startSelectPosition(y,S,{onStart:this.onStart}),this.sorter.draggable=m.get("draggable"),this.sorter.toMove=v,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,j.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,j.S1)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,j.S1)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(v,m){},rollback:function(v,m){((v.which||v.keyCode)==27||m)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=(0,V.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,V.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];C.default.stop.apply(this,v),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass),this.$wrapper.css("cursor","").unbind().removeClass(this.noSelClass)}})},912:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>j});var F=Z(50),V=Z(491);const j={open:function(C){var O=this,h=this,v=h.editor,m=h.title,g=h.config,y=h.am,S=g.custom;if((0,F.isFunction)(S.open))return S.open(y.__customData());v.Modal.open({title:m,content:C}).onceClose(function(){return v.stopCommand(O.id)})},close:function(){var C=this.config.custom;if((0,F.isFunction)(C.close))return C.close(this.am.__customData());var O=this.editor.Modal;O&&O.close()},run:function(C,O,h){h===void 0&&(h={});var v=C.AssetManager,m=v.getConfig(),g=h.types,y=g===void 0?[]:g,S=h.accept,w=h.select;if(this.title=h.modalTitle||C.t("assetManager.modalTitle")||"",this.editor=C,this.config=m,this.am=v,v.setTarget(h.target),v.onClick(h.onClick),v.onDblClick(h.onDblClick),v.onSelect(h.onSelect),v.__behaviour({select:w,types:y,options:h}),m.custom)this.rendered=this.rendered||(0,V.ut)("div"),this.rendered.className="".concat(m.stylePrefix,"custom-wrp"),v.__behaviour({container:this.rendered}),v.__trgCustom();else{if(!this.rendered||y){var T=v.getAll().filter(function(M){return M});y&&y.length&&(T=T.filter(function(M){return y.indexOf(M.get("type"))!==-1})),v.render(T),this.rendered=v.getContainer()}if(S){var k=this.rendered.querySelector("input#".concat(m.stylePrefix,"uploadFile"));k&&k.setAttribute("accept",S)}}return this.open(this.rendered),this},stop:function(C){this.editor=C,this.close(this.rendered)}}},117:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>j});var F=Z(50),V=Z(491);const j={open:function(){var C=this,O=C.container,h=C.editor,v=C.bm,m=C.config,g=m.custom,y=m.appendTo;if((0,F.isFunction)(g.open))return g.open(v.__customData());if(this.firstRender&&!y){var S="views-container",w=h.Panels;(w.getPanel(S)||w.addPanel({id:S})).set("appendContent",O).trigger("change:appendContent"),g||O.appendChild(v.render())}O&&(O.style.display="block")},close:function(){var C=this.container,O=this.config.custom;if((0,F.isFunction)(O.close))return O.close(this.bm.__customData());C&&(C.style.display="none")},run:function(C){var O=C.Blocks;this.config=O.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,V.ut)("div"),this.editor=C,this.bm=O;var h=this.container;O.__behaviour({container:h}),this.config.custom&&O.__trgCustom(),this.open()},stop:function(){this.close()}}},614:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>F});const F={run:function(V){var j=V.LayerManager,C=V.Panels,O=j.getConfig();if(!O.appendTo){if(!this.layers){var h="views-container",v=document.createElement("div"),m=C.getPanel(h)||C.addPanel({id:h});O.custom?j.__trgCustom({container:v}):v.appendChild(j.render()),m.set("appendContent",v).trigger("change:appendContent"),this.layers=v}this.layers.style.display="block"}},stop:function(){var V=this.layers;V&&(V.style.display="none")}}},801:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>V});var F=Z(895);const V={run:function(j,C){if(this.sender=C,!this.$cnt){var O=j.getConfig(),h=j.Panels,v=j.DeviceManager,m=j.SelectorManager,g=j.StyleManager,y="change:appendContent",S=(0,F.default)("<div></div>"),w=(0,F.default)("<div></div>"),T=(0,F.default)("<div></div>"),k=(0,F.default)("<div></div>");if(this.$cnt=S,this.$cntInner=w,w.append(T),w.append(k),S.append(w),v&&O.showDevices){var M=h.addPanel({id:"devices-c"}),D=v.render();M.set("appendContent",D).trigger(y)}var R=m.getConfig();R.custom?m.__trgCustom({container:T.get(0)}):R.appendTo||T.append(m.render([])),this.sm=g;var N=g.getConfig(),W=N.stylePrefix;this.$header=(0,F.default)('<div class="'.concat(W,'header">').concat(j.t("styleManager.empty"),"</div>")),S.append(this.$header),N.custom?g.__trgCustom({container:k.get(0)}):N.appendTo||k.append(g.render());var $="views-container";(h.getPanel($)||h.addPanel({id:$})).set("appendContent",S).trigger(y);var J=j.getModel();this.listenTo(J,g.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var j=this,C=j.sender,O=j.sm,h=j.$cntInner,v=j.$header;C&&C.get&&!C.get("active")||!O||(O.getSelected()?(h==null||h.show(),v==null||v.hide()):(h==null||h.hide(),v==null||v.show()))},stop:function(){var j,C;(j=this.$cntInner)===null||j===void 0||j.hide(),(C=this.$header)===null||C===void 0||C.hide()}}},395:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>V});var F=Z(895);const V={run:function(j,C){this.sender=C;var O,h=j.getModel(),v=j.Config.stylePrefix,m=j.TraitManager,g=m.getConfig();if(!g.appendTo){if(!this.$cn){this.$cn=(0,F.default)("<div></div>"),this.$cn2=(0,F.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,F.default)("<div>").append('<div class="'.concat(g.stylePrefix,'header">').concat(h.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),g.custom?m.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(v,'traits-label">').concat(h.t("traitManager.label"),"</div>")),this.$cn2.append(m.render()));var y=j.Panels;(O=y.getPanel("views-container")?y.getPanel("views-container"):y.addPanel({id:"views-container"}))==null||O.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=j.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var j=this.sender;j&&j.get&&!j.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},98:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>V});var F=Z(50);const V={run:function(j,C,O){O===void 0&&(O={});var h=j.getModel().get("clipboard"),v=j.getSelected();h&&v&&(j.getSelectedAll().forEach(function(m){var g=m.collection;if(g){var y,S={at:m.index()+1,action:O.action||"paste-component"};if((0,F.contains)(h,m)&&m.get("copyable"))y=g.add(m.clone(),S);else{var w=h.filter(function(T){return T.get("copyable")}).filter(function(T){return j.Components.canMove(m.parent(),T).result});y=g.add(w.map(function(T){return T.clone()}),S)}(y=(0,F.isArray)(y)?y:[y]).forEach(function(T){return j.trigger("component:paste",T)})}}),v.emitUpdate())}}},129:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>C});var F=Z(50),V=function(O,h,v){if(v||arguments.length===2)for(var m,g=0,y=h.length;g<y;g++)!m&&g in h||(m||(m=Array.prototype.slice.call(h,0,g)),m[g]=h[g]);return O.concat(m||Array.prototype.slice.call(h))},j="core:component-outline";const C={getPanels:function(O){return this.panels||(this.panels=O.Panels.getPanels()),this.panels},preventDrag:function(O){O.abort=1},tglEffects:function(O){var h=this.em,v=O?"on":"off";if(h){var m=h.Canvas,g=m.getBody(),y=m.getToolbarEl();y&&(y.style.display=O?"none":"");var S=g.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,F.each)(S,function(w){return w.style.pointerEvents=O?"all":""}),h[v]("run:tlb-move:before",this.preventDrag)}},run:function(O,h){var v=this;this.sender=h,this.selected=V([],O.getSelectedAll(),!0),O.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=O.Commands.isActive(j)),this.shouldRunSwVisibility&&O.stopCommand(j),O.getModel().stopDefault();var m=this.getPanels(O),g=O.Canvas.getElement(),y=O.getEl(),S=O.Config.stylePrefix;if(!this.helper){var w=document.createElement("span");w.className="".concat(S,"off-prv fa fa-eye-slash"),y.appendChild(w),w.onclick=function(){return v.stopCommand()},this.helper=w}this.helper.style.display="inline-block",m.forEach(function(k){return k.set("visible",!1)});var T=g.style;T.width="100%",T.height="100%",T.top="0",T.left="0",T.padding="0",T.margin="0",O.refresh(),this.tglEffects(1)},stop:function(O){var h=this.sender,v=h===void 0?{}:h,m=this.selected;v.set&&v.set("active",0);var g=this.getPanels(O);this.shouldRunSwVisibility&&(O.runCommand(j),this.shouldRunSwVisibility=!1),O.getModel().runDefault(),g.forEach(function(y){return y.set("visible",!0)}),O.Canvas.getElement().setAttribute("style",""),m&&O.select(m),delete this.selected,this.helper&&(this.helper.style.display="none"),O.refresh(),this.tglEffects()}}},116:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>V});var F=function(){return F=Object.assign||function(j){for(var C,O=1,h=arguments.length;O<h;O++)for(var v in C=arguments[O])Object.prototype.hasOwnProperty.call(C,v)&&(j[v]=C[v]);return j},F.apply(this,arguments)};const V={run:function(j,C,O){var h=O||{},v=j.Canvas,m=v.getCanvasView(),g=F({appendTo:v.getResizerEl(),prefix:j.getConfig().stylePrefix,posFetcher:m.getElementPos.bind(m),mousePosFetcher:v.getMouseRelativePos},h.options||{}),y=this.canvasResizer;return y&&!h.forceNew||(this.canvasResizer=new j.Utils.Resizer(g),y=this.canvasResizer),y.setOptions(g,!0),y.blur(),y.focus(h.el),y},stop:function(){var j;(j=this.canvasResizer)===null||j===void 0||j.blur()}}},407:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>J});var F,V=Z(50),j=Z(346),C=(F=function(U,L){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,z){P.__proto__=z}||function(P,z){for(var tt in z)Object.prototype.hasOwnProperty.call(z,tt)&&(P[tt]=z[tt])},F(U,L)},function(U,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function P(){this.constructor=U}F(U,L),U.prototype=L===null?Object.create(L):(P.prototype=L.prototype,new P)});const O=function(U){function L(){return U!==null&&U.apply(this,arguments)||this}return C(L,U),L.prototype.defaults=function(){return{command:"",attributes:{}}},L}(j.Hn);var h=function(){var U=function(L,P){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,tt){z.__proto__=tt}||function(z,tt){for(var q in tt)Object.prototype.hasOwnProperty.call(tt,q)&&(z[q]=tt[q])},U(L,P)};return function(L,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function z(){this.constructor=L}U(L,P),L.prototype=P===null?Object.create(P):(z.prototype=P.prototype,new z)}}(),v=function(U){function L(){return U!==null&&U.apply(this,arguments)||this}return h(L,U),L}(j.FE);const m=v;v.prototype.model=O;var g=Z(330),y=function(){var U=function(L,P){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,tt){z.__proto__=tt}||function(z,tt){for(var q in tt)Object.prototype.hasOwnProperty.call(tt,q)&&(z[q]=tt[q])},U(L,P)};return function(L,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function z(){this.constructor=L}U(L,P),L.prototype=P===null?Object.create(P):(z.prototype=P.prototype,new z)}}(),S=function(){return S=Object.assign||function(U){for(var L,P=1,z=arguments.length;P<z;P++)for(var tt in L=arguments[P])Object.prototype.hasOwnProperty.call(L,tt)&&(U[tt]=L[tt]);return U},S.apply(this,arguments)};const w=function(U){function L(P){var z=U.call(this,P)||this;return z.em=P.config.em,z}return y(L,U),L.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},L.prototype.attributes=function(){return this.model.get("attributes")},L.prototype.handleClick=function(P){P.preventDefault(),P.stopPropagation();var z=this.em,tt=z.Canvas.getFrameEl().getBoundingClientRect(),q=tt.left,rt=tt.top,H=S(S({},P),{clientX:P.clientX-q,clientY:P.clientY-rt});z.trigger("toolbar:run:before",{event:H}),this.execCommand(H)},L.prototype.execCommand=function(P){var z=this.em,tt={event:P},q=this.model.get("command"),rt=z.Editor;(0,V.isFunction)(q)&&q(rt,null,tt),(0,V.isString)(q)&&rt.runCommand(q,tt)},L.prototype.render=function(){var P=this,z=P.em,tt=P.$el,q=P.model,rt=q.get("id"),H=q.get("label"),Y=z.getConfig().stylePrefix;return tt.addClass("".concat(Y,"toolbar-item")),rt&&tt.addClass("".concat(Y,"toolbar-item__").concat(rt)),H&&tt.append(H),this},L}(j.G7);var T=function(){var U=function(L,P){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,tt){z.__proto__=tt}||function(z,tt){for(var q in tt)Object.prototype.hasOwnProperty.call(tt,q)&&(z[q]=tt[q])},U(L,P)};return function(L,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function z(){this.constructor=L}U(L,P),L.prototype=P===null?Object.create(P):(z.prototype=P.prototype,new z)}}(),k=function(U){function L(P){var z=U.call(this,P)||this,tt=P.em;return z.em=tt,z.config={em:tt},z.listenTo(z.collection,"reset",z.render),z}return T(L,U),L.prototype.onRender=function(){var P=this.em.config.stylePrefix;this.el.className="".concat(P,"toolbar-items")},L}(g.Z);const M=k;k.prototype.itemView=w;var D,R=Z(491),N=Z(163),W=Z(675),$=function(){return $=Object.assign||function(U){for(var L,P=1,z=arguments.length;P<z;P++)for(var tt in L=arguments[P])Object.prototype.hasOwnProperty.call(L,tt)&&(U[tt]=L[tt]);return U},$.apply(this,arguments)};const J={init:function(){this.onSelect=(0,V.debounce)(this.onSelect,0),(0,V.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),D=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(U){var L=this,P=this.em,z=P.getConfig().listenToEl,tt=P.getContainer().parentNode,q=U?"on":"off",rt={on:R.on,off:R.S1};!z.length&&tt&&z.push(tt),rt[q](window,"resize",this.onFrameUpdated),rt[q](z,"scroll",this.onContainerChange),P[q]("component:toggled component:update undo redo",this.onSelect,this),P[q]("change:componentHovered",this.onHovered,this),P[q]("component:resize styleable:change component:input",this.updateGlobalPos,this),P[q]("component:update:toolbar",this._upToolbar,this),P[q]("change:canvasOffset",this.updateAttached,this),P[q]("frame:updated",this.onFrameUpdated,this),P[q]("canvas:updateTools",this.onFrameUpdated,this),P.Canvas.getFrames().forEach(function(H){var Y=H.view,dt=Y==null?void 0:Y.getWindow();dt&&function(ct,jt){rt[q](jt,"mouseover",L.onHover),rt[q](jt,"mouseleave",L.onOut),rt[q](jt,"click",L.onClick),rt[q](ct,"scroll",L.onFrameScroll,!0),rt[q](ct,"resize",L.onFrameResize)}(dt,Y==null?void 0:Y.getBody())})},onHover:function(U){U.stopPropagation();var L=this.em,P=U.target,z=(0,N.getComponentView)(P),tt=z==null?void 0:z.frameView,q=z==null?void 0:z.model;if(!q)for(var rt=P.parentNode;!q&&rt&&!(0,R.Mx)(rt);)q=(0,N.getComponentModel)(rt),rt=rt.parentNode;this.currentDoc=P.ownerDocument,L.setHovered(q,{useValid:!0}),tt&&L.setCurrentFrame(tt)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(U,L){var P,z=this,tt={};L?(P=L.views)===null||P===void 0||P.forEach(function(q){var rt=q.el,H=z.getElementPos(rt);tt={el:rt,pos:H,component:L,view:(0,N.getViewEl)(rt)},rt.ownerDocument===z.currentDoc&&(z.elHovered=tt),z.updateToolsLocal(tt)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(q){var rt=q.view,H=rt&&rt.getToolsEl();H&&z.toggleToolsEl(0,0,{el:H})}))},onSelect:function(){var U=this.em,L=U.getSelected(),P=U.getCurrentFrame(),z=L&&L.getView(P==null?void 0:P.model),tt=z&&z.el,q={};tt&&(0,R.pn)(tt)&&(q={el:tt,pos:this.getElementPos(tt),component:L,view:(0,N.getViewEl)(tt)}),this.elSelected=q,this.updateToolsGlobal(),this.updateLocalPos(q),this.initResize(L)},updateGlobalPos:function(){var U=this.getElSelected();U.el&&(U.pos=this.getElementPos(U.el),this.updateToolsGlobal())},updateLocalPos:function(U){var L=this.getElHovered();L.el&&(L.pos=this.getElementPos(L.el),this.updateToolsLocal(U))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(U,L,P){P===void 0&&(P={});var z=P.el||this.canvas.getToolsEl(L);return z&&(z.style.display=U?"":"none"),z||{}},showElementOffset:function(U,L,P){P===void 0&&(P={}),D&&this.editor.runCommand("show-offset",{el:U,elPos:L,view:P.view,force:1,top:0,left:0})},hideElementOffset:function(U){this.editor.stopCommand("show-offset",{view:U})},showFixedElementOffset:function(U,L){this.editor.runCommand("show-offset",{el:U,elPos:L,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(U){this.canvas.getHighlighter(U).style.opacity=0},onClick:function(U){U.stopPropagation(),U.preventDefault();var L=this.em;if(L.get("_cmpDrag"))return L.set("_cmpDrag");var P=U.target,z=(0,N.getComponentModel)(P);if(!z)for(var tt=P.parentNode;!z&&tt&&!(0,R.Mx)(tt);)z=(0,N.getComponentModel)(tt),tt=tt.parentNode;if(z){if(L.isEditing()&&!z.get("textable")&&z.isChildOf("text"))return;this.select(z,U)}},select:function(U,L){L===void 0&&(L={}),U&&(this.editor.select(U,{event:L,useValid:!0}),this.initResize(U))},updateBadge:function(U,L,P){P===void 0&&(P={});var z=this.canvas,tt=(0,N.getComponentModel)(U),q=this.getBadge(P),rt=q.style;if(tt&&tt.get("badgable")){if(!P.posOnly){var H=this.canvas.getConfig(),Y=tt.getIcon(),dt=H.pStylePrefix||"",ct="".concat(dt,"badge"),jt=H.customBadgeLabel,At="".concat(Y?'<div class="'.concat(ct,'__icon">').concat(Y,"</div>"):"",`
        <div class="`).concat(ct,'__name">').concat(tt.getName(),"</div>");q.innerHTML=jt?jt(tt):At}var ee="px";rt.display="block";var mt=z.getTargetToElementFixed(U,q,{pos:L}).top,gt=P.leftOff<0?-P.leftOff:0;rt.top=mt+ee,rt.left=gt+ee}else rt.display="none"},showHighlighter:function(U){this.canvas.getHighlighter(U).style.opacity=""},initResize:function(U){var L=this.em,P=this.canvas,z=L.Editor,tt=!(0,V.isElement)(U)&&(0,R.o5)(U)?U:L.getSelected(),q=tt==null?void 0:tt.get("resizable"),rt=W.q.Resize,H=P.hasCustomSpot(rt);if(P.removeSpots({type:rt}),tt&&q){if(P.addSpot({type:rt,component:tt}),H)return;var Y,dt=L.config.stylePrefix||"",ct="".concat(dt,"resizing"),jt=function(mt,gt,qt){var Yt=qt.docs;Yt&&Yt.forEach(function(Ht){var ne=Ht.body,re=ne.className||"";ne.className=(mt=="add"?"".concat(re," ").concat(ct):re.replace(ct,"")).trim()})},At=(0,V.isElement)(U)?U:tt.getEl(),ee=$({onStart:function(mt,gt){gt===void 0&&(gt={});var qt=gt.el,Yt=gt.config,Ht=gt.resizer,ne=Yt.keyHeight,re=Yt.keyWidth,ce=Yt.currentUnit,fe=Yt.keepAutoHeight,Me=Yt.keepAutoWidth;jt("add",0,gt),Y=L.Styles.getModelToStyle(tt),P.toggleFramesEvents(!1);var Se=getComputedStyle(qt),ze=Y.getStyle(),qe=ze[re];Yt.autoWidth=Me&&qe==="auto",isNaN(parseFloat(qe))&&(qe=Se[re]);var X=ze[ne];Yt.autoHeight=fe&&X==="auto",isNaN(parseFloat(X))&&(X=Se[ne]),Ht.startDim.w=parseFloat(qe),Ht.startDim.h=parseFloat(X),D=!1,ce&&(Yt.unitHeight=(0,N.getUnitFromValue)(X),Yt.unitWidth=(0,N.getUnitFromValue)(qe))},onMove:function(){z.trigger("component:resize")},onEnd:function(mt,gt){jt("remove",0,gt),z.trigger("component:resize"),P.toggleFramesEvents(!0),D=!0},updateTarget:function(mt,gt,qt){if(qt===void 0&&(qt={}),Y){var Yt=qt.store,Ht=qt.selectedHandler,ne=qt.config,re=ne.keyHeight,ce=ne.keyWidth,fe=ne.autoHeight,Me=ne.autoWidth,Se=ne.unitWidth,ze=ne.unitHeight,qe=["tc","bc"].indexOf(Ht)>=0,X=["cl","cr"].indexOf(Ht)>=0,Gt={};if(!qe){var Nt=P.getBody().offsetWidth,wt=gt.w<Nt?gt.w:Nt;Gt[ce]=Me?"auto":"".concat(wt).concat(Se)}X||(Gt[re]=fe?"auto":"".concat(gt.h).concat(ze)),L.getDragMode(tt)&&(Gt.top="".concat(gt.t).concat(ze),Gt.left="".concat(gt.l).concat(Se));var yt=$($({},Gt),{__p:!Yt});Y.addStyle(yt,{avoidStore:!Yt}),L.Styles.__emitCmpStyleUpdate(yt,{components:L.getSelected()})}}},(0,N.isObject)(q)?q:{});this.resizer=z.runCommand("resize",{el:At,options:ee,force:1})}else{if(H)return;z.stopCommand("resize"),this.resizer=null}},updateToolbar:function(U){var L=this.canvas,P=this.config.em,z=U===P?P.getSelected():U,tt=L.getToolbarEl(),q=tt.style,rt=z.get("toolbar"),H=P.config.showToolbar,Y=!L.hasCustomSpot(W.q.Select);if(z&&H&&rt&&rt.length&&Y){if(q.display="",!this.toolbar){tt.innerHTML="",this.toolbar=new m(rt);var dt=new M({collection:this.toolbar,em:P});tt.appendChild(dt.render().el)}this.toolbar.reset(rt),q.top="-100px",q.left="0"}else q.display="none"},updateToolbarPos:function(U){var L="px",P=this.canvas.getToolbarEl().style;P.top="".concat(U.top).concat(L),P.left="".concat(U.left).concat(L),P.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(U){return U===void 0&&(U={}),this.canvas.getBadgeEl(U.view)},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refreshSpots()},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(U){return U&&U.get("status")==="selected"},updateToolsLocal:function(U){var L=this.em.getConfig(),P=U||this.getElHovered(),z=P.el,tt=P.pos,q=P.view,rt=P.component;if(z){var H=rt.get("hoverable"),Y=this.lastHovered!==z,dt=Y?{}:{posOnly:1},ct=this.canvas.hasCustomSpot(W.q.Hover);Y&&H&&(this.lastHovered=z,ct?this.hideHighlighter(q):this.showHighlighter(q),this.showElementOffset(z,tt,{view:q})),this.isCompSelected(rt)&&(this.hideHighlighter(q),!L.showOffsetsSelected&&this.hideElementOffset(q));var jt="px",At=this.toggleToolsEl(1,q),ee=At.style,mt=this.canvas.canvasRectOffset(z,tt),gt=mt.top,qt=mt.left;!ct&&this.updateBadge(z,tt,$($({},dt),{view:q,topOff:gt,leftOff:qt})),ee.top=gt+jt,ee.left=qt+jt,ee.width=tt.width+jt,ee.height=tt.height+jt,this._trgToolUp("local",{component:rt,el:At,top:gt,left:qt,width:tt.width,height:tt.height})}else this.lastHovered=0},_upToolbar:(0,V.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(U,L){L===void 0&&(L={}),this.em.trigger("canvas:tools:update",$({type:U},L))},updateToolsGlobal:function(U){U===void 0&&(U={});var L=this.getElSelected(),P=L.el,z=L.pos,tt=L.component;if(!P)return this.toggleToolsEl(),void(this.lastSelected=0);var q=this.canvas;(this.lastSelected!==P||U.force)&&(this.lastSelected=P,this.updateToolbar(tt));var rt="px",H=this.toggleToolsEl(1),Y=H.style,dt=q.getTargetToElementFixed(P,q.getToolbarEl(),{pos:z}),ct=dt.canvasOffsetTop,jt=dt.canvasOffsetLeft;Y.top=ct+rt,Y.left=jt+rt,Y.width=z.width+rt,Y.height=z.height+rt,this.updateToolbarPos({top:dt.top,left:dt.left}),this._trgToolUp("global",{component:tt,el:H,top:ct,left:jt,width:z.width,height:z.height})},updateAttached:(0,V.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,V.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(U){return this.canvas.getCanvasView().getElementPos(U,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(U){U&&U.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(U){(0,N.hasWin)()&&(this.editor=U&&U.get("Editor"),this.enable())},stop:function(U,L,P){if(P===void 0&&(P={}),(0,N.hasWin)()){var z=this.em,tt=this.editor;this.onHovered(),this.stopSelectComponent(),!P.preserveSelected&&z.setSelected(),this.toggleToolsEl(),tt&&tt.stopCommand("resize")}}}},189:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>V});var F=Z(895);const V={startSelectPosition:function(j,C,O){var h=this;O===void 0&&(O={}),this.isPointed=!1;var v=this.em.Utils,m=j.ownerDocument.body;v&&!this.sorter&&(this.sorter=new v.Sorter({container:m,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:C,wmargin:1,nested:1,em:this.em,canvasRelative:1,scale:function(){return h.em.getZoomDecimal()}})),O.onStart&&(this.sorter.onStart=O.onStart),j&&this.sorter.startSort(j,{container:m})},getOffsetDim:function(){var j=this.offset(this.canvas.getFrameEl()),C=this.offset(this.canvas.getElement());return{top:j.top-C.top,left:j.left-C.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,F.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,F.default)(this.cDim[this.posIndex][5]).parent():(0,F.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(j,C,O){var h=j||0,v=C||"before",m=O.length,g=m!==0&&v=="after"&&h==m;return m!==0&&(!g&&!O[h][4]||O[h-1]&&!O[h-1][4]||g&&!O[h-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},804:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>h});var F=Z(50),V=Z(675),j=Z(895),C=Z(491),O=function(){return O=Object.assign||function(v){for(var m,g=1,y=arguments.length;g<y;g++)for(var S in m=arguments[g])Object.prototype.hasOwnProperty.call(m,S)&&(v[S]=m[S]);return v},O.apply(this,arguments)};const h={getOffsetMethod:function(v){return"get"+(v||"")+"OffsetViewerEl"},run:function(v,m,g){var y=this.canvas,S=g||{},w=S.state||"",T=v.getConfig(),k=this.em.getZoomDecimal(),M=S.el;if(T.showOffsets&&M&&!(0,C.BM)(M)&&(T.showOffsetsSelected||w!="Fixed")){if(!y.hasCustomSpot(V.q.Spacing)){var D=O({},S.elPos||y.getElementPos(M));(0,F.isUndefined)(S.top)||(D.top=S.top),(0,F.isUndefined)(S.left)||(D.left=S.left);var R=window.getComputedStyle(M),N=this.ppfx,W=w+"State",$=y[this.getOffsetMethod(w)](g.view);$.style.opacity="";var J=this["marginT"+w],U=this["marginB"+w],L=this["marginL"+w],P=this["marginR"+w],z=this["padT"+w],tt=this["padB"+w],q=this["padL"+w],rt=this["padR"+w];if($.childNodes.length&&(this[W]="1",J=$.querySelector("[data-offset-m-t]"),U=$.querySelector("[data-offset-m-b]"),L=$.querySelector("[data-offset-m-l]"),P=$.querySelector("[data-offset-m-r]"),z=$.querySelector("[data-offset-p-t]"),tt=$.querySelector("[data-offset-p-b]"),q=$.querySelector("[data-offset-p-l]"),rt=$.querySelector("[data-offset-p-r]")),!this[W]){var H=w.toLowerCase(),Y=H+"margin-v",dt=H+"padding-v",ct=(0,j.default)('<div class="'.concat(N,'marginName">')).get(0),jt=(0,j.default)('<div class="'.concat(N,'paddingName">')).get(0),At=N+dt+"-el",ee="".concat(N+Y+"-el"," ").concat(N+Y),mt="".concat(At," ").concat(N+dt);J=(0,j.default)('<div class="'.concat(ee,'-top"></div>')).get(0),U=(0,j.default)('<div class="'.concat(ee,'-bottom"></div>')).get(0),L=(0,j.default)('<div class="'.concat(ee,'-left"></div>')).get(0),P=(0,j.default)('<div class="'.concat(ee,'-right"></div>')).get(0),z=(0,j.default)('<div class="'.concat(mt,'-top"></div>')).get(0),tt=(0,j.default)('<div class="'.concat(mt,'-bottom"></div>')).get(0),q=(0,j.default)('<div class="'.concat(mt,'-left"></div>')).get(0),rt=(0,j.default)('<div class="'.concat(mt,'-right"></div>')).get(0),this["marginT"+w]=J,this["marginB"+w]=U,this["marginL"+w]=L,this["marginR"+w]=P,this["padT"+w]=z,this["padB"+w]=tt,this["padL"+w]=q,this["padR"+w]=rt,ct.appendChild(J),ct.appendChild(U),ct.appendChild(L),ct.appendChild(P),jt.appendChild(z),jt.appendChild(tt),jt.appendChild(q),jt.appendChild(rt),$.appendChild(ct),$.appendChild(jt),this[W]="1"}var gt="px",qt=parseFloat(R.marginLeft.replace(gt,""))*k,Yt=parseFloat(R.marginRight.replace(gt,""))*k,Ht=parseFloat(R.marginTop.replace(gt,""))*k,ne=parseFloat(R.marginBottom.replace(gt,""))*k,re=J.style,ce=U.style,fe=L.style,Me=P.style,Se=z.style,ze=tt.style,qe=q.style,X=rt.style,Gt=parseFloat(D.left),Nt=parseFloat(R.width)*k+gt;re.height=Ht+gt,re.width=Nt,re.top=D.top-Ht+gt,re.left=Gt+gt,ce.height=ne+gt,ce.width=Nt,ce.top=D.top+D.height+gt,ce.left=Gt+gt;var wt=D.height+Ht+ne+gt,yt=D.top-Ht+gt;fe.height=wt,fe.width=qt+gt,fe.top=yt,fe.left=Gt-qt+gt,Me.height=wt,Me.width=Yt+gt,Me.top=yt,Me.left=Gt+D.width+gt;var Mt=parseFloat(R.paddingTop)*k;Se.height=Mt+gt;var vt=parseFloat(R.paddingBottom)*k;ze.height=vt+gt;var Pt=D.height-vt-Mt+gt,A=D.top+Mt+gt;qe.height=Pt,qe.width=parseFloat(R.paddingLeft)*k+gt,qe.top=A;var ot=parseFloat(R.paddingRight)*k;X.height=Pt,X.width=ot+gt,X.top=A}}else v.stopCommand("".concat(this.id),g)},stop:function(v,m,g){g===void 0&&(g={});var y=(g||{}).state||"",S=this.getOffsetMethod(y),w=g.view;this.canvas[S](w).style.opacity=0}}},434:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>j});var F=Z(50),V=Z(163);const j={init:function(){(0,F.bindAll)(this,"_onFramesChange")},run:function(C){this.toggleVis(C,!0)},stop:function(C){this.toggleVis(C,!1)},toggleVis:function(C,O){if(O===void 0&&(O=!0),!C.Commands.isActive("preview")){var h=C.Canvas,v=O?"on":"off";h.getModel()[v]("change:frames",this._onFramesChange),this.handleFrames(h.getFrames(),O)}},handleFrames:function(C,O){var h=this;C.forEach(function(v){var m;!((m=v.view)===null||m===void 0)&&m.loaded&&h._upFrame(v,O),v.__ol||(v.on("loaded",function(){return h._upFrame(v)}),v.__ol=!0)})},_onFramesChange:function(C,O){this.handleFrames(O)},_upFrame:function(C,O){var h,v=this,m=v.ppfx,g=v.em,y=v.id,S=((0,V.isDef)(O)?O:g.Commands.isActive(y))?"add":"remove",w="".concat(m,"dashed");(h=C.view)===null||h===void 0||h.getBody().classList[S](w)}}},346:(E,K,Z)=>{Z.d(K,{FE:()=>m,G7:()=>g,Hn:()=>v,pH:()=>y,vA:()=>V});var F,V,j=Z(316),C=Z.n(j),O=(F=function(S,w){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,k){T.__proto__=k}||function(T,k){for(var M in k)Object.prototype.hasOwnProperty.call(k,M)&&(T[M]=k[M])},F(S,w)},function(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function T(){this.constructor=S}F(S,w),S.prototype=w===null?Object.create(w):(T.prototype=w.prototype,new T)}),h=function(){return h=Object.assign||function(S){for(var w,T=1,k=arguments.length;T<k;T++)for(var M in w=arguments[T])Object.prototype.hasOwnProperty.call(w,M)&&(S[M]=w[M]);return S},h.apply(this,arguments)},v=function(S){function w(){return S!==null&&S.apply(this,arguments)||this}return O(w,S),w}(C().Model),m=function(S){function w(){return S!==null&&S.apply(this,arguments)||this}return O(w,S),w}(C().Collection),g=function(S){function w(){return S!==null&&S.apply(this,arguments)||this}return O(w,S),w}(C().View);(function(S){S.Screen="screen",S.World="world"})(V||(V={}));var y={x:0,y:0};h(h({},y),{width:0,height:0})},330:(E,K,Z)=>{Z.d(K,{Z:()=>h});var F,V=Z(50),j=Z(346),C=(F=function(v,m){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(g[S]=y[S])},F(v,m)},function(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function g(){this.constructor=v}F(v,m),v.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}),O=function(v){function m(g,y,S){g===void 0&&(g={}),S===void 0&&(S=!1);var w=v.call(this,g)||this;return w.itemsView="",w.itemType="type",w.reuseView=!1,w.config=y||g.config||{},S&&w.listenTo(w.collection,"add",w.addTo),w.items=[],w}return C(m,v),m.prototype.addTo=function(g){this.add(g)},m.prototype.itemViewNotFound=function(g){var y=this.config,S=this.ns,w=y.em,T="".concat(S?"[".concat(S,"]: "):"","'").concat(g,"' type not found");w&&w.logWarning(T)},m.prototype.add=function(g,y){var S,w=this,T=w.config,k=w.reuseView,M=w.items,D=this.itemsView||{},R=y||null,N=this.itemView,W=g.get(this.itemType);D[W]?N=D[W]:!W||D[W]||(0,V.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],W)||this.itemViewNotFound(W),S=g.view&&k?g.view:new N({model:g,config:T},T),M&&M.push(S);var $=S.render().el;R?R.appendChild($):this.$el.append($)},m.prototype.render=function(){var g=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(y){this.add(y,g)},this),this.$el.append(g),this.onRender(),this},m.prototype.onRender=function(){},m.prototype.onRemoveBefore=function(g,y){},m.prototype.onRemove=function(g,y){},m.prototype.remove=function(g){g===void 0&&(g={});var y=this.items;return this.onRemoveBefore(y,g),this.clearItems(),v.prototype.remove.call(this),this.onRemove(y,g),this},m.prototype.clearItems=function(){this.items},m}(j.G7);const h=O;O.prototype.itemView=""},668:(E,K,Z)=>{Z.d(K,{Z:()=>O});var F=Z(50),V=Z(491),j=function(){return j=Object.assign||function(h){for(var v,m=1,g=arguments.length;m<g;m++)for(var y in v=arguments[m])Object.prototype.hasOwnProperty.call(v,y)&&(h[y]=v[y]);return h},j.apply(this,arguments)},C=["x","y"];const O=function(){function h(v){return v===void 0&&(v={}),this.opts={snapOffset:5,scale:1},(0,F.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(v),this.delta={x:0,y:0},this.lastScroll={x:0,y:0},this.lastScrollDiff={x:0,y:0},this.startPointer={x:0,y:0},this.startPosition={x:0,y:0},this.globScrollDiff={x:0,y:0},this.currentPointer={x:0,y:0},this.position={x:0,y:0},this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return h.prototype.setOptions=function(v){v===void 0&&(v={}),this.opts=j(j({},this.opts),v)},h.prototype.toggleDrag=function(v){var m=this.getDocumentEl(),g=this.getContainerEl(),y=this.getWindowEl(),S=v?"on":"off",w={on:V.on,off:V.S1};w[S](g,"mousemove dragover",this.drag),w[S](m,"mouseup dragend touchend",this.stop),w[S](m,"keydown",this.keyHandle),w[S](y,"scroll",this.handleScroll)},h.prototype.handleScroll=function(){var v=this.lastScroll,m=this.delta,g=this.getScrollInfo(),y={x:g.x-v.x,y:g.y-v.y};this.move(m.x+y.x,m.y+y.y),this.lastScrollDiff=y},h.prototype.start=function(v){var m=this.opts,g=m.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(v),this.guidesStatic=(0,F.result)(m,"guidesStatic")||[],this.guidesTarget=(0,F.result)(m,"guidesTarget")||[],(0,F.isFunction)(g)&&g(v,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff={x:0,y:0},this.globScrollDiff={x:0,y:0},this.drag(v)},h.prototype.drag=function(v){var m=this,g=this,y=g.opts,S=g.lastScrollDiff,w=g.globScrollDiff,T=y.onDrag,k=this.startPointer,M=this.getPointerPos(v),D={x:w.x+S.x,y:w.y+S.y};this.globScrollDiff=D;var R={x:M.x-k.x+D.x,y:M.y-k.y+D.y};this.lastScrollDiff={x:0,y:0};var N=this.lockedAxis;(N=v.shiftKey?!N&&this.detectAxisLock(R.x,R.y):null)==="x"?R.x=k.x:N==="y"&&(R.y=k.y);var W=function(z){C.forEach(function(tt){return z[tt]=z[tt]*(0,F.result)(y,"scale")}),m.delta=z,m.move(z.x,z.y),(0,F.isFunction)(T)&&T(v,m)},$=j({},R);if(this.currentPointer=M,this.lockedAxis=N,this.lastScroll=this.getScrollInfo(),W(R),this.guidesTarget.length){var J=this.snapGuides($),U=J.newDelta,L=J.trgX,P=J.trgY;(L||P)&&W(U)}v.which===0&&this.stop(v)},h.prototype.snapGuides=function(v){var m=this,g=v,y=this.trgX,S=this.trgY;return this.guidesTarget.forEach(function(w){w.x&&m.trgX||w.y&&m.trgY||(w.active=!1,m.guidesStatic.forEach(function(T){if(!(w.y&&T.x||w.x&&T.y)){var k=w.y&&T.y,M=k?"y":"x",D=w[M],R=T[M],N=v[M],W=k?S:y;if(m.isPointIn(D,R)&&(0,F.isUndefined)(W)){var $=N-(D-R);m.setGuideLock(w,$)}}}))}),y=this.trgX,S=this.trgY,C.forEach(function(w){var T=w.toUpperCase(),k=m["trg".concat(T)];k&&!m.isPointIn(v[w],k.lock)&&(m.setGuideLock(k,null),k=null),k&&!(0,F.isUndefined)(k.lock)&&(g[w]=k.lock)}),{newDelta:g,trgX:this.trgX,trgY:this.trgY}},h.prototype.isPointIn=function(v,m,g){var y=(g===void 0?{}:g).offset||this.opts.snapOffset||0;return v>=m&&v<=m+y||v<=m&&v>=m-y},h.prototype.setGuideLock=function(v,m){var g=(0,F.isUndefined)(v.x)?"Y":"X",y="trg".concat(g);return m!==null?(v.active=!0,v.lock=m,this[y]=v):(delete v.active,delete v.lock,delete this[y]),v},h.prototype.stop=function(v,m){m===void 0&&(m={});var g=this.delta,y=!!m.cancel,S=y?0:g.x,w=y?0:g.y;this.toggleDrag(),this.lockedAxis=null,this.move(S,w,!0);var T=this.opts.onEnd;(0,F.isFunction)(T)&&T(v,this,{cancelled:y})},h.prototype.keyHandle=function(v){(0,V.kl)(v)&&this.stop(v,{cancel:!0})},h.prototype.move=function(v,m,g){var y=this.el,S=this.opts,w=this.startPosition;if(w){var T=S.setPosition,k=w.x+v,M=w.y+m;this.position={x:k,y:M,end:g},(0,F.isFunction)(T)&&T(this.position),y&&(y.style.left="".concat(k,"px"),y.style.top="".concat(M,"px"))}},h.prototype.getContainerEl=function(){var v=this.opts.container;return v?[v]:this.getDocumentEl()},h.prototype.getWindowEl=function(){return this.getContainerEl().map(function(v){var m=v.ownerDocument||v;return m.defaultView||m.parentWindow})},h.prototype.getDocumentEl=function(v){var m=this.opts.doc;if(v=v||this.el,!this.docs.length){var g=[document];v&&g.push(v.ownerDocument),m&&g.push(m),this.docs=g}return this.docs},h.prototype.getPointerPos=function(v){var m=this.opts.getPointerPosition,g=(0,V.VB)(v);return m?m(v):{x:g.clientX,y:g.clientY}},h.prototype.getStartPosition=function(){var v=this.el,m=this.opts.getPosition,g={x:0,y:0};return(0,F.isFunction)(m)?g=m():v&&(g={x:parseFloat(v.style.left),y:parseFloat(v.style.top)}),g},h.prototype.getScrollInfo=function(){var v=this.opts.doc,m=v&&v.body;return{y:m?m.scrollTop:0,x:m?m.scrollLeft:0}},h.prototype.detectAxisLock=function(v,m){var g=v,y=m,S=Math.abs(g),w=Math.abs(y);return y>=S||y<=-S?"x":g>w||g<-w?"y":void 0},h}()},895:(E,K,Z)=>{Z.r(K),Z.d(K,{default:()=>ke});var F=typeof document<"u"?document:null,V=typeof window<"u"?window:null,j=Array.prototype,C=j.filter,O=j.indexOf,h=j.map,v=j.push,m=j.reverse,g=j.slice,y=j.splice,S=/^#[\w-]*$/,w=/^\.[\w-]*$/,T=/<.+>/,k=/^\w+$/;function M(ht,_t){return _t===void 0&&(_t=F),w.test(ht)?_t.getElementsByClassName(ht.slice(1)):k.test(ht)?_t.getElementsByTagName(ht):_t.querySelectorAll(ht)}function D(ht,_t){if(_t===void 0&&(_t=F),ht){if(ht.__cash)return ht;var Rt=ht;if(tt(ht)){if(_t.__cash&&(_t=_t[0]),!(Rt=S.test(ht)?_t.getElementById(ht.slice(1)):T.test(ht)?Ve(ht):M(ht,_t)))return}else if(z(ht))return this.ready(ht);(Rt.nodeType||Rt===V)&&(Rt=[Rt]),this.length=Rt.length;for(var $t=0,le=this.length;$t<le;$t++)this[$t]=Rt[$t]}}function R(ht,_t){return new D(ht,_t)}var N=R.fn=R.prototype=D.prototype={constructor:R,__cash:!0,length:0,splice:y};N.get=function(ht){return ht===void 0?g.call(this):this[ht<0?ht+this.length:ht]},N.eq=function(ht){return R(this.get(ht))},N.first=function(){return this.eq(0)},N.last=function(){return this.eq(-1)},N.map=function(ht){return R(h.call(this,function(_t,Rt){return ht.call(_t,Rt,_t)}))},N.slice=function(){return R(g.apply(this,arguments))};var W=/(?:^\w|[A-Z]|\b\w)/g,$=/[\s-_]+/g;function J(ht){return ht.replace(W,function(_t,Rt){return _t[Rt?"toUpperCase":"toLowerCase"]()}).replace($,"")}function U(ht,_t){for(var Rt=0,$t=ht.length;Rt<$t&&_t.call(ht[Rt],ht[Rt],Rt,ht)!==!1;Rt++);}R.camelCase=J,R.each=U,N.each=function(ht){return U(this,function(_t,Rt){return ht.call(_t,Rt,_t)}),this},N.removeProp=function(ht){return this.each(function(_t,Rt){delete Rt[ht]})},R.extend=N.extend=function(ht){ht===void 0&&(ht=this);for(var _t=arguments,Rt=_t.length,$t=Rt<2?0:1;$t<Rt;$t++)for(var le in _t[$t])ht[le]=_t[$t][le];return ht};var L=1;function P(ht,_t){var Rt=ht&&(ht.matches||ht.webkitMatchesSelector||ht.mozMatchesSelector||ht.msMatchesSelector||ht.oMatchesSelector);return!!Rt&&Rt.call(ht,_t)}function z(ht){return typeof ht=="function"}function tt(ht){return typeof ht=="string"}function q(ht){return!isNaN(parseFloat(ht))&&isFinite(ht)}R.guid=L,R.matches=P,R.isFunction=z,R.isString=tt,R.isNumeric=q;var rt=Array.isArray;function H(ht){return tt(ht)?function(_t,Rt){return P(Rt,ht)}:ht.__cash?function(_t,Rt){return ht.is(Rt)}:function(_t,Rt,$t){return Rt===$t}}R.isArray=rt,N.prop=function(ht,_t){if(ht){if(tt(ht))return arguments.length<2?this[0]&&this[0][ht]:this.each(function($t,le){le[ht]=_t});for(var Rt in ht)this.prop(Rt,ht[Rt]);return this}},N.filter=function(ht){if(!ht)return R();var _t=z(ht)?ht:H(ht);return R(C.call(this,function(Rt,$t){return _t.call(Rt,$t,Rt,ht)}))};var Y=/\S+/g;function dt(ht){return tt(ht)&&ht.match(Y)||[]}function ct(ht){return ht.filter(function(_t,Rt,$t){return $t.indexOf(_t)===Rt})}function jt(ht,_t,Rt){if(ht.nodeType===1){var $t=V.getComputedStyle(ht,null);return _t?Rt?$t.getPropertyValue(_t):$t[_t]:$t}}function At(ht,_t){return parseInt(jt(ht,_t),10)||0}N.hasClass=function(ht){var _t=dt(ht),Rt=!1;return _t.length&&this.each(function($t,le){return!(Rt=le.classList.contains(_t[0]))}),Rt},N.removeAttr=function(ht){var _t=dt(ht);return _t.length?this.each(function(Rt,$t){U(_t,function(le){$t.removeAttribute(le)})}):this},N.attr=function(ht,_t){if(ht){if(tt(ht)){if(arguments.length<2){if(!this[0])return;var Rt=this[0].getAttribute(ht);return Rt===null?void 0:Rt}return _t===null?this.removeAttr(ht):this.each(function(le,be){be.setAttribute(ht,_t)})}for(var $t in ht)this.attr($t,ht[$t]);return this}},N.toggleClass=function(ht,_t){var Rt=dt(ht),$t=_t!==void 0;return Rt.length?this.each(function(le,be){U(Rt,function(Ye){$t?_t?be.classList.add(Ye):be.classList.remove(Ye):be.classList.toggle(Ye)})}):this},N.addClass=function(ht){return this.toggleClass(ht,!0)},N.removeClass=function(ht){return arguments.length?this.toggleClass(ht,!1):this.attr("class","")},R.unique=ct,N.add=function(ht,_t){return R(ct(this.get().concat(R(ht,_t).get())))};var ee=/^--/;function mt(ht){return ee.test(ht)}var gt={},qt=F&&F.createElement("div"),Yt=qt?qt.style:{},Ht=["webkit","moz","ms","o"];function ne(ht,_t){if(_t===void 0&&(_t=mt(ht)),_t)return ht;if(!gt[ht]){var Rt=J(ht),$t=""+Rt.charAt(0).toUpperCase()+Rt.slice(1);U((Rt+" "+Ht.join($t+" ")+$t).split(" "),function(le){if(le in Yt)return gt[ht]=le,!1})}return gt[ht]}R.prefixedProp=ne;var re={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function ce(ht,_t,Rt){return Rt===void 0&&(Rt=mt(ht)),Rt||re[ht]||!q(_t)?_t:_t+"px"}N.css=function(ht,_t){if(tt(ht)){var Rt=mt(ht);return ht=ne(ht,Rt),arguments.length<2?this[0]&&jt(this[0],ht,Rt):ht?(_t=ce(ht,_t,Rt),this.each(function(le,be){be.nodeType===1&&(Rt?be.style.setProperty(ht,_t):be.style[ht]=_t)})):this}for(var $t in ht)this.css($t,ht[$t]);return this};var fe="__cashData",Me=/^data-(.*)/;function Se(ht){return ht[fe]=ht[fe]||{}}function ze(ht,_t){var Rt=Se(ht);if(_t){if(!(_t in Rt)){var $t=ht.dataset?ht.dataset[_t]||ht.dataset[J(_t)]:R(ht).attr("data-"+_t);if($t!==void 0){try{$t=JSON.parse($t)}catch{}Rt[_t]=$t}}return Rt[_t]}return Rt}function qe(ht,_t){return At(ht,"border"+(_t?"Left":"Top")+"Width")+At(ht,"padding"+(_t?"Left":"Top"))+At(ht,"padding"+(_t?"Right":"Bottom"))+At(ht,"border"+(_t?"Right":"Bottom")+"Width")}function X(ht,_t){for(var Rt=0,$t=_t.length;Rt<$t;Rt++)if(ht.indexOf(_t[Rt])<0)return!1;return!0}function Gt(ht,_t,Rt){U(ht[Rt],function($t){$t[0];var le=$t[1];_t.removeEventListener(Rt,le)}),delete ht[Rt]}R.hasData=function(ht){return fe in ht},N.data=function(ht,_t){var Rt=this;if(!ht)return this[0]?(U(this[0].attributes,function(le){var be=le.name.match(Me);be&&Rt.data(be[1])}),ze(this[0])):void 0;if(tt(ht))return _t===void 0?this[0]&&ze(this[0],ht):this.each(function(le,be){return function(Ye,tn,Ke){Se(Ye)[tn]=Ke}(be,ht,_t)});for(var $t in ht)this.data($t,ht[$t]);return this},N.removeData=function(ht){return this.each(function(_t,Rt){return function($t,le){le===void 0?delete $t[fe]:delete Se($t)[le]}(Rt,ht)})},U(["Width","Height"],function(ht){N["inner"+ht]=function(){if(this[0])return this[0]===V?V["inner"+ht]:this[0]["client"+ht]}}),U(["width","height"],function(ht,_t){N[ht]=function(Rt){return this[0]?arguments.length?(Rt=parseInt(Rt,10),this.each(function($t,le){if(le.nodeType===1){var be=jt(le,"boxSizing");le.style[ht]=ce(ht,Rt+(be==="border-box"?qe(le,!_t):0))}})):this[0]===V?this[0][J("outer-"+ht)]:this[0].getBoundingClientRect()[ht]-qe(this[0],!_t):Rt===void 0?void 0:this}}),U(["Width","Height"],function(ht,_t){N["outer"+ht]=function(Rt){if(this[0])return this[0]===V?V["outer"+ht]:this[0]["offset"+ht]+(Rt?At(this[0],"margin"+(_t?"Top":"Left"))+At(this[0],"margin"+(_t?"Bottom":"Right")):0)}});var Nt="__cashEvents",wt=".";function yt(ht){return ht[Nt]=ht[Nt]||{}}function Mt(ht){var _t=ht.split(wt);return[_t[0],_t.slice(1).sort()]}function vt(ht,_t,Rt,$t){var le=yt(ht);if(_t){var be=le[_t];if(!be)return;$t&&($t.guid=$t.guid||L++),le[_t]=be.filter(function(Ye){var tn=Ye[0],Ke=Ye[1];if($t&&Ke.guid!==$t.guid||!X(tn,Rt))return!0;ht.removeEventListener(_t,Ke)})}else if(Rt&&Rt.length)for(_t in le)vt(ht,_t,Rt,$t);else for(_t in le)Gt(le,ht,_t)}N.off=function(ht,_t){var Rt=this;return ht===void 0?this.each(function($t,le){return vt(le)}):U(dt(ht),function($t){var le=Mt($t),be=le[0],Ye=le[1];Rt.each(function(tn,Ke){return vt(Ke,be,Ye,_t)})}),this},N.on=function(ht,_t,Rt,$t){var le=this;if(!tt(ht)){for(var be in ht)this.on(be,_t,ht[be]);return this}return z(_t)&&(Rt=_t,_t=!1),U(dt(ht),function(Ye){var tn=Mt(Ye),Ke=tn[0],cn=tn[1];le.each(function(Xn,Wr){var En=function $r(sn){if(!sn.namespace||X(cn,sn.namespace.split(wt))){var ue=Wr;if(_t){for(var Rn=sn.target;!P(Rn,_t);)if(Rn===Wr||!(Rn=Rn.parentNode))return;ue=Rn}sn.namespace=sn.namespace||"";var Gr=Rt.call(ue,sn,sn.data);$t&&vt(Wr,Ke,cn,$r),Gr===!1&&(sn.preventDefault(),sn.stopPropagation())}};En.guid=Rt.guid=Rt.guid||L++,function($r,sn,ue,Rn){Rn.guid=Rn.guid||L++;var Gr=yt($r);Gr[sn]=Gr[sn]||[],Gr[sn].push([ue,Rn]),$r.addEventListener(sn,Rn)}(Wr,Ke,cn,En)})}),this},N.one=function(ht,_t,Rt){return this.on(ht,_t,Rt,!0)},N.ready=function(ht){var _t=function(){return ht(R)};return F.readyState!=="loading"?setTimeout(_t):F.addEventListener("DOMContentLoaded",_t),this},N.trigger=function(ht,_t){var Rt=ht;if(tt(ht)){var $t=Mt(ht),le=$t[0],be=$t[1];(Rt=F.createEvent("HTMLEvents")).initEvent(le,!0,!0),Rt.namespace=be.join(wt)}return Rt.data=_t,this.each(function(Ye,tn){tn.dispatchEvent(Rt)})};var Pt=/select-one/i,A=/select-multiple/i;function ot(ht){var _t=ht.type;return Pt.test(_t)?function(Rt){return Rt.selectedIndex<0?null:Rt.options[Rt.selectedIndex].value}(ht):A.test(_t)?function(Rt){var $t=[];return U(Rt.options,function(le){!le.selected||le.disabled||le.parentNode.disabled||$t.push(le.value)}),$t}(ht):ht.value}var ft=/%20/g,xt=/file|reset|submit|button|image/i,It=/radio|checkbox/i;N.serialize=function(){var ht="";return this.each(function(_t,Rt){U(Rt.elements||[Rt],function($t){if(!$t.disabled&&$t.name&&$t.tagName!=="FIELDSET"&&!xt.test($t.type)&&(!It.test($t.type)||$t.checked)){var le=ot($t);le!==void 0&&U(rt(le)?le:[le],function(be){ht+=function(Ye,tn){return"&"+encodeURIComponent(Ye)+"="+encodeURIComponent(tn).replace(ft,"+")}($t.name,be)})}})}),ht.substr(1)},N.val=function(ht){return ht===void 0?this[0]&&ot(this[0]):this.each(function(_t,Rt){var $t=A.test(Rt.type),le=ht===null?$t?[]:"":ht;$t&&rt(le)?U(Rt.options,function(be){be.selected=le.indexOf(be.value)>=0}):Rt.value=le})},N.clone=function(){return this.map(function(ht,_t){return _t.cloneNode(!0)})},N.detach=function(){return this.each(function(ht,_t){_t.parentNode&&_t.parentNode.removeChild(_t)})};var Ut,pe=/^\s*<(\w+)[^>]*>/,De=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function Ve(ht){if(function(){if(!Ut){var $t=F.createElement("table"),le=F.createElement("tr");Ut={"*":F.createElement("div"),tr:F.createElement("tbody"),td:le,th:le,thead:$t,tbody:$t,tfoot:$t}}}(),!tt(ht))return[];if(De.test(ht))return[F.createElement(RegExp.$1)];var _t=pe.test(ht)&&RegExp.$1,Rt=Ut[_t]||Ut["*"];return Rt.innerHTML=ht,R(Rt.childNodes).detach().get()}function $e(ht,_t,Rt){if(_t!==void 0){var $t=tt(_t);!$t&&_t.length?U(_t,function(le){return $e(ht,le,Rt)}):U(ht,$t?function(le){le.insertAdjacentHTML(Rt?"afterbegin":"beforeend",_t)}:function(le,be){return function(Ye,tn,Ke){Ke?Ye.insertBefore(tn,Ye.childNodes[0]):Ye.appendChild(tn)}(le,be?_t.cloneNode(!0):_t,Rt)})}}R.parseHTML=Ve,N.empty=function(){var ht=this[0];if(ht)for(;ht.firstChild;)ht.removeChild(ht.firstChild);return this},N.append=function(){var ht=this;return U(arguments,function(_t){$e(ht,_t)}),this},N.appendTo=function(ht){return $e(R(ht),this),this},N.html=function(ht){if(ht===void 0)return this[0]&&this[0].innerHTML;var _t=ht.nodeType?ht[0].outerHTML:ht;return this.each(function(Rt,$t){$t.innerHTML=_t})},N.insertAfter=function(ht){var _t=this;return R(ht).each(function(Rt,$t){var le=$t.parentNode;_t.each(function(be,Ye){le.insertBefore(Rt?Ye.cloneNode(!0):Ye,$t.nextSibling)})}),this},N.after=function(){var ht=this;return U(m.apply(arguments),function(_t){m.apply(R(_t).slice()).insertAfter(ht)}),this},N.insertBefore=function(ht){var _t=this;return R(ht).each(function(Rt,$t){var le=$t.parentNode;_t.each(function(be,Ye){le.insertBefore(Rt?Ye.cloneNode(!0):Ye,$t)})}),this},N.before=function(){var ht=this;return U(arguments,function(_t){R(_t).insertBefore(ht)}),this},N.prepend=function(){var ht=this;return U(arguments,function(_t){$e(ht,_t,!0)}),this},N.prependTo=function(ht){return $e(R(ht),m.apply(this.slice()),!0),this},N.remove=function(){return this.detach().off()},N.replaceWith=function(ht){var _t=this;return this.each(function(Rt,$t){var le=$t.parentNode;if(le){var be=Rt?R(ht).clone():R(ht);if(!be[0])return _t.remove(),!1;le.replaceChild(be[0],$t),R(be[0]).after(be.slice(1))}})},N.replaceAll=function(ht){return R(ht).replaceWith(this),this},N.text=function(ht){return ht===void 0?this[0]?this[0].textContent:"":this.each(function(_t,Rt){Rt.textContent=ht})};var nn=F&&F.documentElement;N.offset=function(){var ht=this[0];if(ht){var _t=ht.getBoundingClientRect();return{top:_t.top+V.pageYOffset-nn.clientTop,left:_t.left+V.pageXOffset-nn.clientLeft}}},N.offsetParent=function(){return R(this[0]&&this[0].offsetParent)},N.position=function(){var ht=this[0];if(ht)return{left:ht.offsetLeft,top:ht.offsetTop}},N.children=function(ht){var _t=[];return this.each(function(Rt,$t){v.apply(_t,$t.children)}),_t=R(ct(_t)),ht?_t.filter(function(Rt,$t){return P($t,ht)}):_t},N.contents=function(){var ht=[];return this.each(function(_t,Rt){v.apply(ht,Rt.tagName==="IFRAME"?[Rt.contentDocument]:Rt.childNodes)}),R(ht.length&&ct(ht))},N.find=function(ht){for(var _t=[],Rt=0,$t=this.length;Rt<$t;Rt++){var le=M(ht,this[Rt]);le.length&&v.apply(_t,le)}return R(_t.length&&ct(_t))},N.has=function(ht){var _t=tt(ht)?function(Rt,$t){return!!M(ht,$t).length}:function(Rt,$t){return $t.contains(ht)};return this.filter(_t)},N.is=function(ht){if(!ht||!this[0])return!1;var _t=H(ht),Rt=!1;return this.each(function($t,le){return!(Rt=_t($t,le,ht))}),Rt},N.next=function(){return R(this[0]&&this[0].nextElementSibling)},N.not=function(ht){if(!ht||!this[0])return this;var _t=H(ht);return this.filter(function(Rt,$t){return!_t(Rt,$t,ht)})},N.parent=function(){var ht=[];return this.each(function(_t,Rt){Rt&&Rt.parentNode&&ht.push(Rt.parentNode)}),R(ct(ht))},N.index=function(ht){var _t=ht?R(ht)[0]:this[0],Rt=ht?this:R(_t).parent().children();return O.call(Rt,_t)},N.closest=function(ht){return ht&&this[0]?this.is(ht)?this.filter(ht):this.parent().closest(ht):R()},N.parents=function(ht){var _t,Rt=[];return this.each(function($t,le){for(_t=le;_t&&_t.parentNode&&_t!==F.body.parentNode;)_t=_t.parentNode,(!ht||ht&&P(_t,ht))&&Rt.push(_t)}),R(ct(Rt))},N.prev=function(){return R(this[0]&&this[0].previousElementSibling)},N.siblings=function(){var ht=this[0];return this.parent().children().filter(function(_t,Rt){return Rt!==ht})};const ke=R},491:(E,K,Z)=>{Z.d(K,{$Q:()=>T,BM:()=>W,FW:()=>y,G1:()=>O,GX:()=>U,L_:()=>v,Mx:()=>h,R3:()=>k,S1:()=>Y,SJ:()=>N,Ut:()=>J,VB:()=>z,Vb:()=>rt,cx:()=>m,dL:()=>w,kl:()=>tt,o5:()=>$,on:()=>H,pn:()=>S,r$:()=>q,rw:()=>D,sE:()=>g,sN:()=>P,t3:()=>R,ut:()=>M});var F=Z(50),V=function(dt,ct,jt){if(jt||arguments.length===2)for(var At,ee=0,mt=ct.length;ee<mt;ee++)!At&&ee in ct||(At||(At=Array.prototype.slice.call(ct,0,ee)),At[ee]=ct[ee]);return dt.concat(At||Array.prototype.slice.call(ct))},j="tag",C="attributes",O="transitionend oTransitionEnd transitionend webkitTransitionEnd",h=function(dt){return(dt==null?void 0:dt.nodeType)===Node.DOCUMENT_NODE},v=function(dt){var ct=dt&&dt.parentNode;ct&&ct.removeChild(dt)};function m(){for(var dt=[],ct=0;ct<arguments.length;ct++)dt[ct]=arguments[ct];return(Array.isArray(dt[0])?dt[0]:V([],dt,!0)).filter(Boolean).join(" ")}var g=function(dt,ct){return dt.querySelectorAll(ct)},y=function(dt,ct){return ct===void 0&&(ct={}),dt&&dt.setAttribute&&(0,F.each)(ct,function(jt,At){return dt.setAttribute(At,jt)})},S=function(dt){return dt&&!!(dt.offsetWidth||dt.offsetHeight||dt.getClientRects().length)},w=function(dt,ct){var jt;(jt=dt.parentNode)===null||jt===void 0||jt.replaceChild(ct,dt)},T=function(dt,ct,jt){var At=dt.childNodes,ee=At.length,mt=(0,F.isUndefined)(jt)?ee:jt;(0,F.isString)(ct)&&(dt.insertAdjacentHTML("beforeEnd",ct),ct=dt.lastChild,dt.removeChild(ct)),mt>=ee?dt.appendChild(ct):dt.insertBefore(ct,At[mt])},k=function(dt,ct){return T(dt,ct)},M=function(dt,ct,jt){ct===void 0&&(ct={});var At=document.createElement(dt);return ct&&(0,F.each)(ct,function(ee,mt){return At.setAttribute(mt,ee)}),jt&&((0,F.isString)(jt)?At.innerHTML=jt:At.appendChild(jt)),At},D=function(dt){return document.createTextNode(dt)},R=function(dt,ct){var jt,At=dt.type;try{jt=new window[ct](At,dt)}catch{(jt=document.createEvent(ct)).initEvent(At,!0,!0)}return jt._parentEvent=dt,At.indexOf("key")===0&&(jt.keyCodeVal=dt.keyCode,["keyCode","which"].forEach(function(ee){Object.defineProperty(jt,ee,{get:function(){return this.keyCodeVal}})})),jt},N=function(dt,ct){ct===void 0&&(ct=[]),(Array.isArray(ct)?ct:[ct]).forEach(function(jt){var At=jt[j]||"div",ee=jt[C]||{},mt=document.createElement(At);(0,F.each)(ee,function(gt,qt){mt.setAttribute(qt,gt)}),dt.appendChild(mt)})},W=function(dt){return(dt==null?void 0:dt.nodeType)===Node.TEXT_NODE},$=function(dt){return dt&&!W(dt)&&!function(ct){return(ct==null?void 0:ct.nodeType)===Node.COMMENT_NODE}(dt)},J=function(dt){var ct,jt={top:0,left:0,width:0,height:0};if(!dt)return jt;if(W(dt)){var At=document.createRange();At.selectNode(dt),ct=At.getBoundingClientRect(),At.detach()}return ct||(dt.getBoundingClientRect?dt.getBoundingClientRect():jt)},U=function(dt){var ct=(dt==null?void 0:dt.ownerDocument)||document,jt=ct.documentElement,At=ct.defaultView||window;return{x:(At.pageXOffset||jt.scrollLeft||0)-(jt.clientLeft||0),y:(At.pageYOffset||jt.scrollTop||0)-(jt.clientTop||0)}},L=function(dt){return dt.which||dt.keyCode},P=function(dt){return String.fromCharCode(L(dt))},z=function(dt){return dt.touches&&dt.touches[0]?dt.touches[0]:dt},tt=function(dt){return L(dt)===27},q=function(dt){return L(dt)===13},rt=function(dt){return function(ct){return ct.ctrlKey}(dt)||dt.metaKey},H=function(dt,ct,jt,At){var ee=ct.split(/\s+/),mt=(0,F.isArray)(dt)?dt:[dt];ee.forEach(function(gt){mt.forEach(function(qt){return qt==null?void 0:qt.addEventListener(gt,jt,At)})})},Y=function(dt,ct,jt,At){var ee=ct.split(/\s+/),mt=(0,F.isArray)(dt)?dt:[dt];ee.forEach(function(gt){mt.forEach(function(qt){return qt==null?void 0:qt.removeEventListener(gt,jt,At)})})}},163:(E,K,Z)=>{Z.r(K),Z.d(K,{appendStyles:()=>w,buildBase64UrlFromSvg:()=>ee,camelCase:()=>D,capitalize:()=>q,createId:()=>At,deepMerge:()=>L,escape:()=>J,escapeNodeContent:()=>U,find:()=>$,getComponentModel:()=>ct,getComponentView:()=>dt,getElement:()=>W,getGlobal:()=>v,getModel:()=>P,getUiClass:()=>S,getUnitFromValue:()=>k,getViewEl:()=>H,hasDnd:()=>N,hasWin:()=>h,isComponent:()=>Y,isDef:()=>O,isEmptyObj:()=>tt,isObject:()=>z,isRule:()=>rt,matches:()=>y,normalizeFloat:()=>R,setViewEl:()=>jt,shallowDiff:()=>T,toLowerCase:()=>m,upFirst:()=>M});var F=Z(50),V=Z(491),j=function(){return j=Object.assign||function(mt){for(var gt,qt=1,Yt=arguments.length;qt<Yt;qt++)for(var Ht in gt=arguments[qt])Object.prototype.hasOwnProperty.call(gt,Ht)&&(mt[Ht]=gt[Ht]);return mt},j.apply(this,arguments)},C=function(mt,gt,qt){if(qt||arguments.length===2)for(var Yt,Ht=0,ne=gt.length;Ht<ne;Ht++)!Yt&&Ht in gt||(Yt||(Yt=Array.prototype.slice.call(gt,0,Ht)),Yt[Ht]=gt[Ht]);return mt.concat(Yt||Array.prototype.slice.call(gt))},O=function(mt){return mt!==void 0},h=function(){return typeof window<"u"},v=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:Z.g},m=function(mt){return(mt||"").toLowerCase()},g=h()?window.Element.prototype:{},y=g.matches||g.webkitMatchesSelector||g.mozMatchesSelector||g.msMatchesSelector,S=function(mt,gt){var qt=mt.getConfig(),Yt=qt.stylePrefix;return[qt.customUI&&"".concat(Yt,"cui"),gt].filter(function(Ht){return Ht}).join(" ")},w=function(mt,gt){gt===void 0&&(gt={});var qt=(0,F.isArray)(mt)?C([],mt,!0):[mt];if(qt.length){var Yt=qt.shift();if(Yt&&(!gt.unique||!document.querySelector('link[href="'.concat(Yt,'"]')))){var Ht=document.head,ne=document.createElement("link");ne.href=Yt,ne.rel="stylesheet",gt.prepand?Ht.insertBefore(ne,Ht.firstChild):Ht.appendChild(ne)}w(qt)}},T=function(mt,gt){var qt={},Yt=(0,F.keys)(gt);for(var Ht in mt)if(mt.hasOwnProperty(Ht)){var ne=mt[Ht],re=gt[Ht];Yt.indexOf(Ht)>=0?ne!==re&&(qt[Ht]=re):qt[Ht]=null}for(var Ht in gt)gt.hasOwnProperty(Ht)&&(0,F.isUndefined)(mt[Ht])&&(qt[Ht]=gt[Ht]);return qt},k=function(mt){return mt.replace(parseFloat(mt),"")},M=function(mt){return mt[0].toUpperCase()+mt.toLowerCase().slice(1)},D=function(mt){return mt.replace(/-./g,function(gt){return gt[1].toUpperCase()})},R=function(mt,gt,qt){gt===void 0&&(gt=1),qt===void 0&&(qt=0);var Yt=0;if(isNaN(mt))return qt;if(mt=parseFloat(mt),Math.floor(mt)!==mt){var Ht=gt.toString().split(".")[1];Yt=Ht?Ht.length:0}return Yt?parseFloat(mt.toFixed(Yt)):mt},N=function(mt){return"draggable"in document.createElement("i")&&(!mt||mt.config.nativeDnD)},W=function(mt){return(0,F.isElement)(mt)||(0,V.BM)(mt)?mt:mt&&mt.getEl?mt.getEl():void 0},$=function(mt,gt){var qt=null;return mt.some(function(Yt,Ht){return gt(Yt,Ht,mt)?(qt=Yt,1):0}),qt},J=function(mt){return mt===void 0&&(mt=""),"".concat(mt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},U=function(mt){return mt===void 0&&(mt=""),"".concat(mt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},L=function(){for(var mt=[],gt=0;gt<arguments.length;gt++)mt[gt]=arguments[gt];for(var qt=j({},mt[0]),Yt=1;Yt<mt.length;Yt++){var Ht=j({},mt[Yt]);for(var ne in Ht){var re=qt[ne],ce=Ht[ne];z(re)&&z(ce)?qt[ne]=L(re,ce):qt[ne]=ce}}return qt},P=function(mt,gt){var qt=mt;return!gt&&mt&&mt.__cashData?qt=mt.__cashData.model:(0,F.isElement)(mt)&&(qt=gt(mt).data("model")),qt},z=function(mt){return mt&&!Array.isArray(mt)&&typeof mt=="object"},tt=function(mt){return Object.keys(mt).length<=0},q=function(mt){return mt===void 0&&(mt=""),mt&&mt.charAt(0).toUpperCase()+mt.substring(1)},rt=function(mt){return mt&&mt.toCSS},H=function(mt){return mt==null?void 0:mt.__gjsv},Y=function(mt){return!!(mt!=null&&mt.toHTML)},dt=function(mt){return H(mt)},ct=function(mt){var gt;return(gt=dt(mt))===null||gt===void 0?void 0:gt.model},jt=function(mt,gt){mt.__gjsv=gt},At=function(mt){mt===void 0&&(mt=16);for(var gt="",qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Yt=qt.length,Ht=0;Ht<mt;Ht++)gt+=qt.charAt(Math.floor(Math.random()*Yt));return gt},ee=function(mt){if(mt&&mt.substr(0,4)==="<svg"){var gt="";return h()?gt=window.btoa(mt):typeof Buffer<"u"&&(gt=Buffer.from(mt,"utf8").toString("base64")),gt?"data:image/svg+xml;base64,".concat(gt):mt}return mt}},828:(E,K,Z)=>{var F={"./CanvasClear":858,"./CanvasClear.ts":858,"./CanvasMove":884,"./CanvasMove.ts":884,"./CommandAbstract":790,"./CommandAbstract.ts":790,"./ComponentDelete":180,"./ComponentDelete.ts":180,"./ComponentDrag":544,"./ComponentDrag.ts":544,"./ComponentEnter":236,"./ComponentEnter.ts":236,"./ComponentExit":368,"./ComponentExit.ts":368,"./ComponentNext":243,"./ComponentNext.ts":243,"./ComponentPrev":400,"./ComponentPrev.ts":400,"./ComponentStyleClear":910,"./ComponentStyleClear.ts":910,"./CopyComponent":744,"./CopyComponent.ts":744,"./DeleteComponent":517,"./DeleteComponent.ts":517,"./ExportTemplate":457,"./ExportTemplate.ts":457,"./Fullscreen":975,"./Fullscreen.ts":975,"./MoveComponent":191,"./MoveComponent.ts":191,"./OpenAssets":912,"./OpenAssets.ts":912,"./OpenBlocks":117,"./OpenBlocks.ts":117,"./OpenLayers":614,"./OpenLayers.ts":614,"./OpenStyleManager":801,"./OpenStyleManager.ts":801,"./OpenTraitManager":395,"./OpenTraitManager.ts":395,"./PasteComponent":98,"./PasteComponent.ts":98,"./Preview":129,"./Preview.ts":129,"./Resize":116,"./Resize.ts":116,"./SelectComponent":407,"./SelectComponent.ts":407,"./SelectPosition":189,"./SelectPosition.ts":189,"./ShowOffset":804,"./ShowOffset.ts":804,"./SwitchVisibility":434,"./SwitchVisibility.ts":434};function V(C){var O=j(C);return Z(O)}function j(C){if(!Z.o(F,C)){var O=new Error("Cannot find module '"+C+"'");throw O.code="MODULE_NOT_FOUND",O}return F[C]}V.keys=function(){return Object.keys(F)},V.resolve=j,E.exports=V,V.id=828},50:(E,K,Z)=>{Z.r(K),Z.d(K,{VERSION:()=>V,after:()=>ss,all:()=>Gn,allKeys:()=>ke,any:()=>Cn,assign:()=>or,before:()=>as,bind:()=>mo,bindAll:()=>Or,chain:()=>Ko,chunk:()=>Ka,clone:()=>ts,collect:()=>Nr,compact:()=>so,compose:()=>kr,constant:()=>Gt,contains:()=>hr,countBy:()=>Qs,create:()=>Do,debounce:()=>Wa,default:()=>Xa,defaults:()=>Yo,defer:()=>So,delay:()=>Jo,detect:()=>Qo,difference:()=>na,drop:()=>io,each:()=>ir,escape:()=>go,every:()=>Gn,extend:()=>Gr,extendOwn:()=>or,filter:()=>sr,find:()=>Qo,findIndex:()=>ki,findKey:()=>No,findLastIndex:()=>oo,findWhere:()=>Xs,first:()=>yo,flatten:()=>ds,foldl:()=>Vn,foldr:()=>ti,forEach:()=>ir,functions:()=>ue,get:()=>Jn,groupBy:()=>Pi,has:()=>es,head:()=>yo,identity:()=>Io,include:()=>hr,includes:()=>hr,indexBy:()=>us,indexOf:()=>Fo,initial:()=>fs,inject:()=>Vn,intersection:()=>Ya,invert:()=>sn,invoke:()=>Ti,isArguments:()=>ze,isArray:()=>fe,isArrayBuffer:()=>ee,isBoolean:()=>tt,isDataView:()=>ce,isDate:()=>dt,isElement:()=>q,isEmpty:()=>xt,isEqual:()=>nn,isError:()=>jt,isFinite:()=>qe,isFunction:()=>qt,isMap:()=>Ke,isMatch:()=>It,isNaN:()=>X,isNull:()=>P,isNumber:()=>Y,isObject:()=>L,isRegExp:()=>ct,isSet:()=>Xn,isString:()=>H,isSymbol:()=>At,isTypedArray:()=>Pt,isUndefined:()=>z,isWeakMap:()=>cn,isWeakSet:()=>Wr,iteratee:()=>dr,keys:()=>ft,last:()=>ji,lastIndexOf:()=>$a,map:()=>Nr,mapObject:()=>Sr,matcher:()=>xn,matches:()=>xn,max:()=>Sn,memoize:()=>os,methods:()=>ue,min:()=>ls,mixin:()=>zo,negate:()=>Oi,noop:()=>bn,now:()=>Un,object:()=>Mi,omit:()=>ps,once:()=>Wn,pairs:()=>$r,partial:()=>Xo,partition:()=>ta,pick:()=>ea,pluck:()=>Oo,property:()=>Qn,propertyOf:()=>je,random:()=>xo,range:()=>ra,reduce:()=>Vn,reduceRight:()=>ti,reject:()=>Vo,rest:()=>io,restArguments:()=>U,result:()=>Pe,sample:()=>Ei,select:()=>sr,shuffle:()=>vo,size:()=>Ai,some:()=>Cn,sortBy:()=>Ga,sortedIndex:()=>Ks,tail:()=>io,take:()=>yo,tap:()=>qr,template:()=>Fn,templateSettings:()=>ut,throttle:()=>is,times:()=>Ir,toArray:()=>Ho,toPath:()=>fr,transpose:()=>ei,unescape:()=>at,union:()=>Pn,uniq:()=>Fr,unique:()=>Fr,uniqueId:()=>rs,unzip:()=>ei,values:()=>En,where:()=>Js,without:()=>Za,wrap:()=>Si,zip:()=>ni});var F={};Z.r(F),Z.d(F,{VERSION:()=>V,after:()=>ss,all:()=>Gn,allKeys:()=>ke,any:()=>Cn,assign:()=>or,before:()=>as,bind:()=>mo,bindAll:()=>Or,chain:()=>Ko,chunk:()=>Ka,clone:()=>ts,collect:()=>Nr,compact:()=>so,compose:()=>kr,constant:()=>Gt,contains:()=>hr,countBy:()=>Qs,create:()=>Do,debounce:()=>Wa,default:()=>hs,defaults:()=>Yo,defer:()=>So,delay:()=>Jo,detect:()=>Qo,difference:()=>na,drop:()=>io,each:()=>ir,escape:()=>go,every:()=>Gn,extend:()=>Gr,extendOwn:()=>or,filter:()=>sr,find:()=>Qo,findIndex:()=>ki,findKey:()=>No,findLastIndex:()=>oo,findWhere:()=>Xs,first:()=>yo,flatten:()=>ds,foldl:()=>Vn,foldr:()=>ti,forEach:()=>ir,functions:()=>ue,get:()=>Jn,groupBy:()=>Pi,has:()=>es,head:()=>yo,identity:()=>Io,include:()=>hr,includes:()=>hr,indexBy:()=>us,indexOf:()=>Fo,initial:()=>fs,inject:()=>Vn,intersection:()=>Ya,invert:()=>sn,invoke:()=>Ti,isArguments:()=>ze,isArray:()=>fe,isArrayBuffer:()=>ee,isBoolean:()=>tt,isDataView:()=>ce,isDate:()=>dt,isElement:()=>q,isEmpty:()=>xt,isEqual:()=>nn,isError:()=>jt,isFinite:()=>qe,isFunction:()=>qt,isMap:()=>Ke,isMatch:()=>It,isNaN:()=>X,isNull:()=>P,isNumber:()=>Y,isObject:()=>L,isRegExp:()=>ct,isSet:()=>Xn,isString:()=>H,isSymbol:()=>At,isTypedArray:()=>Pt,isUndefined:()=>z,isWeakMap:()=>cn,isWeakSet:()=>Wr,iteratee:()=>dr,keys:()=>ft,last:()=>ji,lastIndexOf:()=>$a,map:()=>Nr,mapObject:()=>Sr,matcher:()=>xn,matches:()=>xn,max:()=>Sn,memoize:()=>os,methods:()=>ue,min:()=>ls,mixin:()=>zo,negate:()=>Oi,noop:()=>bn,now:()=>Un,object:()=>Mi,omit:()=>ps,once:()=>Wn,pairs:()=>$r,partial:()=>Xo,partition:()=>ta,pick:()=>ea,pluck:()=>Oo,property:()=>Qn,propertyOf:()=>je,random:()=>xo,range:()=>ra,reduce:()=>Vn,reduceRight:()=>ti,reject:()=>Vo,rest:()=>io,restArguments:()=>U,result:()=>Pe,sample:()=>Ei,select:()=>sr,shuffle:()=>vo,size:()=>Ai,some:()=>Cn,sortBy:()=>Ga,sortedIndex:()=>Ks,tail:()=>io,take:()=>yo,tap:()=>qr,template:()=>Fn,templateSettings:()=>ut,throttle:()=>is,times:()=>Ir,toArray:()=>Ho,toPath:()=>fr,transpose:()=>ei,unescape:()=>at,union:()=>Pn,uniq:()=>Fr,unique:()=>Fr,uniqueId:()=>rs,unzip:()=>ei,values:()=>En,where:()=>Js,without:()=>Za,wrap:()=>Si,zip:()=>ni});var V="1.13.6",j=typeof self=="object"&&self.self===self&&self||typeof Ur=="object"&&Ur.global===Ur&&Ur||Function("return this")()||{},C=Array.prototype,O=Object.prototype,h=typeof Symbol<"u"?Symbol.prototype:null,v=C.push,m=C.slice,g=O.toString,y=O.hasOwnProperty,S=typeof ArrayBuffer<"u",w=typeof DataView<"u",T=Array.isArray,k=Object.keys,M=Object.create,D=S&&ArrayBuffer.isView,R=isNaN,N=isFinite,W=!{toString:null}.propertyIsEnumerable("toString"),$=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],J=Math.pow(2,53)-1;function U(Q,lt){return lt=lt==null?Q.length-1:+lt,function(){for(var kt=Math.max(arguments.length-lt,0),Tt=Array(kt),Bt=0;Bt<kt;Bt++)Tt[Bt]=arguments[Bt+lt];switch(lt){case 0:return Q.call(this,Tt);case 1:return Q.call(this,arguments[0],Tt);case 2:return Q.call(this,arguments[0],arguments[1],Tt)}var Ft=Array(lt+1);for(Bt=0;Bt<lt;Bt++)Ft[Bt]=arguments[Bt];return Ft[lt]=Tt,Q.apply(this,Ft)}}function L(Q){var lt=typeof Q;return lt==="function"||lt==="object"&&!!Q}function P(Q){return Q===null}function z(Q){return Q===void 0}function tt(Q){return Q===!0||Q===!1||g.call(Q)==="[object Boolean]"}function q(Q){return!(!Q||Q.nodeType!==1)}function rt(Q){var lt="[object "+Q+"]";return function(kt){return g.call(kt)===lt}}const H=rt("String"),Y=rt("Number"),dt=rt("Date"),ct=rt("RegExp"),jt=rt("Error"),At=rt("Symbol"),ee=rt("ArrayBuffer");var mt=rt("Function"),gt=j.document&&j.document.childNodes;typeof Int8Array!="object"&&typeof gt!="function"&&(mt=function(Q){return typeof Q=="function"||!1});const qt=mt,Yt=rt("Object");var Ht=w&&Yt(new DataView(new ArrayBuffer(8))),ne=typeof Map<"u"&&Yt(new Map),re=rt("DataView");const ce=Ht?function(Q){return Q!=null&&qt(Q.getInt8)&&ee(Q.buffer)}:re,fe=T||rt("Array");function Me(Q,lt){return Q!=null&&y.call(Q,lt)}var Se=rt("Arguments");(function(){Se(arguments)||(Se=function(Q){return Me(Q,"callee")})})();const ze=Se;function qe(Q){return!At(Q)&&N(Q)&&!isNaN(parseFloat(Q))}function X(Q){return Y(Q)&&R(Q)}function Gt(Q){return function(){return Q}}function Nt(Q){return function(lt){var kt=Q(lt);return typeof kt=="number"&&kt>=0&&kt<=J}}function wt(Q){return function(lt){return lt==null?void 0:lt[Q]}}const yt=wt("byteLength"),Mt=Nt(yt);var vt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const Pt=S?function(Q){return D?D(Q)&&!ce(Q):Mt(Q)&&vt.test(g.call(Q))}:Gt(!1),A=wt("length");function ot(Q,lt){lt=function(oe){for(var de={},Ne=oe.length,Ze=0;Ze<Ne;++Ze)de[oe[Ze]]=!0;return{contains:function(dn){return de[dn]===!0},push:function(dn){return de[dn]=!0,oe.push(dn)}}}(lt);var kt=$.length,Tt=Q.constructor,Bt=qt(Tt)&&Tt.prototype||O,Ft="constructor";for(Me(Q,Ft)&&!lt.contains(Ft)&&lt.push(Ft);kt--;)(Ft=$[kt])in Q&&Q[Ft]!==Bt[Ft]&&!lt.contains(Ft)&&lt.push(Ft)}function ft(Q){if(!L(Q))return[];if(k)return k(Q);var lt=[];for(var kt in Q)Me(Q,kt)&&lt.push(kt);return W&&ot(Q,lt),lt}function xt(Q){if(Q==null)return!0;var lt=A(Q);return typeof lt=="number"&&(fe(Q)||H(Q)||ze(Q))?lt===0:A(ft(Q))===0}function It(Q,lt){var kt=ft(lt),Tt=kt.length;if(Q==null)return!Tt;for(var Bt=Object(Q),Ft=0;Ft<Tt;Ft++){var oe=kt[Ft];if(lt[oe]!==Bt[oe]||!(oe in Bt))return!1}return!0}function Ut(Q){return Q instanceof Ut?Q:this instanceof Ut?void(this._wrapped=Q):new Ut(Q)}function pe(Q){return new Uint8Array(Q.buffer||Q,Q.byteOffset||0,yt(Q))}Ut.VERSION=V,Ut.prototype.value=function(){return this._wrapped},Ut.prototype.valueOf=Ut.prototype.toJSON=Ut.prototype.value,Ut.prototype.toString=function(){return String(this._wrapped)};var De="[object DataView]";function Ve(Q,lt,kt,Tt){if(Q===lt)return Q!==0||1/Q==1/lt;if(Q==null||lt==null)return!1;if(Q!=Q)return lt!=lt;var Bt=typeof Q;return(Bt==="function"||Bt==="object"||typeof lt=="object")&&$e(Q,lt,kt,Tt)}function $e(Q,lt,kt,Tt){Q instanceof Ut&&(Q=Q._wrapped),lt instanceof Ut&&(lt=lt._wrapped);var Bt=g.call(Q);if(Bt!==g.call(lt))return!1;if(Ht&&Bt=="[object Object]"&&ce(Q)){if(!ce(lt))return!1;Bt=De}switch(Bt){case"[object RegExp]":case"[object String]":return""+Q==""+lt;case"[object Number]":return+Q!=+Q?+lt!=+lt:+Q==0?1/+Q==1/lt:+Q==+lt;case"[object Date]":case"[object Boolean]":return+Q==+lt;case"[object Symbol]":return h.valueOf.call(Q)===h.valueOf.call(lt);case"[object ArrayBuffer]":case De:return $e(pe(Q),pe(lt),kt,Tt)}var Ft=Bt==="[object Array]";if(!Ft&&Pt(Q)){if(yt(Q)!==yt(lt))return!1;if(Q.buffer===lt.buffer&&Q.byteOffset===lt.byteOffset)return!0;Ft=!0}if(!Ft){if(typeof Q!="object"||typeof lt!="object")return!1;var oe=Q.constructor,de=lt.constructor;if(oe!==de&&!(qt(oe)&&oe instanceof oe&&qt(de)&&de instanceof de)&&"constructor"in Q&&"constructor"in lt)return!1}Tt=Tt||[];for(var Ne=(kt=kt||[]).length;Ne--;)if(kt[Ne]===Q)return Tt[Ne]===lt;if(kt.push(Q),Tt.push(lt),Ft){if((Ne=Q.length)!==lt.length)return!1;for(;Ne--;)if(!Ve(Q[Ne],lt[Ne],kt,Tt))return!1}else{var Ze,dn=ft(Q);if(Ne=dn.length,ft(lt).length!==Ne)return!1;for(;Ne--;)if(!Me(lt,Ze=dn[Ne])||!Ve(Q[Ze],lt[Ze],kt,Tt))return!1}return kt.pop(),Tt.pop(),!0}function nn(Q,lt){return Ve(Q,lt)}function ke(Q){if(!L(Q))return[];var lt=[];for(var kt in Q)lt.push(kt);return W&&ot(Q,lt),lt}function ht(Q){var lt=A(Q);return function(kt){if(kt==null)return!1;var Tt=ke(kt);if(A(Tt))return!1;for(var Bt=0;Bt<lt;Bt++)if(!qt(kt[Q[Bt]]))return!1;return Q!==Ye||!qt(kt[_t])}}var _t="forEach",Rt="has",$t=["clear","delete"],le=["get",Rt,"set"],be=$t.concat(_t,le),Ye=$t.concat(le),tn=["add"].concat($t,_t,Rt);const Ke=ne?ht(be):rt("Map"),cn=ne?ht(Ye):rt("WeakMap"),Xn=ne?ht(tn):rt("Set"),Wr=rt("WeakSet");function En(Q){for(var lt=ft(Q),kt=lt.length,Tt=Array(kt),Bt=0;Bt<kt;Bt++)Tt[Bt]=Q[lt[Bt]];return Tt}function $r(Q){for(var lt=ft(Q),kt=lt.length,Tt=Array(kt),Bt=0;Bt<kt;Bt++)Tt[Bt]=[lt[Bt],Q[lt[Bt]]];return Tt}function sn(Q){for(var lt={},kt=ft(Q),Tt=0,Bt=kt.length;Tt<Bt;Tt++)lt[Q[kt[Tt]]]=kt[Tt];return lt}function ue(Q){var lt=[];for(var kt in Q)qt(Q[kt])&&lt.push(kt);return lt.sort()}function Rn(Q,lt){return function(kt){var Tt=arguments.length;if(lt&&(kt=Object(kt)),Tt<2||kt==null)return kt;for(var Bt=1;Bt<Tt;Bt++)for(var Ft=arguments[Bt],oe=Q(Ft),de=oe.length,Ne=0;Ne<de;Ne++){var Ze=oe[Ne];lt&&kt[Ze]!==void 0||(kt[Ze]=Ft[Ze])}return kt}}const Gr=Rn(ke),or=Rn(ft),Yo=Rn(ke,!0);function Lo(Q){if(!L(Q))return{};if(M)return M(Q);var lt=function(){};lt.prototype=Q;var kt=new lt;return lt.prototype=null,kt}function Do(Q,lt){var kt=Lo(Q);return lt&&or(kt,lt),kt}function ts(Q){return L(Q)?fe(Q)?Q.slice():Gr({},Q):Q}function qr(Q,lt){return lt(Q),Q}function fr(Q){return fe(Q)?Q:[Q]}function Cr(Q){return Ut.toPath(Q)}function eo(Q,lt){for(var kt=lt.length,Tt=0;Tt<kt;Tt++){if(Q==null)return;Q=Q[lt[Tt]]}return kt?Q:void 0}function Jn(Q,lt,kt){var Tt=eo(Q,Cr(lt));return z(Tt)?kt:Tt}function es(Q,lt){for(var kt=(lt=Cr(lt)).length,Tt=0;Tt<kt;Tt++){var Bt=lt[Tt];if(!Me(Q,Bt))return!1;Q=Q[Bt]}return!!kt}function Io(Q){return Q}function xn(Q){return Q=or({},Q),function(lt){return It(lt,Q)}}function Qn(Q){return Q=Cr(Q),function(lt){return eo(lt,Q)}}function tr(Q,lt,kt){if(lt===void 0)return Q;switch(kt??3){case 1:return function(Tt){return Q.call(lt,Tt)};case 3:return function(Tt,Bt,Ft){return Q.call(lt,Tt,Bt,Ft)};case 4:return function(Tt,Bt,Ft,oe){return Q.call(lt,Tt,Bt,Ft,oe)}}return function(){return Q.apply(lt,arguments)}}function ns(Q,lt,kt){return Q==null?Io:qt(Q)?tr(Q,lt,kt):L(Q)&&!fe(Q)?xn(Q):Qn(Q)}function dr(Q,lt){return ns(Q,lt,1/0)}function Bn(Q,lt,kt){return Ut.iteratee!==dr?Ut.iteratee(Q,lt):ns(Q,lt,kt)}function Sr(Q,lt,kt){lt=Bn(lt,kt);for(var Tt=ft(Q),Bt=Tt.length,Ft={},oe=0;oe<Bt;oe++){var de=Tt[oe];Ft[de]=lt(Q[de],de,Q)}return Ft}function bn(){}function je(Q){return Q==null?bn:function(lt){return Jn(Q,lt)}}function Ir(Q,lt,kt){var Tt=Array(Math.max(0,Q));lt=tr(lt,kt,1);for(var Bt=0;Bt<Q;Bt++)Tt[Bt]=lt(Bt);return Tt}function xo(Q,lt){return lt==null&&(lt=Q,Q=0),Q+Math.floor(Math.random()*(lt-Q+1))}Ut.toPath=fr,Ut.iteratee=dr;const Un=Date.now||function(){return new Date().getTime()};function rn(Q){var lt=function(Ft){return Q[Ft]},kt="(?:"+ft(Q).join("|")+")",Tt=RegExp(kt),Bt=RegExp(kt,"g");return function(Ft){return Ft=Ft==null?"":""+Ft,Tt.test(Ft)?Ft.replace(Bt,lt):Ft}}const no={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},go=rn(no),at=rn(sn(no)),ut=Ut.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Wt=/(.)^/,_e={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Te=/\\|'|\r|\n|\u2028|\u2029/g;function Qe(Q){return"\\"+_e[Q]}var an=/^\s*(\w|\$)+\s*$/;function Fn(Q,lt,kt){!lt&&kt&&(lt=kt),lt=Yo({},lt,Ut.templateSettings);var Tt=RegExp([(lt.escape||Wt).source,(lt.interpolate||Wt).source,(lt.evaluate||Wt).source].join("|")+"|$","g"),Bt=0,Ft="__p+='";Q.replace(Tt,function(Ze,dn,qn,Tr,ko){return Ft+=Q.slice(Bt,ko).replace(Te,Qe),Bt=ko+Ze.length,dn?Ft+=`'+
((__t=(`+dn+`))==null?'':_.escape(__t))+
'`:qn?Ft+=`'+
((__t=(`+qn+`))==null?'':__t)+
'`:Tr&&(Ft+=`';
`+Tr+`
__p+='`),Ze}),Ft+=`';
`;var oe,de=lt.variable;if(de){if(!an.test(de))throw new Error("variable is not a bare identifier: "+de)}else Ft=`with(obj||{}){
`+Ft+`}
`,de="obj";Ft=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+Ft+`return __p;
`;try{oe=new Function(de,"_",Ft)}catch(Ze){throw Ze.source=Ft,Ze}var Ne=function(Ze){return oe.call(this,Ze,Ut)};return Ne.source="function("+de+`){
`+Ft+"}",Ne}function Pe(Q,lt,kt){var Tt=(lt=Cr(lt)).length;if(!Tt)return qt(kt)?kt.call(Q):kt;for(var Bt=0;Bt<Tt;Bt++){var Ft=Q==null?void 0:Q[lt[Bt]];Ft===void 0&&(Ft=kt,Bt=Tt),Q=qt(Ft)?Ft.call(Q):Ft}return Q}var Vl=0;function rs(Q){var lt=++Vl+"";return Q?Q+lt:lt}function Ko(Q){var lt=Ut(Q);return lt._chain=!0,lt}function Zr(Q,lt,kt,Tt,Bt){if(!(Tt instanceof lt))return Q.apply(kt,Bt);var Ft=Lo(Q.prototype),oe=Q.apply(Ft,Bt);return L(oe)?oe:Ft}var ro=U(function(Q,lt){var kt=ro.placeholder,Tt=function(){for(var Bt=0,Ft=lt.length,oe=Array(Ft),de=0;de<Ft;de++)oe[de]=lt[de]===kt?arguments[Bt++]:lt[de];for(;Bt<arguments.length;)oe.push(arguments[Bt++]);return Zr(Q,Tt,this,this,oe)};return Tt});ro.placeholder=Ut;const Xo=ro,mo=U(function(Q,lt,kt){if(!qt(Q))throw new TypeError("Bind must be called on a function");var Tt=U(function(Bt){return Zr(Q,Tt,lt,this,kt.concat(Bt))});return Tt}),er=Nt(A);function Co(Q,lt,kt,Tt){if(Tt=Tt||[],lt||lt===0){if(lt<=0)return Tt.concat(Q)}else lt=1/0;for(var Bt=Tt.length,Ft=0,oe=A(Q);Ft<oe;Ft++){var de=Q[Ft];if(er(de)&&(fe(de)||ze(de)))if(lt>1)Co(de,lt-1,kt,Tt),Bt=Tt.length;else for(var Ne=0,Ze=de.length;Ne<Ze;)Tt[Bt++]=de[Ne++];else kt||(Tt[Bt++]=de)}return Tt}const Or=U(function(Q,lt){var kt=(lt=Co(lt,!1,!1)).length;if(kt<1)throw new Error("bindAll must be passed function names");for(;kt--;){var Tt=lt[kt];Q[Tt]=mo(Q[Tt],Q)}return Q});function os(Q,lt){var kt=function(Tt){var Bt=kt.cache,Ft=""+(lt?lt.apply(this,arguments):Tt);return Me(Bt,Ft)||(Bt[Ft]=Q.apply(this,arguments)),Bt[Ft]};return kt.cache={},kt}const Jo=U(function(Q,lt,kt){return setTimeout(function(){return Q.apply(null,kt)},lt)}),So=Xo(Jo,Ut,1);function is(Q,lt,kt){var Tt,Bt,Ft,oe,de=0;kt||(kt={});var Ne=function(){de=kt.leading===!1?0:Un(),Tt=null,oe=Q.apply(Bt,Ft),Tt||(Bt=Ft=null)},Ze=function(){var dn=Un();de||kt.leading!==!1||(de=dn);var qn=lt-(dn-de);return Bt=this,Ft=arguments,qn<=0||qn>lt?(Tt&&(clearTimeout(Tt),Tt=null),de=dn,oe=Q.apply(Bt,Ft),Tt||(Bt=Ft=null)):Tt||kt.trailing===!1||(Tt=setTimeout(Ne,qn)),oe};return Ze.cancel=function(){clearTimeout(Tt),de=0,Tt=Bt=Ft=null},Ze}function Wa(Q,lt,kt){var Tt,Bt,Ft,oe,de,Ne=function(){var dn=Un()-Bt;lt>dn?Tt=setTimeout(Ne,lt-dn):(Tt=null,kt||(oe=Q.apply(de,Ft)),Tt||(Ft=de=null))},Ze=U(function(dn){return de=this,Ft=dn,Bt=Un(),Tt||(Tt=setTimeout(Ne,lt),kt&&(oe=Q.apply(de,Ft))),oe});return Ze.cancel=function(){clearTimeout(Tt),Tt=Ft=de=null},Ze}function Si(Q,lt){return Xo(lt,Q)}function Oi(Q){return function(){return!Q.apply(this,arguments)}}function kr(){var Q=arguments,lt=Q.length-1;return function(){for(var kt=lt,Tt=Q[lt].apply(this,arguments);kt--;)Tt=Q[kt].call(this,Tt);return Tt}}function ss(Q,lt){return function(){if(--Q<1)return lt.apply(this,arguments)}}function as(Q,lt){var kt;return function(){return--Q>0&&(kt=lt.apply(this,arguments)),Q<=1&&(lt=null),kt}}const Wn=Xo(as,2);function No(Q,lt,kt){lt=Bn(lt,kt);for(var Tt,Bt=ft(Q),Ft=0,oe=Bt.length;Ft<oe;Ft++)if(lt(Q[Tt=Bt[Ft]],Tt,Q))return Tt}function Ys(Q){return function(lt,kt,Tt){kt=Bn(kt,Tt);for(var Bt=A(lt),Ft=Q>0?0:Bt-1;Ft>=0&&Ft<Bt;Ft+=Q)if(kt(lt[Ft],Ft,lt))return Ft;return-1}}const ki=Ys(1),oo=Ys(-1);function Ks(Q,lt,kt,Tt){for(var Bt=(kt=Bn(kt,Tt,1))(lt),Ft=0,oe=A(Q);Ft<oe;){var de=Math.floor((Ft+oe)/2);kt(Q[de])<Bt?Ft=de+1:oe=de}return Ft}function Ro(Q,lt,kt){return function(Tt,Bt,Ft){var oe=0,de=A(Tt);if(typeof Ft=="number")Q>0?oe=Ft>=0?Ft:Math.max(Ft+de,oe):de=Ft>=0?Math.min(Ft+1,de):Ft+de+1;else if(kt&&Ft&&de)return Tt[Ft=kt(Tt,Bt)]===Bt?Ft:-1;if(Bt!=Bt)return(Ft=lt(m.call(Tt,oe,de),X))>=0?Ft+oe:-1;for(Ft=Q>0?oe:de-1;Ft>=0&&Ft<de;Ft+=Q)if(Tt[Ft]===Bt)return Ft;return-1}}const Fo=Ro(1,ki,Ks),$a=Ro(-1,oo);function Qo(Q,lt,kt){var Tt=(er(Q)?ki:No)(Q,lt,kt);if(Tt!==void 0&&Tt!==-1)return Q[Tt]}function Xs(Q,lt){return Qo(Q,xn(lt))}function ir(Q,lt,kt){var Tt,Bt;if(lt=tr(lt,kt),er(Q))for(Tt=0,Bt=Q.length;Tt<Bt;Tt++)lt(Q[Tt],Tt,Q);else{var Ft=ft(Q);for(Tt=0,Bt=Ft.length;Tt<Bt;Tt++)lt(Q[Ft[Tt]],Ft[Tt],Q)}return Q}function Nr(Q,lt,kt){lt=Bn(lt,kt);for(var Tt=!er(Q)&&ft(Q),Bt=(Tt||Q).length,Ft=Array(Bt),oe=0;oe<Bt;oe++){var de=Tt?Tt[oe]:oe;Ft[oe]=lt(Q[de],de,Q)}return Ft}function Xe(Q){return function(lt,kt,Tt,Bt){var Ft=arguments.length>=3;return function(oe,de,Ne,Ze){var dn=!er(oe)&&ft(oe),qn=(dn||oe).length,Tr=Q>0?0:qn-1;for(Ze||(Ne=oe[dn?dn[Tr]:Tr],Tr+=Q);Tr>=0&&Tr<qn;Tr+=Q){var ko=dn?dn[Tr]:Tr;Ne=de(Ne,oe[ko],ko,oe)}return Ne}(lt,tr(kt,Bt,4),Tt,Ft)}}const Vn=Xe(1),ti=Xe(-1);function sr(Q,lt,kt){var Tt=[];return lt=Bn(lt,kt),ir(Q,function(Bt,Ft,oe){lt(Bt,Ft,oe)&&Tt.push(Bt)}),Tt}function Vo(Q,lt,kt){return sr(Q,Oi(Bn(lt)),kt)}function Gn(Q,lt,kt){lt=Bn(lt,kt);for(var Tt=!er(Q)&&ft(Q),Bt=(Tt||Q).length,Ft=0;Ft<Bt;Ft++){var oe=Tt?Tt[Ft]:Ft;if(!lt(Q[oe],oe,Q))return!1}return!0}function Cn(Q,lt,kt){lt=Bn(lt,kt);for(var Tt=!er(Q)&&ft(Q),Bt=(Tt||Q).length,Ft=0;Ft<Bt;Ft++){var oe=Tt?Tt[Ft]:Ft;if(lt(Q[oe],oe,Q))return!0}return!1}function hr(Q,lt,kt,Tt){return er(Q)||(Q=En(Q)),(typeof kt!="number"||Tt)&&(kt=0),Fo(Q,lt,kt)>=0}const Ti=U(function(Q,lt,kt){var Tt,Bt;return qt(lt)?Bt=lt:(lt=Cr(lt),Tt=lt.slice(0,-1),lt=lt[lt.length-1]),Nr(Q,function(Ft){var oe=Bt;if(!oe){if(Tt&&Tt.length&&(Ft=eo(Ft,Tt)),Ft==null)return;oe=Ft[lt]}return oe==null?oe:oe.apply(Ft,kt)})});function Oo(Q,lt){return Nr(Q,Qn(lt))}function Js(Q,lt){return sr(Q,xn(lt))}function Sn(Q,lt,kt){var Tt,Bt,Ft=-1/0,oe=-1/0;if(lt==null||typeof lt=="number"&&typeof Q[0]!="object"&&Q!=null)for(var de=0,Ne=(Q=er(Q)?Q:En(Q)).length;de<Ne;de++)(Tt=Q[de])!=null&&Tt>Ft&&(Ft=Tt);else lt=Bn(lt,kt),ir(Q,function(Ze,dn,qn){((Bt=lt(Ze,dn,qn))>oe||Bt===-1/0&&Ft===-1/0)&&(Ft=Ze,oe=Bt)});return Ft}function ls(Q,lt,kt){var Tt,Bt,Ft=1/0,oe=1/0;if(lt==null||typeof lt=="number"&&typeof Q[0]!="object"&&Q!=null)for(var de=0,Ne=(Q=er(Q)?Q:En(Q)).length;de<Ne;de++)(Tt=Q[de])!=null&&Tt<Ft&&(Ft=Tt);else lt=Bn(lt,kt),ir(Q,function(Ze,dn,qn){((Bt=lt(Ze,dn,qn))<oe||Bt===1/0&&Ft===1/0)&&(Ft=Ze,oe=Bt)});return Ft}var Rr=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ho(Q){return Q?fe(Q)?m.call(Q):H(Q)?Q.match(Rr):er(Q)?Nr(Q,Io):En(Q):[]}function Ei(Q,lt,kt){if(lt==null||kt)return er(Q)||(Q=En(Q)),Q[xo(Q.length-1)];var Tt=Ho(Q),Bt=A(Tt);lt=Math.max(Math.min(lt,Bt),0);for(var Ft=Bt-1,oe=0;oe<lt;oe++){var de=xo(oe,Ft),Ne=Tt[oe];Tt[oe]=Tt[de],Tt[de]=Ne}return Tt.slice(0,lt)}function vo(Q){return Ei(Q,1/0)}function Ga(Q,lt,kt){var Tt=0;return lt=Bn(lt,kt),Oo(Nr(Q,function(Bt,Ft,oe){return{value:Bt,index:Tt++,criteria:lt(Bt,Ft,oe)}}).sort(function(Bt,Ft){var oe=Bt.criteria,de=Ft.criteria;if(oe!==de){if(oe>de||oe===void 0)return 1;if(oe<de||de===void 0)return-1}return Bt.index-Ft.index}),"value")}function cs(Q,lt){return function(kt,Tt,Bt){var Ft=lt?[[],[]]:{};return Tt=Bn(Tt,Bt),ir(kt,function(oe,de){var Ne=Tt(oe,de,kt);Q(Ft,oe,Ne)}),Ft}}const Pi=cs(function(Q,lt,kt){Me(Q,kt)?Q[kt].push(lt):Q[kt]=[lt]}),us=cs(function(Q,lt,kt){Q[kt]=lt}),Qs=cs(function(Q,lt,kt){Me(Q,kt)?Q[kt]++:Q[kt]=1}),ta=cs(function(Q,lt,kt){Q[kt?0:1].push(lt)},!0);function Ai(Q){return Q==null?0:er(Q)?Q.length:ft(Q).length}function qa(Q,lt,kt){return lt in kt}const ea=U(function(Q,lt){var kt={},Tt=lt[0];if(Q==null)return kt;qt(Tt)?(lt.length>1&&(Tt=tr(Tt,lt[1])),lt=ke(Q)):(Tt=qa,lt=Co(lt,!1,!1),Q=Object(Q));for(var Bt=0,Ft=lt.length;Bt<Ft;Bt++){var oe=lt[Bt],de=Q[oe];Tt(de,oe,Q)&&(kt[oe]=de)}return kt}),ps=U(function(Q,lt){var kt,Tt=lt[0];return qt(Tt)?(Tt=Oi(Tt),lt.length>1&&(kt=lt[1])):(lt=Nr(Co(lt,!1,!1),String),Tt=function(Bt,Ft){return!hr(lt,Ft)}),ea(Q,Tt,kt)});function fs(Q,lt,kt){return m.call(Q,0,Math.max(0,Q.length-(lt==null||kt?1:lt)))}function yo(Q,lt,kt){return Q==null||Q.length<1?lt==null||kt?void 0:[]:lt==null||kt?Q[0]:fs(Q,Q.length-lt)}function io(Q,lt,kt){return m.call(Q,lt==null||kt?1:lt)}function ji(Q,lt,kt){return Q==null||Q.length<1?lt==null||kt?void 0:[]:lt==null||kt?Q[Q.length-1]:io(Q,Math.max(0,Q.length-lt))}function so(Q){return sr(Q,Boolean)}function ds(Q,lt){return Co(Q,lt,!1)}const na=U(function(Q,lt){return lt=Co(lt,!0,!0),sr(Q,function(kt){return!hr(lt,kt)})}),Za=U(function(Q,lt){return na(Q,lt)});function Fr(Q,lt,kt,Tt){tt(lt)||(Tt=kt,kt=lt,lt=!1),kt!=null&&(kt=Bn(kt,Tt));for(var Bt=[],Ft=[],oe=0,de=A(Q);oe<de;oe++){var Ne=Q[oe],Ze=kt?kt(Ne,oe,Q):Ne;lt&&!kt?(oe&&Ft===Ze||Bt.push(Ne),Ft=Ze):kt?hr(Ft,Ze)||(Ft.push(Ze),Bt.push(Ne)):hr(Bt,Ne)||Bt.push(Ne)}return Bt}const Pn=U(function(Q){return Fr(Co(Q,!0,!0))});function Ya(Q){for(var lt=[],kt=arguments.length,Tt=0,Bt=A(Q);Tt<Bt;Tt++){var Ft=Q[Tt];if(!hr(lt,Ft)){var oe;for(oe=1;oe<kt&&hr(arguments[oe],Ft);oe++);oe===kt&&lt.push(Ft)}}return lt}function ei(Q){for(var lt=Q&&Sn(Q,A).length||0,kt=Array(lt),Tt=0;Tt<lt;Tt++)kt[Tt]=Oo(Q,Tt);return kt}const ni=U(ei);function Mi(Q,lt){for(var kt={},Tt=0,Bt=A(Q);Tt<Bt;Tt++)lt?kt[Q[Tt]]=lt[Tt]:kt[Q[Tt][0]]=Q[Tt][1];return kt}function ra(Q,lt,kt){lt==null&&(lt=Q||0,Q=0),kt||(kt=lt<Q?-1:1);for(var Tt=Math.max(Math.ceil((lt-Q)/kt),0),Bt=Array(Tt),Ft=0;Ft<Tt;Ft++,Q+=kt)Bt[Ft]=Q;return Bt}function Ka(Q,lt){if(lt==null||lt<1)return[];for(var kt=[],Tt=0,Bt=Q.length;Tt<Bt;)kt.push(m.call(Q,Tt,Tt+=lt));return kt}function Li(Q,lt){return Q._chain?Ut(lt).chain():lt}function zo(Q){return ir(ue(Q),function(lt){var kt=Ut[lt]=Q[lt];Ut.prototype[lt]=function(){var Tt=[this._wrapped];return v.apply(Tt,arguments),Li(this,kt.apply(Ut,Tt))}}),Ut}ir(["pop","push","reverse","shift","sort","splice","unshift"],function(Q){var lt=C[Q];Ut.prototype[Q]=function(){var kt=this._wrapped;return kt!=null&&(lt.apply(kt,arguments),Q!=="shift"&&Q!=="splice"||kt.length!==0||delete kt[0]),Li(this,kt)}}),ir(["concat","join","slice"],function(Q){var lt=C[Q];Ut.prototype[Q]=function(){var kt=this._wrapped;return kt!=null&&(kt=lt.apply(kt,arguments)),Li(this,kt)}});const hs=Ut;var oa=zo(F);oa._=oa;const Xa=oa}},ge={};function Lt(E){var K=ge[E];if(K!==void 0)return K.exports;var Z=ge[E]={exports:{}};return xe[E].call(Z.exports,Z,Z.exports,Lt),Z.exports}Lt.n=E=>{var K=E&&E.__esModule?()=>E.default:()=>E;return Lt.d(K,{a:K}),K},Lt.d=(E,K)=>{for(var Z in K)Lt.o(K,Z)&&!Lt.o(E,Z)&&Object.defineProperty(E,Z,{enumerable:!0,get:K[Z]})},Lt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Lt.o=(E,K)=>Object.prototype.hasOwnProperty.call(E,K),Lt.r=E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})};var te={};return(()=>{Lt.r(te),Lt.d(te,{default:()=>Vv,grapesjs:()=>Bd,usePlugin:()=>zd});var E=Lt(50),K=Lt(163);function Z(s){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var e=s.raw;return e.reduce(function(n,i,l){var f=r[l-1],d=e[l-1];return Array.isArray(f)?f=f.join(""):d&&d.slice(-1)==="$"?n=n.slice(0,-1):f=(0,K.escape)(f),n+f+i})}const F={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1};var V=Lt(316),j=Lt.n(V),C=Lt(895),O,h=Lt(346),v=(O=function(s,r){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},O(s,r)},function(s,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=s}O(s,r),s.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}),m=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return v(r,s),r}(h.Hn);const g=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return v(r,s),r.prototype.getByComponent=function(t){var e=this;return this.filter(function(n){return e.getComponent(n)===t})[0]},r.prototype.addComponent=function(t,e){var n=this,i=((0,E.isArray)(t)?t:[t]).filter(function(l){return!n.hasComponent(l)}).map(function(l){return new m({component:l})})[0];return this.push(i,e)},r.prototype.getComponent=function(t){return t.get("component")},r.prototype.hasComponent=function(t){var e=this.getByComponent(t);return e&&this.contains(e)},r.prototype.lastComponent=function(){var t=this.last();return t?this.getComponent(t):void 0},r.prototype.allComponents=function(){var t=this;return this.map(function(e){return t.getComponent(e)}).filter(function(e){return e})},r.prototype.removeComponent=function(t,e){var n=this,i=((0,E.isArray)(t)?t:[t]).map(function(l){return n.getByComponent(l)});return this.remove(i,e)},r}(h.FE);var y=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),S=function(){return S=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},S.apply(this,arguments)},w=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},T=function(){function s(r,t,e){this.cls=[],this._em=r,this._name=t;var n=this.name.charAt(0).toLowerCase()+this.name.slice(1),i=(0,E.isUndefined)(r.config[n])?r.config[this.name]:r.config[n],l=i===!0?{}:i||{};l.pStylePrefix=r.config.pStylePrefix||"",(0,E.isUndefined)(i)||i||(l._disable=1),l.em=r,this._config=(0,K.deepMerge)(e||{},l)}return Object.defineProperty(s.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),s.prototype.render=function(r){},s.prototype.postLoad=function(r){},Object.defineProperty(s.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),s.prototype.getConfig=function(r){return r?this.config[r]:this.config},s.prototype.__logWarn=function(r,t){t===void 0&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(r),t)},s.prototype.__appendTo=function(){var r=this.getConfig().appendTo;if(r){var t=(0,E.isElement)(r)?r:document.querySelector(r);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},s}();const k=T;var M=function(s){function r(t,e,n,i,l,f){f===void 0&&(f={});var d=s.call(this,t,e,l)||this;return d.cls=[],d.private=!1,d.all=n,d.events=i,!f.skipListen&&d.__initListen(),d}return y(r,s),r.prototype.postLoad=function(t){},r.prototype.render=function(t){},r.prototype.getProjectData=function(t){var e={},n=this.storageKey;return n&&(e[n]=t||this.getAll()),e},r.prototype.loadProjectData=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n=e.all,i=e.onResult,l=e.reset,f=this.storageKey,d={action:"load"},x=n||this.all,b=t[f];if(typeof b=="string")try{b=JSON.parse(b)}catch{this.__logWarn("Data parsing failed",{input:b})}return l&&b&&x.reset(void 0,d),i?b&&i(b,d):b&&(0,K.isDef)(b.length)&&x.reset(b,d),b},r.prototype.clear=function(t){t===void 0&&(t={});var e=this.all;return e&&e.reset(void 0,t),this},r.prototype.getAll=function(){return w([],this.all.models,!0)},r.prototype.getAllMap=function(){return this.getAll().reduce(function(t,e){return t[e.get(e.idAttribute)]=e,t},{})},r.prototype.__initListen=function(t){t===void 0&&(t={});var e=this,n=e.all,i=e.em,l=e.events;n&&i&&n.on("add",function(f,d,x){return i.trigger(l.add,f,x)}).on("remove",function(f,d,x){return i.trigger(l.remove,f,x)}).on("change",function(f,d){return i.trigger(l.update,f,f.changedAttributes(),d)}).on("all",this.__catchAllEvent,this),this.cls=[n].concat(t.collections||[]),(t.propagate||[]).forEach(function(f){var d=f.entity,x=f.event;d.on("all",function(b,G,nt,st){var pt=S({event:b},st||nt);[i,n].map(function(bt){return bt.trigger(x,G,pt)})})})},r.prototype.__remove=function(t,e){var n=this;e===void 0&&(e={});var i=this.em,l=(0,E.isString)(t)?this.get(t):t,f=function(){return l&&n.all.remove(l,e),l};return!e.silent&&(i==null||i.trigger(this.events.removeBefore,l,f,e)),!e.abort&&f()},r.prototype.__catchAllEvent=function(t,e,n,i){var l=this.em,f=this.events,d=i||n;l&&f.all&&l.trigger(f.all,{event:t,model:e,options:d}),this.__onAllEvent()},r.prototype.__appendTo=function(t){var e=this.config.appendTo;if(e){var n=(0,E.isElement)(e)?e:document.querySelector(e);if(!n)return this.__logWarn('"appendTo" element not found');n.appendChild(this.render(t))}},r.prototype.__onAllEvent=function(){},r.prototype._createId=function(t){t===void 0&&(t=16);var e,n=this.getAll().length+t,i=this.getAllMap();do e=(0,K.createId)(n);while(i[e]);return e},r.prototype.__listenAdd=function(t,e){var n=this;t.on("add",function(i,l,f){return n.em.trigger(e,i,f)})},r.prototype.__listenRemove=function(t,e){var n=this;t.on("remove",function(i,l,f){return n.em.trigger(e,i,f)})},r.prototype.__listenUpdate=function(t,e){var n=this;t.on("change",function(i,l){return n.em.trigger(e,i,i.changedAttributes(),l)})},r.prototype.__destroy=function(){var t;this.cls.forEach(function(e){e.stopListening(),e.reset()}),(t=this.view)===null||t===void 0||t.remove(),this.view=void 0},r}(T);const D={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0};var R=Lt(642);const N={default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};var W=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const $=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return W(r,s),r.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},r.prototype.initialize=function(){var t=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0),["width","height","widthMedia"].forEach(function(e){return t.checkUnit(e)})},r.prototype.checkUnit=function(t){var e=this.get(t)||"";(parseFloat(e)||0).toString()===e.toString()&&this.set(t,"".concat(e,"px"))},r.prototype.getName=function(){return this.get("name")||this.get("id")},r.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},r}(h.Hn);var J=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),U=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return J(r,s),r}(h.FE);const L=U;U.prototype.model=$;var P=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),z=function(s,r){return Object.defineProperty?Object.defineProperty(s,"raw",{value:r}):s.raw=r,s};const tt=function(s){function r(t){var e=s.call(this,t)||this;return e.config=t.config||{},e.em=e.config.em,e.ppfx=e.config.pStylePrefix||"",e.listenTo(e.em,"change:device",e.updateSelect),e}return P(r,s),r.prototype.template=function(t){var e=t.ppfx,n=t.label;return Z(q||(q=z([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),e,n,e,e,e,e,e,e,e)},r.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},r.prototype.startAdd=function(){},r.prototype.updateDevice=function(){var t=this.em;if(t){var e=this.devicesEl;t.set("device",e?e.val():"")}},r.prototype.updateSelect=function(){var t=this.em,e=this.devicesEl;if(t&&t.getDeviceModel&&e){var n=t.getDeviceModel();e.val(n?n.get("id"):"")}},r.prototype.getOptions=function(){var t=this.collection,e=this.em,n="";return t.forEach(function(i){var l=i.attributes,f=l.name,d=l.id,x=e&&e.t&&e.t("deviceManager.devices.".concat(d))||f;n+='<option value="'.concat(d||f,'">').concat(x,"</option>")}),n},r.prototype.render=function(){var t=this,e=t.em,n=t.ppfx,i=t.$el,l=t.el,f=e&&e.t&&e.t("deviceManager.device");return i.html(this.template({ppfx:n,label:f})),this.devicesEl=i.find(".".concat(n,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(e.get("device")),l.className="".concat(n,"devices-c"),this},r}(h.G7);var q,rt=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),H=function(){return H=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},H.apply(this,arguments)},Y="device",dt="".concat(Y,":"),ct="".concat(dt,"select"),jt="".concat(dt,"update"),At="".concat(dt,"add"),ee="".concat(dt,"remove"),mt="".concat(ee,":before"),gt="change:device",qt={all:Y,select:ct,update:jt,add:At,remove:ee,removeBefore:mt},Yt=function(s){function r(t){var e,n=s.call(this,t,"DeviceManager",new L,qt,N)||this;return n.Device=$,n.Devices=L,n.storageKey="",n.devices=n.all,(e=n.config.devices)===null||e===void 0||e.forEach(function(i){return n.add(i,{silent:!0})}),n.select(n.config.default||n.devices.at(0)),t.on(gt,n._onSelect,n),n}return rt(r,s),r.prototype._onSelect=function(t,e,n){var i=this.em,l=this.events,f=t.previous("device"),d=this.get(e),x=l.select;i.trigger(x,d,this.get(f)),this.__catchAllEvent(x,d,n)},r.prototype.add=function(t,e){var n;e===void 0&&(e={});var i=e;if((0,E.isString)(t)){var l=e;n=H(H({},i=arguments[2]||{}),{id:t,name:i.name||t,width:l})}else n=t;return n.id||(n.id=n.name||this._createId()),this.devices.add(n,i)},r.prototype.get=function(t){return this.getAll().filter(function(e){return e.get("name")===t})[0]||this.devices.get(t)||null},r.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},r.prototype.getDevices=function(){return this.devices.models},r.prototype.select=function(t,e){e===void 0&&(e={});var n=(0,E.isString)(t)?this.get(t):t;return n&&this.em.set("device",n.get("id"),e),this},r.prototype.getSelected=function(){return this.get(this.em.get("device"))},r.prototype.getAll=function(){return this.devices},r.prototype.render=function(){var t,e=this.em;return(t=this.view)===null||t===void 0||t.remove(),this.view=new tt({collection:this.devices,config:H({em:e},this.config)}),this.view.render().el},r.prototype.destroy=function(){this.__destroy()},r}(M);const Ht=Yt;var ne=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const re=function(s){function r(t,e,n){return s.call(this,e,{module:t,modelConstructor:n})||this}return ne(r,s),r.prototype.add=function(t,e){var n,i=this,l=(0,E.isArray)(t)?t:(0,E.isUndefined)(t)?void 0:[t];return l=(n=l==null?void 0:l.map(function(f){return f instanceof i.newModel?f:new i.newModel(i.module,f)}))!==null&&n!==void 0?n:[void 0],s.prototype.add.call(this,(0,E.isArray)(t)?l:l[0],e)},r.prototype.preinitialize=function(t,e){this.newModel=e.modelConstructor,this.module=e.module},r}(h.FE);var ce=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fe=function(){return fe=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},fe.apply(this,arguments)},Me=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},Se="__aw",ze="__ah",qe=function(s,r){var t,e=s.get(r),n=(t=s.view)===null||t===void 0?void 0:t.el[r==="width"?"offsetWidth":"offsetHeight"];return(0,E.isNumber)(e)?e:(0,E.isString)(e)&&e.endsWith("px")?parseFloat(e):n||0},X=function(s){function r(t,e){var n=s.call(this,t,e)||this,i=n.em,l=n.attributes,f=l.styles,d=l.component,x=i.Components,b=x.getConfig(),G=i.Css.getAll(),nt={},st={em:i,config:b,frame:n,idMap:nt};if(!(0,K.isComponent)(d)){var pt=(0,K.isObject)(d)?d:{components:d};!pt.type&&(pt.type="wrapper");var bt=x.getType("wrapper").model;n.set("component",new bt(pt,st))}return f?(0,K.isObject)(f)||(Object.keys(nt).length&&Array.isArray(f)&&f.forEach(function(Et){var Ot=Et.selectors;if(Ot&&Ot.length==1){var Zt=Ot[0],Qt=Zt.name&&Zt.type===2&&Zt;if(Qt&&nt[Qt.name])Qt.name=nt[Qt.name];else if((0,E.isString)(Zt)&&Zt[0]==="#"){var ve=Zt.substring(1);ve&&nt[ve]&&(Ot[0]="#".concat(nt[ve]))}}}),G.add(f),n.set("styles",G)):n.set("styles",G),!e.width&&n.set(Se,1),!e.height&&n.set(ze,1),!n.id&&n.set("id",(0,K.createId)()),n}return ce(r,s),r.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(r.prototype,"width",{get:function(){return qe(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return qe(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"root",{get:function(){var t=this.refFrame;return(t==null?void 0:t.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),r.prototype.initRefs=function(){var t=this.refFrame;if((0,E.isString)(t)){var e=this.module.framesById[t];e&&this.set({refFrame:e},{silent:!0})}},r.prototype.getBoxRect=function(){var t=this.attributes;return{x:t.x,y:t.y,width:this.width,height:this.height}},r.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},r.prototype.changesUp=function(t){t===void 0&&(t={}),t.temporary||t.noCount||t.avoidStore||this.set("changesCount",this.get("changesCount")+1)},r.prototype.getComponent=function(){return this.get("component")},r.prototype.getStyles=function(){return this.get("styles")},r.prototype.disable=function(){this.trigger("disable")},r.prototype.remove=function(){var t;(t=this.view)===null||t===void 0||t.remove(),this.view=void 0;var e=this.collection;return e&&e.remove(this)},r.prototype.getHead=function(){return Me([],this.head,!0)},r.prototype.setHead=function(t){return this.set("head",Me([],t,!0))},r.prototype.addHeadItem=function(t){this.head.push(t)},r.prototype.getHeadByAttr=function(t,e,n){return this.head.filter(function(i){return i.attributes&&i.attributes[t]==e&&(!n||n===i.tag)})[0]},r.prototype.removeHeadByAttr=function(t,e,n){var i=this.getHeadByAttr(t,e,n),l=this.head.indexOf(i);l>=0&&this.head.splice(l,1)},r.prototype.addLink=function(t){var e="link";!this.getHeadByAttr("href",t,e)&&this.addHeadItem({tag:e,attributes:{href:t,rel:"stylesheet"}})},r.prototype.removeLink=function(t){this.removeHeadByAttr("href",t,"link")},r.prototype.addScript=function(t){var e="script";!this.getHeadByAttr("src",t,e)&&this.addHeadItem({tag:e,attributes:{src:t}})},r.prototype.removeScript=function(t){this.removeHeadByAttr("src",t,"script")},r.prototype.getPage=function(){var t;return(t=this.collection)===null||t===void 0?void 0:t.page},r.prototype._emitUpdated=function(t){t===void 0&&(t={}),this.em.trigger("frame:updated",fe({frame:this},t))},r.prototype.hasAutoHeight=function(){return!(this.attributes.height!=="auto"&&!this.config.infiniteCanvas)},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=R.Z.prototype.toJSON.call(this,t),n=(0,E.result)(this,"defaults");return t.fromUndo&&delete e.component,delete e.styles,delete e.changesCount,e[Se]&&delete e.width,e[ze]&&delete e.height,e.refFrame&&(e.refFrame=e.refFrame.id,delete e.component),(0,E.forEach)(e,function(i,l){l.indexOf("_")===0&&delete e[l]}),(0,E.forEach)(n,function(i,l){e[l]===i&&delete e[l]}),(0,E.forEach)(["attributes","head"],function(i){(0,E.isEmpty)(e[i])&&delete e[i]}),e},r}(R.Z);const Gt=X;var Nt=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const wt=function(s){function r(t,e){e===void 0&&(e=[]);var n=s.call(this,t,e,Gt)||this;return n.loadedItems=0,n.itemsToLoad=0,(0,E.bindAll)(n,"itemLoaded"),n.on("add",n.onAdd),n.on("reset",n.onReset),n.on("remove",n.onRemove),n.forEach(function(i){return n.onAdd(i)}),n}return Nt(r,s),r.prototype.onAdd=function(t){this.module.framesById[t.id]=t},r.prototype.onReset=function(t,e){var n=this;((e==null?void 0:e.previousModels)||[]).map(function(i){return n.onRemove(i)})},r.prototype.onRemove=function(t){t.onRemove(),delete this.module.framesById[t.id]},r.prototype.initRefs=function(){this.forEach(function(t){return t.initRefs()})},r.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},r.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},r.prototype.listenToLoadItems=function(t){var e=this;this.forEach(function(n){return n[t?"on":"off"]("loaded",e.itemLoaded)})},r}(re);var yt=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const Mt=function(s){function r(t,e){e===void 0&&(e={});var n=s.call(this,t,e)||this,i=e.em,l={};n.em=i,t.frames||(l.component=t.component,l.styles=t.styles,["component","styles"].map(function(x){return n.unset(x)}));var f=t.frames||[l],d=new wt(i.Canvas,f);return d.page=n,n.set("frames",d),!n.getId()&&n.set("id",i==null?void 0:i.Pages._createId()),i==null||i.UndoManager.add(d),n}return yt(r,s),r.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},r.prototype.onRemove=function(){this.getFrames().reset()},r.prototype.getFrames=function(){return this.get("frames")},r.prototype.getId=function(){return this.id},r.prototype.getName=function(){return this.get("name")},r.prototype.setName=function(t){return this.set({name:t})},r.prototype.getAllFrames=function(){return this.getFrames().models||[]},r.prototype.getMainFrame=function(){return this.getFrames().at(0)},r.prototype.getMainComponent=function(){var t=this.getMainFrame();return t==null?void 0:t.getComponent()},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=h.Hn.prototype.toJSON.call(this,t),n=(0,E.result)(this,"defaults");return(0,E.forEach)(e,function(i,l){l.indexOf("_")===0&&delete e[l]}),(0,E.forEach)(n,function(i,l){e[l]===i&&delete e[l]}),e},r}(h.Hn);var vt=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pt=function(){return Pt=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Pt.apply(this,arguments)};const A=function(s){function r(t,e){var n=s.call(this,t)||this;return n.on("reset",n.onReset),n.on("remove",n.onRemove),n.model=function(i,l){return l===void 0&&(l={}),new Mt(i,Pt(Pt({},l),{em:e}))},n}return vt(r,s),r.prototype.onReset=function(t,e){var n,i=this;(n=e==null?void 0:e.previousModels)===null||n===void 0||n.map(function(l){return i.onRemove(l)})},r.prototype.onRemove=function(t){t==null||t.onRemove()},r}(h.FE);var ot=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ft=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},xt="page",It="".concat(xt,":"),Ut="".concat(It,"select"),pe="".concat(Ut,":before"),De="".concat(It,"update"),Ve="".concat(It,"add"),$e="".concat(Ve,":before"),nn="".concat(It,"remove"),ke="".concat(nn,":before"),ht="change:selected",_t="main",Rt={all:xt,select:Ut,selectBefore:pe,update:De,add:Ve,addBefore:$e,remove:nn,removeBefore:ke},$t=function(s){function r(t){var e=s.call(this,t,"PageManager",new A([],t),Rt)||this;e.storageKey="pages",(0,E.bindAll)(e,"_onPageChange");var n=new R.Z({_undo:!0});return e.model=n,e.pages.on("reset",function(i){return i.at(0)&&e.select(i.at(0))}),e.pages.on("all",e.__onChange,e),n.on(ht,e._onPageChange),e}return ot(r,s),Object.defineProperty(r.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),r.prototype.getAll=function(){return ft([],this.all.models,!0)},r.prototype.__onChange=function(t,e,n,i){var l=i||n;this.em.trigger(xt,{event:t,page:e,options:l})},r.prototype.onLoad=function(){var t,e=this,n=e.pages,i=e.config,l=e.em,f={silent:!0},d=((t=i.pages)===null||t===void 0?void 0:t.map(function(b){return new Mt(b,{em:l,config:i})}))||[];n.add(d,f);var x=n.length?this.getMain():this.add({type:_t},f);x&&this.select(x,f)},r.prototype._onPageChange=function(t,e,n){var i=this.em,l=i.Layers,f=e.getMainComponent();l&&f&&l.setRoot(f),i.trigger(Ut,e,t.previous("selected")),this.__onChange(ht,e,n)},r.prototype.postLoad=function(){var t=this,e=t.em,n=t.model,i=t.pages,l=e.UndoManager;l.add(n),l.add(i),i.on("add remove reset change",function(f,d,x){return e.changesUp(x||d)})},r.prototype.add=function(t,e){var n=this;e===void 0&&(e={});var i=this.em;t.id=t.id||this._createId();var l=function(){var f=n.pages.add(new Mt(t,{em:n.em,config:n.config}),e);return e.select&&n.select(f),f};return!e.silent&&i.trigger($e,t,l,e),!e.abort&&l()},r.prototype.remove=function(t,e){var n=this;e===void 0&&(e={});var i=this.em,l=(0,E.isString)(t)?this.get(t):t,f=function(){return l&&n.pages.remove(l,e),l};return!e.silent&&i.trigger(ke,l,f,e),!e.abort&&f()},r.prototype.get=function(t){return this.pages.filter(function(e){return e.get(e.idAttribute)===t})[0]},r.prototype.getMain=function(){var t=this.pages;return t.filter(function(e){return e.get("type")===_t})[0]||t.at(0)},r.prototype.getAllWrappers=function(){var t=this.getAll();return(0,E.unique)((0,E.flatten)(t.map(function(e){return e.getAllFrames().map(function(n){return n.getComponent()})})))},r.prototype.select=function(t,e){e===void 0&&(e={});var n=(0,E.isString)(t)?this.get(t):t;return n&&(this.em.trigger(pe,n,e),this.model.set("selected",n,e)),this},r.prototype.getSelected=function(){return this.model.get("selected")},r.prototype.destroy=function(){var t=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(e){return t[e]=0})},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){var e=this.loadProjectData(t,{all:this.pages,reset:!0});return this.pages.forEach(function(n){return n.getFrames().initRefs()}),e},r.prototype._createId=function(){var t,e=this.getAll().length+16,n=this.getAllMap();do t=(0,K.createId)(e);while(n[t]);return t},r}(M);const le=$t;var be=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ye=function(s){function r(t){var e=this,n=t.em,i=t.config,l=i.scripts,f=i.styles;return(e=s.call(this,t,{scripts:l,styles:f})||this).set("frames",new wt(t)),e.on("change:zoom",e.onZoomChange),e.on("change:x change:y",e.onCoordsChange),e.on("change:pointer change:pointerScreen",e.onPointerChange),e.listenTo(n,"change:device ".concat(jt),e.updateDevice),e.listenTo(n,Ut,e._pageUpdated),e}return be(r,s),r.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:h.pH,pointerScreen:h.pH}},Object.defineProperty(r.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),r.prototype.init=function(){var t=this.em.Pages.getMain();this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},r.prototype._pageUpdated=function(t,e){var n=this.em;n.setSelected(),n.get("readyCanvas")&&n.stopDefault(),e==null||e.getFrames().map(function(i){return i.disable()}),this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},r.prototype.updateDevice=function(t){t===void 0&&(t={});var e=this.em,n=e.getDeviceModel(),i=t.frame||e.getCurrentFrameModel();if(i&&n){var l=n.attributes,f=l.width,d=l.height;i.set({width:f,height:d},{noUndo:1})}},r.prototype.onZoomChange=function(){var t=this.em,e=this.module;this.get("zoom")<1&&this.set("zoom",1),t.trigger(e.events.zoom)},r.prototype.onCoordsChange=function(){var t=this.em,e=this.module;t.trigger(e.events.coords)},r.prototype.onPointerChange=function(){var t=this.em,e=this.module;t.trigger(e.events.pointer)},r.prototype.getPointerCoords=function(t){t===void 0&&(t=h.vA.World);var e=this.attributes,n=e.pointer,i=e.pointerScreen;return t===h.vA.World?n:i},r}(R.Z);const tn=Ye;var Ke=Lt(675),cn=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xn=function(s){function r(t,e){e===void 0&&(e=[]);var n=s.call(this,t,e,Ke.Z)||this;n.on("add",n.onAdd),n.on("change",n.onChange),n.on("remove",n.onRemove);var i=n.em;return n.refreshDbn=(0,E.debounce)(function(){return n.refresh()},0),n.listenTo(i,"component:resize styleable:change component:input component:update frame:updated undo redo",function(){return n.refreshDbn()}),n}return cn(r,s),Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),r.prototype.refresh=function(){var t=this.em,e=this.events;t.trigger(e.spot)},r.prototype.onAdd=function(t){this.__trgEvent(this.events.spotAdd,{spot:t})},r.prototype.onChange=function(t){this.__trgEvent(this.events.spotUpdate,{spot:t})},r.prototype.onRemove=function(t){this.__trgEvent(this.events.spotRemove,{spot:t})},r.prototype.__trgEvent=function(t,e){this.module.em.trigger(t,e),this.refreshDbn()},r}(re);const Wr=Xn;var En;(function(s){s.dragEnter="canvas:dragenter",s.dragOver="canvas:dragover",s.dragEnd="canvas:dragend",s.dragData="canvas:dragdata",s.drop="canvas:drop",s.spot="canvas:spot",s.spotAdd="canvas:spot:add",s.spotUpdate="canvas:spot:update",s.spotRemove="canvas:spot:remove",s.coords="canvas:coords",s.zoom="canvas:zoom",s.pointer="canvas:pointer"})(En||(En={}));var $r=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const sn=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return $r(r,s),Object.defineProperty(r.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"module",{get:function(){var t,e;return(e=(t=this.model)===null||t===void 0?void 0:t.module)!==null&&e!==void 0?e:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),r.prototype.preinitialize=function(t){this.className=""},r}(h.G7);var ue=Lt(491),Rn=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const Gr=function(s){function r(t,e){t===void 0&&(t={}),e===void 0&&(e=!1);var n=s.call(this,t)||this;return n.itemsView="",n.itemType="type",n.reuseView=!1,n.viewCollection=[],e&&n.listenTo(n.collection,"add",n.addTo),n}return Rn(r,s),r.prototype.addTo=function(t){this.add(t)},r.prototype.itemViewNotFound=function(t){},r.prototype.add=function(t,e){var n,i=this.reuseView,l=this.viewCollection,f=e||null,d=t.get(this.itemType);n=t.view&&i?t.view:this.renderView(t,d),l.push(n);var x=n.render().el;f?f.appendChild(x):this.$el.append(x)},r.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(n){return t.add(n,e)}),this.$el.append(e),this.onRender(),this},r.prototype.onRender=function(){},r.prototype.onRemoveBefore=function(t,e){},r.prototype.onRemove=function(t,e){},r.prototype.remove=function(t){t===void 0&&(t={});var e=this.viewCollection;return this.onRemoveBefore(e,t),this.clearItems(),h.G7.prototype.remove.apply(this,t),this.onRemove(e,t),this},r.prototype.clearItems=function(){this.viewCollection},r}(sn);var or=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const Yo=function(s){function r(t){t===void 0&&(t={});var e=s.call(this,t)||this;e.config=t.config||{};var n=e.model;return e.listenTo(n,"change",e.render),e.listenTo(n,"destroy remove",e.remove),e.listenTo(n.get("selectors"),"change",e.render),e}return or(r,s),r.prototype.tagName=function(){return"style"},r.prototype.render=function(){var t=this.model,e=this.el,n=t.get("important");return e.innerHTML=t.toCSS({important:n}),this},r}(h.G7);var Lo=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const Do=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Lo(r,s),r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var t=this.model,e=t.get("important");return this.el.textContent=t.getDeclaration({important:e}),this},r}(Yo);var ts=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qr=function(s,r){return"".concat(s).concat(r?"-".concat(parseFloat(r)):"")},fr=function(s){function r(t){var e=s.call(this,t)||this;(0,E.bindAll)(e,"sortRules");var n=t.config||{};e.atRules={},e.config=n,e.em=n.em,e.pfx=n.stylePrefix||"",e.className=e.pfx+"rules";var i=e.collection;return e.listenTo(i,"add",e.addTo),e.listenTo(i,"reset",e.render),e}return ts(r,s),r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){if(this.renderStarted){var n,i,l=e||null,f={model:t,config:this.config};if(t.get("atRuleType")==="keyframes"){var d=t.getAtRule(),x=this.atRules[d];if(!x){var b=document.createElement("style");x=document.createTextNode(""),b.appendChild(document.createTextNode("".concat(d,"{"))),b.appendChild(x),b.appendChild(document.createTextNode("}")),this.atRules[d]=x,n=b}i=new Do(f),x.appendData(i.render().el.textContent)}else n=(i=new Yo(f)).render().el;var G=this.className,nt=t.get("mediaText"),st=qr(G),pt=st;if(nt&&(pt=qr(G,this.getMediaWidth(nt))),n){var bt=l||this.el,Et=void 0;try{Et=bt.querySelector("#".concat(pt))}catch{}Et||(Et=bt.querySelector("#".concat(st))),Et==null||Et.appendChild(n)}return n}},r.prototype.getMediaWidth=function(t){return t&&t.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},r.prototype.sortRules=function(t,e){var n=(this.em.getConfig().mediaCondition||"").indexOf("min-width")!==-1;return n?(n?t:e)-(n?e:t):0},r.prototype.render=function(){var t=this;this.renderStarted=!0,this.atRules={};var e=this,n=e.em,i=e.$el,l=e.collection,f=this.className,d=document.createDocumentFragment();i.empty();var x=n.Devices.getAll().pluck("priority").sort(this.sortRules);return x.every(function(b){return b})&&x.unshift(0),x.forEach(function(b){return d.appendChild((0,ue.ut)("div",{id:qr(f,b)}))}),l.each(function(b){return t.addToCollection(b,d)}),i.append(d),i.attr("class",f),this},r}(h.G7);const Cr=fr;var eo=function(){return eo=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},eo.apply(this,arguments)},Jn=function(){function s(r,t){var e=this;this.em=r,this.canvas=r.Canvas;var n=t||this.canvas.getFrames().map(function(l){return l.getComponent().getEl()}),i=Array.isArray(n)?n:[n];this.el=i[0],this.counter=0,(0,E.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),i.forEach(function(l){return e.toggleEffects(l,!0)})}return s.prototype.toggleEffects=function(r,t){var e={on:ue.on,off:ue.S1},n=t?"on":"off";e[n](r,"dragenter",this.handleDragEnter),e[n](r,"dragover",this.handleDragOver),e[n](r,"drop",this.handleDrop),e[n](r,"dragleave",this.handleDragLeave)},s.prototype.__customTglEff=function(r){var t,e=r?ue.on:ue.S1,n=this.el.ownerDocument,i=(t=n.defaultView)===null||t===void 0?void 0:t.frameElement;this.sortOpts=r?{onStart:function(l){var f=l.sorter;(0,ue.on)(i,"pointermove",f.onMove)},onEnd:function(l){var f=l.sorter;(0,ue.S1)(i,"pointermove",f.onMove)},customTarget:function(l){var f=l.event;return n.elementFromPoint(f.clientX,f.clientY)}}:null,e(i,"pointerenter",this.handleDragEnter),e(i,"pointermove",this.handleDragOver),e(document,"pointerup",this.handleDrop),e(i,"pointerout",this.handleDragLeave)},s.prototype.startCustom=function(){this.__customTglEff(!0)},s.prototype.endCustom=function(r){this.over?this.endDrop(r):this.__customTglEff(!1)},s.prototype.endDrop=function(r,t){var e=this.em,n=this.dragStop;this.counter=0,n&&n(r||!this.over),this.__customTglEff(!1),e.trigger("canvas:dragend",t)},s.prototype.handleDragLeave=function(r){this.updateCounter(-1,r)},s.prototype.updateCounter=function(r,t){this.counter+=r,this.counter===0&&this.endDrop(!0,t)},s.prototype.handleDragEnter=function(r){var t=this,e=this.em,n=this.canvas,i=r.dataTransfer,l=e.get("dragContent");if((l||n.getConfig().allowExternalDrop)&&(this.updateCounter(1,r),!this.over)){this.over=!0;var f,d,x=e.Utils,b=l||"<br>";if(e.stopDefault(),e.inAbsoluteMode()){var G=e.Components.getWrapper(),nt=G.append({})[0],st=e.Commands.run("core:component-drag",{event:r,guidesInfo:1,center:1,target:nt,onEnd:function(bt,Et,Ot){var Zt;if(!Ot.cancelled){Zt=G.append(b)[0];var Qt=n.getOffset(),ve=nt.getStyle(),ye=ve.top,Re=ve.left,Be=ve.position,en=(0,ue.GX)(bt.target),mn=parseInt("".concat(parseFloat(Re)+en.x-Qt.left),10),zn=parseInt("".concat(parseFloat(ye)+en.y-Qt.top),10);Zt.addStyle({left:mn+"px",top:zn+"px",position:Be})}t.handleDragEnd(Zt,i),nt.remove()}});f=function(bt){return st.stop(r,{cancel:bt})},d=function(bt){return b=bt}}else{var pt=new x.Sorter(eo({em:e,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:n.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(bt){return t.handleDragEnd(bt,i)},document:this.el.ownerDocument},this.sortOpts||{}));pt.setDropContent(b),pt.startSort(),this.sorter=pt,f=function(bt){bt&&(pt.moved=!1),pt.endMove()},d=function(bt){return pt.setDropContent(bt)}}this.dragStop=f,this.dragContent=d,e.trigger("canvas:dragenter",i,b)}},s.prototype.handleDragEnd=function(r,t){var e=this.em;this.over=!1,r&&(e.set("dragResult",r),e.trigger("canvas:drop",t,r)),e.runDefault({preserveSelected:1})},s.prototype.handleDragOver=function(r){r.preventDefault(),this.em.trigger("canvas:dragover",r)},s.prototype.handleDrop=function(r){r.preventDefault();var t=this.dragContent,e=r.dataTransfer,n=this.getContentByData(e).content;r.target.style.border="",n&&t&&t(n),this.endDrop(!n,r)},s.prototype.getContentByData=function(r){var t=this.em,e=r&&r.types,n=r&&r.files||[],i=t.get("dragContent"),l=r&&r.getData("text");if(n.length){l=[];for(var f=0;f<n.length;f++){var d=n[f],x=d.type.split("/")[0];x=="image"&&l.push({type:x,file:d,attributes:{alt:d.name}})}}else if(i)l=i;else if((0,E.indexOf)(e,"text/html")>=0)l=r&&r.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,E.indexOf)(e,"text/uri-list")>=0)l={type:"link",attributes:{href:l},content:l};else if((0,E.indexOf)(e,"text/json")>=0){var b=r&&r.getData("text/json");b&&(l=JSON.parse(b))}else e.length===1&&e[0]==="text/plain"&&(l="<div>".concat(l,"</div>"));var G={content:l};return t.trigger("canvas:dragdata",r,G),G},s}();const es=Jn;var Io=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xn=function(){return xn=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},xn.apply(this,arguments)},Qn=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},tr=function(s){function r(t,e){var n=s.call(this,{model:t})||this;n.dragging=!1,n.loaded=!1,n.lastMaxHeight=0,n.tools={},(0,E.bindAll)(n,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var i=n.el;n.module._config=xn(xn({},n.config||{}),{frameView:n}),n.frameWrapView=e,n.showGlobalTools=(0,E.debounce)(n.showGlobalTools.bind(n),50);var l=n.getCanvasModel();return n.listenTo(t,"change:head",n.updateHead),n.listenTo(l,"change:styles",n.renderStyles),t.view=n,(0,K.setViewEl)(i,n),n}return Io(r,s),Object.defineProperty(r.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),r.prototype.getBoxRect=function(){var t=this.el,e=this.module,n=e.getCanvasView(),i=e.getCoords(),l=t.getBoundingClientRect(),f=n.getCanvasOffset(),d=n.getViewportDelta(),x=e.getZoomMultiplier();return{x:(l.x-f.left-d.x-i.x)*x,y:(l.y-f.top-d.y-i.y)*x,width:l.width*x,height:l.height*x}},r.prototype.updateHead=function(){var t=this.model,e=this.getHead(),n=[],i=[],l=t.head,f=t.previous("head"),d=function(b){return b===void 0&&(b={}),Object.keys(b).sort().map(function(G){return"[".concat(G,'="').concat(b[G],'"]')}).join("")},x=function(b,G,nt){b.forEach(function(st){var pt=st.tag,bt=st.attributes;!G.some(function(Et){return Et.tag===pt&&d(Et.attributes)===d(bt)})&&nt.push(st)})};x(l,f,i),x(f,l,n),n.forEach(function(b){var G,nt=e.querySelector("".concat(b.tag).concat(d(b.attributes)));(G=nt==null?void 0:nt.parentNode)===null||G===void 0||G.removeChild(nt)}),(0,ue.SJ)(e,i)},r.prototype.getEl=function(){return this.el},r.prototype.getCanvasModel=function(){return this.em.Canvas.getModel()},r.prototype.getWindow=function(){return this.getEl().contentWindow},r.prototype.getDoc=function(){return this.getEl().contentDocument},r.prototype.getHead=function(){return this.getDoc().querySelector("head")},r.prototype.getBody=function(){return this.getDoc().querySelector("body")},r.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},r.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,ue.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},r.prototype.getToolsEl=function(){var t;return(t=this.frameWrapView)===null||t===void 0?void 0:t.elTools},r.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},r.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},r.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},r.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},r.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},r.prototype.getOffsetRect=function(){var t=this.el,e=this.getBody(),n=e.scrollTop,i=e.scrollLeft,l=t.offsetHeight,f=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:l,width:f,scrollTop:n,scrollLeft:i,scrollBottom:n+l,scrollRight:i+f}},r.prototype._getTool=function(t){var e=this.tools,n=this.getToolsEl();return e[t]||(e[t]=n.querySelector(t)),e[t]},r.prototype.remove=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._toggleEffects(!1),this.tools={},(t=this.wrapper)===null||t===void 0||t.remove(),sn.prototype.remove.apply(this,e),this},r.prototype.startAutoscroll=function(){var t=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){t._toggleAutoscrollFx(!0),requestAnimationFrame(t.autoscroll)},0)},r.prototype.autoscroll=function(){if(this.dragging){var t=this.lastClientY,e=this.em.Canvas,n=this.getWindow(),i=n.pageYOffset,l=t||0,f=e.getConfig().autoscrollLimit,d=this.getRect().height-f,x=i;l<f&&(x-=f-l),l>d&&(x+=l-d),!(0,E.isUndefined)(t)&&x!==i&&x>0&&x<this.lastMaxHeight&&(this.getGlobalToolsEl().style.opacity="0",this.showGlobalTools(),n.scrollTo(0,x),e.spots.refreshDbn()),requestAnimationFrame(this.autoscroll)}},r.prototype.updateClientY=function(t){t.preventDefault(),this.lastClientY=(0,ue.VB)(t).clientY*this.em.getZoomDecimal()},r.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},r.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},r.prototype._toggleAutoscrollFx=function(t){this.dragging=t;var e=this.getWindow(),n=t?"on":"off",i={on:ue.on,off:ue.S1};i[n](e,"mousemove dragover",this.updateClientY),i[n](e,"mouseup",this.stopAutoscroll)},r.prototype.render=function(){var t=this,e=t.$el,n=t.ppfx,i=t.em;return e.attr({class:"".concat(n,"frame")}),this.renderScripts(),i.trigger("frame:render",this),this},r.prototype.renderScripts=function(){var t=this,e=this,n=e.el,i=e.model,l=e.em,f="frame:load",d={el:n,model:i,view:this},x=this.getCanvasModel(),b=function(G){var nt;if(G.length>0){var st=G.shift(),pt=(0,ue.ut)("script",xn({type:"text/javascript"},(0,E.isString)(st)?{src:st}:st));pt.onerror=pt.onload=b.bind(null,G),(nt=n.contentDocument)===null||nt===void 0||nt.head.appendChild(pt)}else t.renderBody(),l&&l.trigger(f,d)};n.onload=function(){var G=t.config.frameContent;if(G){var nt=t.getDoc();nt.open(),nt.write(G),nt.close()}l&&l.trigger("".concat(f,":before"),d),b(Qn([],x.get("scripts"),!0))}},r.prototype.renderStyles=function(t){t===void 0&&(t={});var e=this.getHead(),n=this.getCanvasModel(),i=function(G){return G.map(function(nt){return{tag:"link",attributes:xn({rel:"stylesheet"},(0,E.isString)(nt)?{href:nt}:nt)}})},l=i(t.prev||n.previous("styles")),f=i(n.get("styles")),d=[],x=[],b=function(G,nt,st){G.forEach(function(pt){var bt=pt.attributes.href;!nt.some(function(Et){return Et.attributes.href===bt})&&st.push(pt)})};b(f,l,x),b(l,f,d),d.forEach(function(G){var nt,st=e.querySelector('link[href="'.concat(G.attributes.href,'"]'));(nt=st==null?void 0:st.parentNode)===null||nt===void 0||nt.removeChild(st)}),(0,ue.SJ)(e,x)},r.prototype.renderBody=function(){var t,e,n=this,i=this,l=i.config,f=i.em,d=i.model,x=i.ppfx,b=this.getDoc(),G=this.getBody(),nt=this.getWindow(),st=d.hasAutoHeight(),pt=f.config;nt._isEditor=!0,this.renderStyles({prev:[]}),(0,ue.R3)(G,`<style>
      `.concat(pt.baseCss||l.frameStyle||"",`

      `).concat(st?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(st?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(x,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(x,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(x,`selected-parent {
        outline: 2px solid `).concat("#ffca6f",` !important
      }

      .`).concat(x,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(x,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(x,`no-pointer {
        pointer-events: none;
      }

      .`).concat(x,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(x,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(x,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(x,`is__grabbing,
      .`).concat(x,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(pt.canvasCss||"",`
      `).concat(pt.protectedCss||"",`
    </style>`));var bt=d.root,Et=f.Components.getType("wrapper").view;this.wrapper=new Et({model:bt,config:xn(xn({},bt.config),{em:f,frameView:this})}).render(),(0,ue.R3)(G,(t=this.wrapper)===null||t===void 0?void 0:t.el),(0,ue.R3)(G,new Cr({collection:d.getStyles(),config:xn(xn({},f.Css.getConfig()),{frameView:this})}).render().el),(0,ue.R3)(G,this.getJsContainer()),(0,ue.on)(G,"click",function(Ot){var Zt;return Ot&&((Zt=Ot.target)===null||Zt===void 0?void 0:Zt.tagName)=="A"&&Ot.preventDefault()}),(0,ue.on)(G,"submit",function(Ot){return Ot&&Ot.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!l.infiniteCanvas}}].forEach(function(Ot){return Ot.event.split(" ").forEach(function(Zt){b.addEventListener(Zt,function(Qt){return n.el.dispatchEvent((0,ue.t3)(Qt,Ot.class))},Ot.opts)})}),this._toggleEffects(!0),(0,K.hasDnd)(f)&&(this.droppable=new es(f,(e=this.wrapper)===null||e===void 0?void 0:e.el)),this.loaded=!0,d.trigger("loaded")},r.prototype._toggleEffects=function(t){var e=t?ue.on:ue.S1,n=this.getWindow();n&&e(n,"".concat(ue.G1," resize"),this._emitUpdate)},r.prototype._emitUpdate=function(){this.model._emitUpdated()},r}(sn);const ns=tr;var dr=Lt(668),Bn=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sr=function(){return Sr=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Sr.apply(this,arguments)};const bn=function(s){function r(t,e){var n=s.call(this,{model:t})||this;return(0,E.bindAll)(n,"onScroll","frameLoaded","updateOffset","remove","startDrag"),Sr(Sr({},t.config),{frameWrapView:n}),n.cv=e,n.frame=new ns(t,n),n.classAnim="".concat(n.ppfx,"frame-wrapper--anim"),n.updateOffset=(0,E.debounce)(n.updateOffset.bind(n),0),n.updateSize=(0,E.debounce)(n.updateSize.bind(n),0),n.listenTo(t,"loaded",n.frameLoaded),n.listenTo(t,"change:x change:y",n.updatePos),n.listenTo(t,"change:width change:height",n.updateSize),n.listenTo(t,"destroy remove",n.remove),n.updatePos(),n.setupDragger(),n}return Bn(r,s),r.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},r.prototype.setupDragger=function(){var t,e,n,i=this,l=this.module,f=this.model,d=function(x){l.toggleFramesEvents(x)};this.dragger=new dr.Z({onStart:function(){var x=f.attributes,b=x.x,G=x.y;n=i.em.getZoomMultiplier(),t=b,e=G,d(!1)},onEnd:function(){return d(!0)},setPosition:function(x){f.set({x:t+x.x*n,y:e+x.y*n})}})},r.prototype.startDrag=function(t){var e;t&&((e=this.dragger)===null||e===void 0||e.start(t))},r.prototype.__clear=function(t){var e=this.frame;e&&e.remove(t),(0,ue.L_)(this.elTools)},r.prototype.remove=function(t){var e=this;return this.__clear(t),sn.prototype.remove.apply(this,t),["frame","dragger","cv","elTools"].forEach(function(n){return e[n]=0}),this},r.prototype.updateOffset=function(){var t,e=this,n=e.em,i=e.$el,l=e.frame;n&&!n.destroyed&&(n.runDefault({preserveSelected:1}),i.removeClass(this.classAnim),(t=l==null?void 0:l.model)===null||t===void 0||t._emitUpdated())},r.prototype.updatePos=function(t){var e=this.model,n=this.el,i=e.attributes,l=i.x,f=i.y,d=n.style;this.frame.rect=void 0,d.left=isNaN(l)?l:"".concat(l,"px"),d.top=isNaN(f)?f:"".concat(f,"px"),t&&this.updateOffset()},r.prototype.updateSize=function(){this.updateDim()},r.prototype.updateDim=function(){var t=this,e=t.em,n=t.el,i=t.$el,l=t.model,f=t.classAnim,d=t.frame;if(d){d.rect=void 0,i.addClass(f);var x=this.__handleSize(),b=x.noChanges,G=x.width,nt=x.height;((0,E.isNull)(G)||(0,E.isNull)(nt))&&l.set(Sr(Sr({},G?{}:{width:n.offsetWidth}),nt?{}:{height:n.offsetHeight}),{silent:1}),e.stopDefault({preserveSelected:1}),b?this.updateOffset():setTimeout(this.updateOffset,350)}},r.prototype.onScroll=function(){var t=this.frame;this.em.trigger("frame:scroll",{frame:t,body:t.getBody(),target:t.getWindow()})},r.prototype.frameLoaded=function(){var t=this.frame;this.config,t.getWindow().onscroll=this.onScroll,this.updateDim()},r.prototype.__handleSize=function(){var t,e,n="px",i=this.model,l=this.el.style,f=i.attributes,d=f.width,x=f.height,b=l.width||"",G=l.height||"",nt=d||"",st=x||"",pt=b==nt&&G==st,bt=(0,E.isNumber)(nt)?"".concat(nt).concat(n):nt,Et=(0,E.isNumber)(st)?"".concat(st).concat(n):st;if(l.width=bt,i.hasAutoHeight()){var Ot=this.frame.el;if(Ot.contentDocument){var Zt=Ot.contentDocument,Qt=new ResizeObserver(function(){l.height="".concat(Zt.body.scrollHeight,"px")});Qt.observe(Zt.body),(t=this.sizeObserver)===null||t===void 0||t.disconnect(),this.sizeObserver=Qt}}else l.height=Et,(e=this.sizeObserver)===null||e===void 0||e.disconnect(),delete this.sizeObserver;return{noChanges:pt,width:d,height:x,newW:nt,newH:st}},r.prototype.render=function(){var t=this,e=t.frame,n=t.$el,i=t.ppfx,l=t.cv,f=t.model,d=t.el,x=f.attributes.onRender;this.__clear(),this.__handleSize(),e.render(),n.empty().attr({class:"".concat(i,"frame-wrapper")}).append(`
      <div class="`.concat(i,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(i,`frame-wrapper__name" data-action-move>
          `).concat(f.get("name")||"",`
        </div>
        <div class="`).concat(i,`frame-wrapper__top-r">
          <div class="`).concat(i,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(i,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(i,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(i,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(e.el);var b=(0,ue.ut)("div",{class:"".concat(i,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(i,`highlighter" data-hl></div>
      <div class="`).concat(i,`badge" data-badge></div>
      <div class="`).concat(i,`placeholder">
        <div class="`).concat(i,`placeholder-int"></div>
      </div>
      <div class="`).concat(i,`ghost"></div>
      <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(i,`resizer"></div>
      <div class="`).concat(i,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(i,`offset-fixed-v"></div>
    `));this.elTools=b;var G=l==null?void 0:l.toolsWrapper;return G&&G.appendChild(b),x&&x({el:d,elTop:d.querySelector("[data-frame-top]"),elRight:d.querySelector("[data-frame-right]"),elBottom:d.querySelector("[data-frame-bottom]"),elLeft:d.querySelector("[data-frame-left]"),frame:f,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},r}(sn);var je=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ir=function(s){function r(t,e){t===void 0&&(t={});var n=s.call(this,t,!0)||this;return n.listenTo(n.collection,"reset",n.render),n.canvasView=e.canvasView,n._module=e.module,n}return je(r,s),r.prototype.onRemoveBefore=function(t,e){e===void 0&&(e={}),t.forEach(function(n){return n.remove(e)})},r.prototype.onRender=function(){var t=this.$el,e=this.ppfx;t.attr({class:"".concat(e,"frames")})},r.prototype.clearItems=function(){(this.viewCollection||[]).forEach(function(t){return t.remove()}),this.viewCollection=[]},r.prototype.renderView=function(t,e){return new bn(t,this.canvasView)},r}(Gr);const xo=Ir;var Un=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rn=function(){return rn=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},rn.apply(this,arguments)},no=function(s){function r(t){var e=s.call(this,{model:t})||this;e.ready=!1,(0,E.bindAll)(e,"clearOff","onKeyPress","onWheel","onPointer");var n=e,i=n.em,l=n.pfx,f=n.ppfx,d=e.module.events;return e.className="".concat(l,"canvas ").concat(f,"no-touch-actions").concat(i.config.customUI?"":" ".concat(l,"canvas-bg")),e.clsUnscale="".concat(l,"unscale"),e._initFrames(),e.listenTo(i,"change:canvasOffset",e.clearOff),e.listenTo(i,"component:selected",e.checkSelected),e.listenTo(i,"".concat(d.coords," ").concat(d.zoom),e.updateFrames),e.listenTo(t,"change:frames",e._onFramesUpdate),e.toggleListeners(!0),e}return Un(r,s),r.prototype.template=function(){var t=this.pfx;return`
      <div class="`.concat(t,`canvas__frames" data-frames>
        <div class="`).concat(t,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(t,'tools" class="').concat(t,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},r.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},r.prototype._initFrames=function(){var t=this,e=t.frames,n=t.model,i=t.config,l=t.em,f=n.frames;l.set("readyCanvas",0),f.once("loaded:all",function(){return l.set("readyCanvas",1)}),e==null||e.remove(),this.frames=new xo({collection:f},rn(rn({},i),{canvasView:this}))},r.prototype.checkSelected=function(t,e){var n;e===void 0&&(e={});var i=e.scroll,l=this.em.getCurrentFrame();i&&((n=t.views)===null||n===void 0||n.forEach(function(f){f.frameView===l&&f.scrollIntoView(i)}))},r.prototype.remove=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.frames)===null||t===void 0||t.remove(),this.frames=void 0,sn.prototype.remove.apply(this,e),this.toggleListeners(!1),this},r.prototype.preventDefault=function(t){var e;t&&(t.preventDefault(),(e=t._parentEvent)===null||e===void 0||e.preventDefault())},r.prototype.toggleListeners=function(t){var e=this.el,n=this.config,i=t?ue.on:ue.S1;i(document,"keypress",this.onKeyPress),i(window,"scroll resize",this.clearOff),i(e,"wheel",this.onWheel,{passive:!n.infiniteCanvas}),i(e,"pointermove",this.onPointer)},r.prototype.screenToWorld=function(t,e){var n=this.module,i=n.getCoords(),l=n.getZoomMultiplier(),f=this.getViewportDelta();return{x:(t-i.x-f.x)*l,y:(e-i.y-f.y)*l}},r.prototype.onPointer=function(t){if(this.config.infiniteCanvas){var e=this.getCanvasOffset(),n=(0,ue.GX)(),i={x:t.clientX-e.left+n.x,y:t.clientY-e.top+n.y};if(t._parentEvent){var l=t.target.getBoundingClientRect(),f=this.module.getZoomDecimal();i.x=l.left-e.left+n.x+t.clientX*f,i.y=l.top-e.top+n.y+t.clientY*f}this.model.set({pointerScreen:i,pointer:this.screenToWorld(i.x,i.y)})}},r.prototype.onKeyPress=function(t){var e=this.em;(0,ue.sN)(t)!==" "||e.getZoomDecimal()===1||e.Canvas.isInputFocused()||(this.preventDefault(t),e.Editor.runCommand("core:canvas-move"))},r.prototype.onWheel=function(t){var e=this.module;if(this.config.infiniteCanvas){this.preventDefault(t);var n=t.deltaX,i=t.deltaY,l=e.getZoomDecimal(),f=(0,ue.Vb)(t),d=e.getCoords();if(f){var x=l-i*l*.01;e.setZoom(100*x);var b=this.model.getPointerCoords(h.vA.Screen),G=this.getCanvasOffset(),nt=b.x-G.width/2,st=b.y-G.height/2,pt=x/l,bt=nt-(nt-d.x)*pt,Et=st-(st-d.y)*pt;e.setCoords(bt,Et)}else this.onPointer(t),e.setCoords(d.x-n,d.y-i)}},r.prototype.updateFrames=function(t){var e=this.em,n=this.toolsWrapper,i={preserveSelected:1};this.updateFramesArea(),this.clearOff(),n.style.display="none",e.trigger("canvas:update",t),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){e.stopDefault(i),e.runDefault(i),n.style.display=""},300)},r.prototype.updateFramesArea=function(){var t=this,e=t.framesArea,n=t.model,i=t.module,l=t.cvStyle,f=t.clsUnscale,d=i.getZoomMultiplier();if(e){var x=n.attributes,b=x.x,G=x.y,nt=i.getZoomDecimal();e.style.transform="scale(".concat(nt,") translate(").concat(b*d,"px, ").concat(G*d,"px)")}l&&(l.innerHTML=`
        .`.concat(f," { scale: ").concat(d,` }
      `))},r.prototype.fitViewport=function(t){var e,n;t===void 0&&(t={});var i=this,l=i.em,f=i.module,d=i.model,x=this.getCanvasOffset(),b=t.el,G=b&&((e=(0,K.getComponentView)(b))===null||e===void 0?void 0:e.frameView),nt=G?G.model:t.frame||l.getCurrentFrameModel()||d.frames.at(0),st=nt.attributes,pt=st.x,bt=st.y,Et={x:pt??0,y:bt??0,width:nt.width,height:nt.height};if(b){var Ot=this.getElBoxRect(b);Et.x=Et.x+Ot.x,Et.y=Et.y+Ot.y,Et.width=Ot.width,Et.height=Ot.height}var Zt=t.ignoreHeight,Qt=(n=t.gap)!==null&&n!==void 0?n:0,ve=(0,E.isNumber)(Qt),ye=ve?Qt:Qt.x,Re=ve?Qt:Qt.y,Be=Et.width+2*ye,en=Et.height+2*Re,mn=x.width,zn=x.height,_r=mn/Be,Ar=zn/en,ur=Zt?_r:Math.min(_r,Ar),jr=100*ur;f.setZoom(jr);var fo={x:(-Et.x+(nt.width>=mn?mn/2-Be/2:-ye)+ye)*ur,y:(-Et.y+zn/2-en/2+Re)*ur};if(Zt){var Mo=f.getZoomMultiplier(),Ji=(zn*Mo-zn)/2;fo.y=(-Et.y+Re)*ur-Ji/Mo}f.setCoords(fo.x,fo.y)},r.prototype.isElInViewport=function(t){var e=(0,K.getElement)(t),n=(0,ue.Ut)(e),i=this.getFrameOffset(e),l=n.top,f=n.left;return l>=0&&f>=0&&l<=i.height&&f<=i.width},r.prototype.offset=function(t,e){e===void 0&&(e={});var n=e.noScroll,i=(0,ue.Ut)(t),l=n?{x:0,y:0}:(0,ue.GX)(t);return{top:i.top+l.y,left:i.left+l.x,width:i.width,height:i.height}},r.prototype.getRectToScreen=function(t){var e,n,i,l,f=this.module.getZoomDecimal(),d=this.module.getCoords(),x=this.getViewportDelta();return{x:((e=t.x)!==null&&e!==void 0?e:0)*f+d.x+x.x||0,y:((n=t.y)!==null&&n!==void 0?n:0)*f+d.y+x.y||0,width:((i=t.width)!==null&&i!==void 0?i:0)*f,height:((l=t.height)!==null&&l!==void 0?l:0)*f}},r.prototype.getElBoxRect=function(t,e){var n,i,l;e===void 0&&(e={});var f=this.module,d=(0,ue.Ut)(t),x=d.width,b=d.height,G=d.left,nt=d.top,st=(n=(0,K.getComponentView)(t))===null||n===void 0?void 0:n.frameView,pt=st==null?void 0:st.getBoxRect(),bt=f.getZoomMultiplier(),Et=(i=pt==null?void 0:pt.x)!==null&&i!==void 0?i:0,Ot=(l=pt==null?void 0:pt.y)!==null&&l!==void 0?l:0,Zt=this.el,Qt=(0,ue.GX)(),ve={x:G+Et+(Zt.scrollLeft+Qt.x)*bt,y:nt+Ot+(Zt.scrollTop+Qt.y)*bt,width:x,height:b};return e.local&&(ve.x=G,ve.y=nt),e.toScreen?this.getRectToScreen(ve):ve},r.prototype.getViewportRect=function(t){t===void 0&&(t={});var e=this.getCanvasOffset(),n=e.top,i=e.left,l=e.width,f=e.height,d=this.module;if(t.toWorld){var x=d.getZoomMultiplier(),b=d.getCoords(),G=this.getViewportDelta();return{x:(-b.x-G.x||0)*x,y:(-b.y-G.y||0)*x,width:l*x,height:f*x}}return{x:i,y:n,width:l,height:f}},r.prototype.getViewportDelta=function(t){var e=this.module.getZoomMultiplier(),n=this.getCanvasOffset(),i=n.width,l=n.height;return{x:(i*e-i)/2/e,y:(l*e-l)/2/e}},r.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},r.prototype.getFrameOffset=function(t){var e;if(!this.frmOff||t){var n=(e=this.frame)===null||e===void 0?void 0:e.el,i=t==null?void 0:t.ownerDocument.defaultView,l=i?i.frameElement:n;this.frmOff=this.offset(l||n)}return this.frmOff},r.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},r.prototype.getElementPos=function(t,e){e===void 0&&(e={});var n=this.module.getZoomDecimal(),i=this.getFrameOffset(t),l=this.el,f=this.getCanvasOffset(),d=this.offset(t,e),x=e.avoidFrameOffset?0:i.top,b=e.avoidFrameOffset?0:i.left,G=e.avoidFrameZoom?d.top:d.top*n,nt=e.avoidFrameZoom?d.left:d.left*n;return{top:e.avoidFrameOffset?G:G+x-f.top+l.scrollTop,left:e.avoidFrameOffset?nt:nt+b-f.left+l.scrollLeft,height:e.avoidFrameZoom?d.height:d.height*n,width:e.avoidFrameZoom?d.width:d.width*n,zoom:n,rect:d}},r.prototype.getElementOffsets=function(t){if(!t||(0,ue.BM)(t))return{};var e={},n=window.getComputedStyle(t),i=this.module.getZoomDecimal();return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach(function(l){e[l]=parseFloat(n[l])*i}),e},r.prototype.getPosition=function(t){var e;t===void 0&&(t={});var n=(e=this.frame)===null||e===void 0?void 0:e.el.contentDocument;if(!n)return{top:0,left:0,width:0,height:0};var i=n.body,l=this.module.getZoomDecimal(),f=this.getFrameOffset(),d=this.getCanvasOffset(),x=t.noScroll;return{top:f.top+(x?0:i.scrollTop)*l-d.top,left:f.left+(x?0:i.scrollLeft)*l-d.left,width:d.width,height:d.height}},r.prototype.updateScript=function(t){var e=t.model,n=e.getId();if(!t.scriptContainer){t.scriptContainer=(0,ue.ut)("div",{"data-id":n});var i=this.getJsContainer();i==null||i.appendChild(t.scriptContainer)}t.el.id=n,t.scriptContainer.innerHTML="";var l=document.createElement("script"),f=e.getScriptString(),d=e.get("script-props")?f:`function(){
`.concat(f,`
;}`),x=JSON.stringify(e.__getScriptProps());l.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(n,`');
        if (!item) return;
        (`).concat(d,".bind(item))(").concat(x,`)
      }, 1);`),setTimeout(function(){var b=t.scriptContainer;b==null||b.appendChild(l)},0)},r.prototype.getJsContainer=function(t){var e=this.getFrameView(t);return e==null?void 0:e.getJsContainer()},r.prototype.getFrameView=function(t){return(t==null?void 0:t.frameView)||this.em.getCurrentFrame()},r.prototype._renderFrames=function(){if(this.ready){var t=this,e=t.model,n=t.frames,i=t.em,l=t.framesArea,f=e.frames;f.listenToLoad(),n.render();var d=f.at(0),x=d==null?void 0:d.view;i.setCurrentFrame(x),l==null||l.appendChild(n.el),this.frame=x,this.updateFramesArea()}},r.prototype.renderFrames=function(){this._renderFrames()},r.prototype.render=function(){var t=this,e=t.el,n=t.$el,i=t.ppfx,l=t.config,f=t.em;n.html(this.template());var d=n.find("[data-frames]");this.framesArea=d.get(0);var x=n.find("[data-tools]");return this.toolsWrapper=x.get(0),x.append(`
      <div class="`.concat(i,"tools ").concat(i,`tools-gl" style="pointer-events:none">
        <div class="`).concat(i,`placeholder">
          <div class="`).concat(i,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(i,`tools" style="pointer-events:none">
        `).concat(l.extHl?'<div class="'.concat(i,'highlighter-sel"></div>'):"",`
        <div class="`).concat(i,`badge"></div>
        <div class="`).concat(i,`ghost"></div>
        <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(i,`resizer"></div>
        <div class="`).concat(i,`offset-v"></div>
        <div class="`).concat(i,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=e.querySelector("#".concat(i,"tools")),this.hlEl=e.querySelector(".".concat(i,"highlighter")),this.badgeEl=e.querySelector(".".concat(i,"badge")),this.placerEl=e.querySelector(".".concat(i,"placeholder")),this.ghostEl=e.querySelector(".".concat(i,"ghost")),this.toolbarEl=e.querySelector(".".concat(i,"toolbar")),this.resizerEl=e.querySelector(".".concat(i,"resizer")),this.offsetEl=e.querySelector(".".concat(i,"offset-v")),this.fixedOffsetEl=e.querySelector(".".concat(i,"offset-fixed-v")),this.toolsGlobEl=e.querySelector(".".concat(i,"tools-gl")),this.spotsEl=e.querySelector("[data-spots]"),this.cvStyle=e.querySelector("[data-canvas-style]"),this.el.className=(0,K.getUiClass)(f,this.className),this.ready=!0,this._renderFrames(),this},r}(sn);const go=no;var at=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ut=function(){return ut=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},ut.apply(this,arguments)},Wt=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},_e=function(s){function r(t){var e=s.call(this,t,"Canvas",D)||this;return e.events=En,e.framesById={},e.canvas=new tn(e),e.spots=new Wr(e),e.model=e.canvas,e.startAutoscroll=e.startAutoscroll.bind(e),e.stopAutoscroll=e.stopAutoscroll.bind(e),e}return at(r,s),r.prototype.getCanvasView=function(){return this.canvasView},r.prototype.postLoad=function(){this.model.init()},r.prototype.getModel=function(){return this.canvas},r.prototype.getElement=function(){return this.getCanvasView().el},r.prototype.getFrame=function(t){return this.getFrames()[t||0]},r.prototype.getFrameEl=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.el},r.prototype.getFramesEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.framesArea},r.prototype.getWindow=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.getWindow()},r.prototype.getDocument=function(){var t=this.getFrameEl();return t==null?void 0:t.contentDocument},r.prototype.getBody=function(){var t=this.getDocument();return t==null?void 0:t.body},r.prototype._getLocalEl=function(t,e,n){var i=t,l=e==null?void 0:e.frameView;return i=l?l[n]():i},r.prototype.getGlobalToolsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.toolsGlobEl},r.prototype.getToolsEl=function(t){return this._getLocalEl(this.getCanvasView().toolsEl,t,"getToolsEl")},r.prototype.getHighlighter=function(t){return this._getLocalEl(this.getCanvasView().hlEl,t,"getHighlighter")},r.prototype.getBadgeEl=function(t){return this._getLocalEl(this.getCanvasView().badgeEl,t,"getBadgeEl")},r.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},r.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},r.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},r.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},r.prototype.getOffsetViewerEl=function(t){return this._getLocalEl(this.getCanvasView().offsetEl,t,"getOffsetViewerEl")},r.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},r.prototype.getSpotsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.spotsEl},r.prototype.render=function(){var t;return(t=this.canvasView)===null||t===void 0||t.remove(),this.canvasView=new go(this.canvas),this.canvasView.render().el},r.prototype.getOffset=function(){var t=this.offset(this.getFrameEl()),e=this.offset(this.getElement());return{top:t.top-e.top,left:t.left-e.left}},r.prototype.offset=function(t){return this.getCanvasView().offset(t)},r.prototype.setCustomBadgeLabel=function(t){this.config.customBadgeLabel=t},r.prototype.getElementPos=function(t,e){return this.getCanvasView().getElementPos(t,e)},r.prototype.getElementOffsets=function(t){return this.getCanvasView().getElementOffsets(t)},r.prototype.getRect=function(){var t,e=(t=this.getCanvasView().getPosition())!==null&&t!==void 0?t:{},n=e.top,i=n===void 0?0:n,l=e.left,f=l===void 0?0:l;return ut(ut({},this.getCanvasView().getCanvasOffset()),{topScroll:i,leftScroll:f})},r.prototype.getTargetToElementDim=function(t,e,n){n===void 0&&(n={});var i=n||{},l=this.getCanvasView().getPosition();if(l){var f=i.elPos||this.getCanvasView().getElementPos(e),d=n.toRight||0,x=i.targetHeight||t.offsetHeight,b=i.targetWidth||t.offsetWidth,G=i.event||null,nt=f.top-x,st=f.left;st+=d?f.width:0;var pt=(st=d?st-b:st)<l.left?l.left:st,bt=nt<l.top?l.top:nt,Et={top:bt=bt>f.top+f.height?f.top+f.height:bt,left:pt,elementTop:f.top,elementLeft:f.left,elementWidth:f.width,elementHeight:f.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:l.top,canvasLeft:l.left,canvasWidth:l.width,canvasHeight:l.height};return G&&this.em&&this.em.trigger(G,Et),Et}},r.prototype.canvasRectOffset=function(t,e,n){var i=this;n===void 0&&(n={});var l=function(f,d,x){d===void 0&&(d=1);var b=i.em.getZoomDecimal(),G=d?"top":"left",nt=f.ownerDocument,st=n.offset?function(en){var mn=en.defaultView;return mn==null?void 0:mn.frameElement}(nt):{},pt=st.offsetTop,bt=pt===void 0?0:pt,Et=st.offsetLeft,Ot=Et===void 0?0:Et,Zt=nt.body||{},Qt=Zt.scrollTop,ve=Qt===void 0?0:Qt,ye=Zt.scrollLeft,Re=d?ve:ye===void 0?0:ye,Be=d?bt:Ot;return x[G]-(Re-Be)*b};return{top:l(t,1,e),left:l(t,0,e)}},r.prototype.getTargetToElementFixed=function(t,e,n){n===void 0&&(n={});var i=n.pos||this.getElementPos(t,{noScroll:!0}),l=n.canvasOff||this.canvasRectOffset(t,i),f=e.offsetHeight||0,d=e.offsetWidth||0,x=i.left+i.width,b=this.getCanvasView(),G=b.getPosition(),nt=b.getFrameOffset(t),st=n.event,pt=-f,bt=(0,E.isUndefined)(n.left)?i.width-d:n.left;if(bt=i.left<-bt?-i.left:bt,bt=x>G.width?bt-(x-G.width):bt,l.top<f){var Et=i.height+f;Et<nt.height?pt+=Et:pt=-l.top<i.height?-l.top:i.height}var Ot={top:pt,left:bt,canvasOffsetTop:l.top,canvasOffsetLeft:l.left,elRect:i,canvasOffset:l,canvasRect:G,targetWidth:d,targetHeight:f};return st&&this.em.trigger(st,Ot),Ot},r.prototype.getMouseRelativePos=function(t,e){e===void 0&&(e={});var n=0,i=0,l=e.subWinOffset,f=t.target.ownerDocument,d=f.defaultView||f.parentWindow,x=d.frameElement,b=l?d.pageYOffset:0,G=l?d.pageXOffset:0;if(x){var nt=x.getBoundingClientRect();n=nt.top||0,i=nt.left||0}return{y:t.clientY+n-b,x:t.clientX+i-G}},r.prototype.getMouseRelativeCanvas=function(t,e){var n,i=this.getZoomDecimal(),l=(n=this.getCanvasView().getPosition(e))!==null&&n!==void 0?n:{},f=l.top,d=f===void 0?0:f,x=l.left,b=x===void 0?0:x;return{y:t.clientY*i+d,x:t.clientX*i+b}},r.prototype.hasFocus=function(){return this.getDocument().hasFocus()},r.prototype.isInputFocused=function(){var t=this.getDocument(),e=this.getFrameEl(),n=Wt(["body"],this.config.notTextable,!0),i=e&&document.activeElement===e?t&&t.activeElement:document.activeElement;return i&&!n.some(function(l){return i.matches(l)})},r.prototype.scrollTo=function(t,e){e===void 0&&(e={});var n=(0,K.getElement)(t),i=n&&(0,K.getViewEl)(n);i&&i.scrollIntoView(e)},r.prototype.startAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.startAutoscroll()},r.prototype.stopAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.stopAutoscroll()},r.prototype.setZoom=function(t){return this.canvas.set("zoom",typeof t=="string"?parseFloat(t):t),this},r.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},r.prototype.setCoords=function(t,e,n){var i;n===void 0&&(n={});var l=t||t===0,f=e||e===0,d={x:this.canvas.get("x"),y:this.canvas.get("y")};if(l&&(d.x=parseFloat("".concat(t))),f&&(d.y=parseFloat("".concat(e))),n.toWorld){var x=(i=this.canvasView)===null||i===void 0?void 0:i.getViewportDelta();x&&(l&&(d.x=d.x-x.x),f&&(d.y=d.y-x.y))}return this.canvas.set(d),this},r.prototype.getCoords=function(){var t=this.canvas.attributes;return{x:t.x,y:t.y}},r.prototype.getPointer=function(t){var e=this.canvas.attributes,n=e.pointer,i=e.pointerScreen;return t?i:n},r.prototype.getZoomDecimal=function(){return this.getZoom()/100},r.prototype.getZoomMultiplier=function(){var t=this.getZoomDecimal();return t?1/t:1},r.prototype.fitViewport=function(t){var e;(e=this.canvasView)===null||e===void 0||e.fitViewport(t)},r.prototype.toggleFramesEvents=function(t){this.getFramesEl().style.pointerEvents=t?"":"none"},r.prototype.getFrames=function(){return this.canvas.frames.map(function(t){return t})},r.prototype.addFrame=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.canvas.frames.add(new Gt(this,ut({},t)),e)},r.prototype.getLastDragResult=function(){return this.em.get("dragResult")},r.prototype.addSpot=function(t,e){var n;e===void 0&&(e={});var i=t,l=this.getSpots(i);if(l.length){var f=l[0];return f.set(i),f}var d=i.componentView||((n=i.component)===null||n===void 0?void 0:n.view),x=new Ke.Z(this,ut(ut({},i),{id:i.id||"cs_".concat(i.type,"_").concat(d==null?void 0:d.cid),type:i.type||""}));return this.spots.add(x,e),x},r.prototype.getSpots=function(t){return t===void 0&&(t={}),this.spots.where(t.id?{id:t.id}:t)},r.prototype.removeSpots=function(t){t===void 0&&(t={});var e=(0,E.isArray)(t)?t:this.getSpots(t);return this.spots.remove(e)},r.prototype.hasCustomSpot=function(t){var e=this.config.customSpots;return!!(e===!0||e&&t&&e[t])},r.prototype.getWorldRectToScreen=function(t){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.getRectToScreen(t)},r.prototype.refreshSpots=function(){this.spots.refresh()},r.prototype.destroy=function(){var t,e=this;this.canvas.stopListening(),(t=this.canvasView)===null||t===void 0||t.remove(),["model","droppable"].forEach(function(n){return e[n]={}})},r}(k);const Te=_e,Qe={stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var an="text/html",Fn=an,Pe=function(){return Pe=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Pe.apply(this,arguments)},Vl="data-gjs-",rs="parse:html";const Ko=function(s,r){return r===void 0&&(r={}),{compTypes:"",modelAttrStart:Vl,getPropAttribute:function(t,e){var n=t.replace(this.modelAttrStart,""),i=(e==null?void 0:e.length)||0,l=e==null?void 0:e.substring(0,1),f=e==null?void 0:e.substring(i-1),d=e==="true"||e!=="false"&&e;try{d=l=="{"&&f=="}"||l=="["&&f=="]"?JSON.parse(d):d}catch{}return{name:n,value:d}},splitPropsFromAttr:function(t){var e=this;t===void 0&&(t={});var n={},i={};return(0,E.each)(t,function(l,f){if(f.indexOf(e.modelAttrStart)===0){var d=e.getPropAttribute(f,l);n[d.name]=d.value}else i[f]=l}),{props:n,attrs:i}},parseStyle:function(t){for(var e={};t.indexOf("/*")>=0;){var n=t.indexOf("/*"),i=t.indexOf("*/")+2;t=t.replace(t.slice(n,i),"")}for(var l=t.split(";"),f=0,d=l.length;f<d;f++){var x=l[f].trim();if(x){var b=x.split(":"),G=b[0].trim(),nt=b.slice(1).join(":").trim();e[G]?((0,E.isArray)(e[G])||(e[G]=[e[G]]),e[G].push(nt)):e[G]=nt}}return e},parseClass:function(t){for(var e=[],n=t.split(" "),i=0,l=n.length;i<l;i++){var f=n[i].trim();f&&e.push(f)}return e},parseNode:function(t,e){e===void 0&&(e={});for(var n=[],i=t.childNodes,l=0,f=i.length;l<f;l++){var d=i[l],x=d.attributes||[],b=x.length,G=n[n.length-1],nt=d.childNodes.length,st=this.compTypes,pt={};if(st){var bt="",Et=d.getAttribute&&d.getAttribute("".concat(this.modelAttrStart,"type"));if(Et)pt={type:Et};else{for(var Ot=0;Ot<st.length;Ot++){var Zt=st[Ot];if(bt=Zt.model.isComponent(d,e)){typeof bt!="object"&&(bt={type:Zt.id});break}}pt=bt}}if(!pt.tagName){var Qt=d.tagName||"",ve=d.namespaceURI||"";pt.tagName=Qt&&ve==="http://www.w3.org/1999/xhtml"?Qt.toLowerCase():Qt}b&&(pt.attributes={});for(var ye=0;ye<b;ye++){var Re=x[ye].nodeName,Be=x[ye].nodeValue;if(Re=="style")pt.style=this.parseStyle(Be);else if(Re=="class")pt.classes=this.parseClass(Be);else{if(Re=="contenteditable")continue;if(Re.indexOf(this.modelAttrStart)===0){var en=this.getPropAttribute(Re,Be);pt[en.name]=en.value}else Be===""&&d[Re]===!0&&(Be=!0),pt.attributes[Re]=Be}}if(nt&&!pt.components){var mn=d.childNodes[0];nt===1&&mn.nodeType===3?(!pt.type&&(pt.type="text"),pt.components={type:"textnode",content:mn.nodeValue}):pt.components=this.parseNode(d,Pe(Pe({},e),{inSvg:e.inSvg||pt.type==="svg"}))}if(pt.type=="textnode"){if(G&&G.type=="textnode"){G.content+=pt.content;continue}if(!e.keepEmptyTextNodes){var zn=d.nodeValue;if(zn!=" "&&!zn.trim())continue}}nt||"".concat(d.outerHTML).slice(-2)!=="/>"||(pt.void=!0);var _r=pt.components;if(!pt.type&&_r){for(var Ar=1,ur=0,jr=0;jr<_r.length;jr++){var fo=_r[jr],Mo=fo.type;if(["text","textnode"].indexOf(Mo)<0&&r.textTags.indexOf(fo.tagName)<0){Ar=0;break}Mo=="textnode"&&(ur=1)}Ar&&ur&&(pt.type="text")}(pt.tagName||pt.type=="textnode")&&n.push(pt)}return n},parse:function(t,e,n){var i;n===void 0&&(n={});var l=(s==null?void 0:s.get("Config"))||{},f={html:[]},d=Pe(Pe({},r),n),x=Pe(Pe(Pe({},r.optionsHtml),{htmlType:((i=r.optionsHtml)===null||i===void 0?void 0:i.htmlType)||r.htmlType}),n),b=(0,E.isFunction)(d.parserHtml)?d.parserHtml(t,x):function(Zt,Qt){Qt===void 0&&(Qt={});var ve,ye=new DOMParser,Re=Qt.htmlType||Fn,Be=Re===an,en=Be?Zt:"<div>".concat(Zt,"</div>"),mn=ye.parseFromString(en,Re);if(Be){var zn=mn.head,_r=mn.body,Ar=zn.querySelectorAll("script");(0,E.each)(Ar,function(jr){return _r.appendChild(jr)});var ur=[];(0,E.each)(zn.children,function(jr){return ur.push(jr)}),(0,E.each)(ur,function(jr,fo){return _r.insertBefore(jr,_r.children[fo])}),ve=_r}else ve=mn.firstChild;return ve}(t,x),G=b.querySelectorAll("script"),nt=G.length;if(!((0,E.isUndefined)(l.allowScripts)?x.allowScripts:l.allowScripts))for(;nt--;)G[nt].parentNode.removeChild(G[nt]);if(x.allowUnsafeAttr||this.__clearUnsafeAttr(b),e){for(var st=b.querySelectorAll("style"),pt=st.length,bt="";pt--;)bt=st[pt].innerHTML+bt,st[pt].parentNode.removeChild(st[pt]);bt&&(f.css=e.parse(bt))}s&&s.trigger("".concat(rs,":root"),{input:t,root:b});var Et=this.parseNode(b,d),Ot=Et.length!==1||d.returnArray?Et:Et[0];return f.html=Ot,s&&s.trigger(rs,{input:t,output:f}),f},__clearUnsafeAttr:function(t){var e=this,n=t.attributes||[],i=t.childNodes||[],l=[];(0,E.each)(n,function(f){var d=f.nodeName||"";d.indexOf("on")===0&&l.push(d)}),l.map(function(f){return t.removeAttribute(f)}),(0,E.each)(i,function(f){return e.__clearUnsafeAttr(f)})}}};var Zr=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ro=function(){return ro=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},ro.apply(this,arguments)},Xo=Ko(),mo=function(s){return(0,E.isArray)(s)?s[s.length-1]:s};const er=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Zr(r,s),r.prototype.parseStyle=function(t){return Xo.parseStyle(t)},r.prototype.extendStyle=function(t){return ro(ro({},this.getStyle()),t)},r.prototype.getStyle=function(t){var e=this.get("style")||{},n=ro({},e);return t&&(0,E.isString)(t)?n[t]:n},r.prototype.setStyle=function(t,e){var n=this;t===void 0&&(t={}),e===void 0&&(e={}),(0,E.isString)(t)&&(t=this.parseStyle(t));var i=this.getStyle(e);e.partial||e.avoidStore?(e.avoidStore=!0,t.__p=!0):delete t.__p;var l=ro({},t),f=ro({},l);(0,E.keys)(f).forEach(function(x){f[x]===""&&delete f[x]}),this.set("style",f,e);var d=(0,K.shallowDiff)(i,l);return delete d.__p,(0,E.keys)(d).forEach(function(x){var b=n.em;e.noEvent||(n.trigger("change:style:".concat(x)),b&&(b.trigger("styleable:change",n,x,e),b.trigger("styleable:change:".concat(x),n,x,e)))}),l},r.prototype.addStyle=function(t,e,n){var i;e===void 0&&(e=""),n===void 0&&(n={}),typeof t=="string"?((i={})[t]=e,t=i):n=e||{},t=this.extendStyle(t),this.setStyle(t,n)},r.prototype.removeStyle=function(t){var e=this.getStyle();delete e[t],this.setStyle(e)},r.prototype.styleToString=function(t){t===void 0&&(t={});var e=[],n=this.getStyle(t),i=t.important,l=function(d){var x=(0,E.isArray)(i)?i.indexOf(d)>=0:i;if(d.substring(0,2)==="__")return"continue";var b=n[d];((0,E.isArray)(b)?b:[b]).forEach(function(G){var nt="".concat(G).concat(x?" !important":"");nt&&e.push("".concat(d,":").concat(nt,";"))})};for(var f in n)l(f);return e.join("")},r.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},r.prototype.getSelectorsString=function(t){return this.selectorsToString?this.selectorsToString(t):this.getSelectors().getFullString()},r}(h.Hn);var Co=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Or=function(){return Or=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Or.apply(this,arguments)},os=function(s,r){var t={};for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&r.indexOf(e)<0&&(t[e]=s[e]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(e=Object.getOwnPropertySymbols(s);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(s,e[n])&&(t[e[n]]=s[e[n]])}return t},Jo=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},So=function(s,r){return r===void 0&&(r=[]),s?(((0,E.isArray)(s)||(0,E.isFunction)(s.map)?s:[s]).map(function(t){r.push(t.getId()),So(t.components().models,r)}),r):[]},is=function(s,r,t){r===void 0&&(r={}),t===void 0&&(t={}),t.visitedCmps=t.visitedCmps||{};var e=t.visitedCmps;return((0,E.isArray)(s)?s:[s]).map(function(n){var i=n.attributes,l=i===void 0?{}:i,f=n.components,d=n.tagName,x=l.id,b=(l.draggable,os(l,["id","draggable"])),G=n;if(x&&(e[x]?(e[x].push(G),x=Sn.getNewId(r),G.attributes.id=x):(e[x]=[],r[x]&&(G=r[x],d&&G.set({tagName:d},Or(Or({},t),{silent:!0})),(0,E.keys)(b).length&&G.addAttributes(b,Or({},t))))),f){var nt=is(f,r);if((0,E.isFunction)(G.components)){var st=G.components();st.length>0&&st.reset(nt,t)}else G.components=nt}return G})},Wa=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Co(r,s),r.prototype.initialize=function(t,e){e===void 0&&(e={}),this.opt=e,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren);var n=e.em,i=e.config;this.config=i,this.em=n,this.domc=e.domc||(n==null?void 0:n.Components)},r.prototype.resetChildren=function(t,e){var n=this;e===void 0&&(e={});var i=this,l=e.previousModels||[],f=l.filter(function(b){return!t.get(b.cid)}),d=So(t),x=So(l).filter(function(b){return d.indexOf(b)>=0});e.keepIds=(e.keepIds||[]).concat(x),f.forEach(function(b){return n.removeChildren(b,i,e)}),t.each(function(b){return n.onAdd(b)})},r.prototype.resetFromString=function(t,e){var n,i;t===void 0&&(t=""),e===void 0&&(e={}),e.keepIds=So(this);var l=this,f=l.domc,d=l.em,x=l.parent,b=d==null?void 0:d.Css,G=(f==null?void 0:f.allById())||{},nt=this.parseString(t,e),st=is(nt,G,e),pt=e.visitedCmps,bt=pt===void 0?{}:pt;Object.keys(bt).forEach(function(Et){var Ot=bt[Et];if(Ot.length){var Zt=(b==null?void 0:b.getRules("#".concat(Et)))||[];Zt.length&&Ot.forEach(function(Qt){Zt.forEach(function(ve){var ye=ve.clone();ye.set("selectors",["#".concat(Qt.attributes.id)]),b.getAll().add(ye)})})}}),this.reset(st,e),d==null||d.trigger("component:content",x,e,t),(i=(n=x).__checkInnerChilds)===null||i===void 0||i.call(n)},r.prototype.removeChildren=function(t,e,n){var i=this;if(n===void 0&&(n={}),t){var l=this.domc,f=this.em,d=n.temporary||n.fromUndo;if(t.prevColl=this,!d){var x=t.getId(),b=f.Selectors.getAll(),G=f.Css.getAll(),nt=(n.keepIds||[]).indexOf(x)<0;delete(l?l.allById():{})[x];var st=nt?G.remove(G.filter(function(bt){return bt.getSelectors().getFullString()==="#".concat(x)}),n):[];b.remove(st.map(function(bt){return bt.getSelectors().at(0)})),t.opt.temporary||(f.Commands.run("core:component-style-clear",{target:t}),t.removed(),t.trigger("removed"),f.trigger("component:remove",t)),t.components().forEach(function(bt){return i.removeChildren(bt,e,n)})}var pt=t.components();f.stopListening(pt),f.stopListening(t),f.stopListening(t.get("classes")),t.__postRemove()}},r.prototype.model=function(t,e){var n,i=e.collection.opt,l=i.em,f=l.Components.componentTypes;e.em=l,e.config=i.config,e.componentTypes=f,e.domc=i.domc;for(var d=0;d<f.length;d++)if(f[d].id==t.type){n=f[d].model;break}return n||(n=f[f.length-1].model,l&&t.type&&l.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:e})),new n(t,e)},r.prototype.parseString=function(t,e){e===void 0&&(e={});var n=this.em,i=this.domc,l=n.Css,f=n.Parser.parseHtml(t);if(Sn.checkId(f.html,f.css,i.componentsById,e),f.css&&l&&!e.temporary){e.at;var d=os(e,["at"]);l.addCollection(f.css,Or(Or({},d),{extend:1}))}return f.html},r.prototype.add=function(t,e){var n=this;e===void 0&&(e={}),e.keepIds=Jo(Jo([],e.keepIds||[],!0),So(e.previousModels),!0),(0,E.isString)(t)?t=this.parseString(t,e):(0,E.isArray)(t)&&(t=Jo([],t,!0)).forEach(function(f,d){if((0,E.isString)(f)){var x=n.parseString(f,e);t[d]=(0,E.isArray)(x)&&!x.length?null:x}});var i=(0,E.isArray)(t);t=(i?t:[t]).filter(Boolean).map(function(f){return n.processDef(f)}),t=i?(0,E.flatten)(t,1):t[0];var l=h.FE.prototype.add.apply(this,[t,e]);return this.__firstAdd=l,l},r.prototype.processDef=function(t){if(t.cid&&t.ccid)return t;var e=this.em,n=this.config,i=(n===void 0?{}:n).processor,l=t;if(i){var f=i(l=Or({},l));f&&((0,E.each)(l,function(st,pt){return delete l[pt]}),(0,E.extend)(l,f))}if(l.$$typeof&&typeof l.props=="object"){(l=Or({},l)).props=Or({},l.props);var d=e.Components,x=e.Parser.parserHtml;(0,E.each)(l,function(st,pt){(0,E.includes)(["props","type"],pt)||delete l[pt]});var b=l.props,G=b.children;delete b.children,delete l.props;var nt=x.splitPropsFromAttr(b);l.attributes=nt.attrs,G&&(l.components=G),l.type?d.getType(l.type)||(l.tagName=l.type,delete l.type):l.type="textnode",(0,E.extend)(l,nt.props)}return l},r.prototype.onAdd=function(t,e,n){n===void 0&&(n={});var i=this.domc,l=this.em,f=t.getStyle(),d=l&&l.getConfig().avoidInlineStyle;if(i&&i.Component.ensureInList(t),!(0,E.isEmpty)(f)&&!d&&l&&l.get&&l.getConfig().forceClass&&!n.temporary){var x=t.cid;l.Css.setClassRule(x,f),t.setStyle({}),t.addClass(x)}t.__postAdd({recursive:!0})},r}(h.FE);const Si=Wa;var Oi=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kr=1,ss=2,as=function(s){function r(t,e){e===void 0&&(e={});var n=s.call(this,t,e)||this,i=e.config,l=i===void 0?{}:i,f=n.get("name"),d=n.get("label");f?d||n.set("label",f):n.set("name",d);var x=n.get("name"),b=l.escapeName,G=b?b(x):r.escapeName(x);return n.set("name",G),n.em=e.em,n}return Oi(r,s),r.prototype.defaults=function(){return{name:"",label:"",type:kr,active:!0,private:!1,protected:!1,_undo:!0}},r.prototype.isId=function(){return this.get("type")===ss},r.prototype.isClass=function(){return this.get("type")===kr},r.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.escape,n=this.get("name"),i="";switch(this.get("type")){case kr:i=".";break;case ss:i="#"}return i+(e?e(n):n)},r.prototype.toString=function(){return this.getFullName()},r.prototype.getLabel=function(){return this.get("label")},r.prototype.setLabel=function(t){return this.set("label",t)},r.prototype.getActive=function(){return this.get("active")},r.prototype.setActive=function(t){return this.set("active",t)},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=this.em,n=h.Hn.prototype.toJSON.call(this,[t]),i=(0,E.result)(this,"defaults");if(e&&e.getConfig().avoidDefaults){(0,E.forEach)(i,function(f,d){n[d]===f&&delete n[d]}),n.label===n.name&&delete n.label;var l=(0,E.keys)(n).length;l===1&&n.name&&(n=n.name),l===2&&n.name&&n.type&&(n=this.getFullName())}return n},r.escapeName=function(t){return"".concat(t).trim().replace(/([^a-z0-9\w-\:@]+)/gi,"-")},r.TYPE_CLASS=kr,r.TYPE_ID=ss,r}(h.Hn);const Wn=as;as.prototype.idAttribute="name";var No=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ys=function(s,r){return s.reduce(function(t,e,n){return t.concat(Ys(s.slice(n+1),"".concat(r).concat(e)))},[r])},ki=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return No(r,s),r.prototype.modelId=function(t){return"".concat(t.name,"_").concat(t.type||Wn.TYPE_CLASS)},r.prototype.getStyleable=function(){return(0,E.filter)(this.models,function(t){return t.get("active")&&!t.get("private")})},r.prototype.getValid=function(t){var e=(t===void 0?{}:t).noDisabled;return(0,E.filter)(this.models,function(n){return!n.get("private")}).filter(function(n){return e?n.get("active"):1})},r.prototype.getFullString=function(t,e){e===void 0&&(e={});var n=[];return(t||this).forEach(function(i){return n.push(i.getFullName(e))}),e.sort&&n.sort(),n.join("").trim()},r.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.combination,n=t.array,i=[],l=this.map(function(f){return f.getFullName(t)}).sort();return e?l.forEach(function(f,d){i=i.concat(Ys(l.slice(d+1),f))}):i=l,n?i:e?i.join(","):i.join("")},r}(h.FE);const oo=ki;ki.prototype.model=Wn;var Ks=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ro=function(){return Ro=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Ro.apply(this,arguments)};const Fo=function(s){function r(t,e){var n=s.call(this,t)||this,i=n.attributes,l=i.target,f=i.name;return!n.get("id")&&n.set("id",f),l&&n.setTarget(l),n.em=e,n}return Ks(r,s),r.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",changeProp:!1,options:[]}},r.prototype.setTarget=function(t){if(t){var e=this.attributes,n=e.name,i=e.changeProp,l=e.value;this.target=t,this.unset("target");var f=i?"change:".concat(n):"change:attributes:".concat(n);this.listenTo(t,f,this.targetUpdated);var d=l||this.getValue();!(0,E.isUndefined)(d)&&this.set({value:d},{silent:!0})}},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(t){var e;t===void 0&&(t={});var n=t.locale,i=n===void 0||n,l=this.getId(),f=this.get("label")||this.getName();return i&&((e=this.em)===null||e===void 0?void 0:e.t("traitManager.traits.labels.".concat(l)))||f},r.prototype.getValue=function(){return this.getTargetValue()},r.prototype.setValue=function(t,e){var n,i=this;e===void 0&&(e={});var l={},f=this.get("setValue");f?f({value:t,editor:(n=this.em)===null||n===void 0?void 0:n.getEditor(),trait:this,component:this.target,partial:!!e.partial,emitUpdate:function(){return i.targetUpdated()}}):(e.partial&&(l.avoidStore=!0),this.setTargetValue(t,l),e.partial===!1&&(this.setTargetValue(""),this.setTargetValue(t)))},r.prototype.getDefault=function(){return this.get("default")},r.prototype.getOptions=function(){return this.get("options")||[]},r.prototype.getOption=function(t){var e=this,n=(0,K.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(i){return e.getOptionId(i)===n})[0]},r.prototype.getOptionId=function(t){return t.id||t.value},r.prototype.getOptionLabel=function(t,e){var n;e===void 0&&(e={});var i=e.locale,l=i===void 0||i,f=(0,E.isString)(t)?this.getOption(t):t,d=this.getOptionId(f),x=f.label||f.name||d,b=this.getName();return l&&((n=this.em)===null||n===void 0?void 0:n.t("traitManager.traits.options.".concat(b,".").concat(d)))||x},r.prototype.props=function(){return this.attributes},r.prototype.targetUpdated=function(){var t,e=this.getTargetValue();this.set({value:e},{fromTarget:1}),(t=this.em)===null||t===void 0||t.trigger("trait:update",{trait:this,component:this.target})},r.prototype.getTargetValue=function(){var t,e,n=this.getName(),i=this.target,l=this.get("getValue");return e=l?l({editor:(t=this.em)===null||t===void 0?void 0:t.getEditor(),trait:this,component:i}):this.get("changeProp")?i.get(n):i.getAttributes()[n],(0,E.isUndefined)(e)?"":e},r.prototype.setTargetValue=function(t,e){var n;e===void 0&&(e={});var i=this.target,l=this.attributes,f=this.getName();if(!(0,E.isUndefined)(t)){var d=t;if(t==="false"?d=!1:t==="true"&&(d=!0),this.getType()==="checkbox"){var x=l.valueTrue,b=l.valueFalse;d&&!(0,E.isUndefined)(x)&&(d=x),d||(0,E.isUndefined)(b)||(d=b)}this.get("changeProp")?i.set(f,d,e):i.addAttributes(((n={})[f]=d,n),e)}},r.prototype.setValueFromInput=function(t,e,n){e===void 0&&(e=!0),n===void 0&&(n={});var i={value:t};this.set(i,Ro(Ro({},n),{avoidStore:1})),e&&(this.set("value","",n),this.set(i,n))},r.prototype.getInitValue=function(){var t,e=this.target,n=this.getName();if(e){var i=e.get("attributes");t=this.get("changeProp")?e.get(n):i[n]}return t||this.get("value")||this.get("default")},r}(h.Hn);var $a=function(){function s(r){r===void 0&&(r={}),this.config=r}return s.prototype.build=function(r,t){return(0,E.isString)(r)?this.buildFromString(r,t):new Fo(r,t)},s.prototype.buildFromString=function(r,t){var e={name:r,type:"text"};return r==="target"&&(e.type="select",e.default=!1,e.options=this.config.optionsTarget),new Fo(e,t)},s}();const Qo=$a;var Xs=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const ir=function(s){function r(t,e){var n,i=s.call(this,t)||this;i.em=e.em,i.listenTo(i,"add",i.handleAdd),i.listenTo(i,"reset",i.handleReset);var l=(n=i.em)===null||n===void 0?void 0:n.Traits,f=l==null?void 0:l.getConfig();return i.tf=new Qo(f),i}return Xs(r,s),r.prototype.handleReset=function(t,e){var n=(e===void 0?{}:e).previousModels;(n===void 0?[]:n).forEach(function(i){return i.trigger("remove")})},r.prototype.handleAdd=function(t){t.em=this.em;var e=this.target;e&&(t.target=e)},r.prototype.setTarget=function(t){this.target=t,this.models.forEach(function(e){return e.setTarget(t)})},r.prototype.add=function(t,e){if(t!=null){var n=this.target,i=this.em;if((0,E.isArray)(t)){for(var l=[],f=0,d=t.length;f<d;f++){var x=t[f];l[f]=x instanceof Fo?x:this.tf.build(x,i),l[f].setTarget(n)}return s.prototype.add.call(this,l,e)}var b=t instanceof Fo?t:this.tf.build(t,i);return b.setTarget(n),s.prototype.add.call(this,b,e)}},r}(h.FE);var Nr=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xe=function(){return Xe=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Xe.apply(this,arguments)},Vn=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},ti=function(s){return s.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},sr=function(s){return!!(s!=null&&s.getConfig().avoidInlineStyle)},Vo="component:drag",Gn="__symbols",Cn="__symbol",hr="__symbol_ovrd",Ti="component:update",Oo="".concat(Ti,"-inside"),Js=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Nr(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){var t;return(t={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,locked:!1,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null})[Cn]=0,t[Gn]=0,t[hr]=0,t._undo=!0,t._undoexc=["status","open"],t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"content",{get:function(){var t;return(t=this.get("content"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.updated=function(t,e,n){},r.prototype.removed=function(){},r.prototype.initialize=function(t,e){var n=this;t===void 0&&(t={}),e===void 0&&(e={}),(0,E.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var i=e.em,l=this.parent(),f=l==null?void 0:l.attributes,d=this.get("propagate");if(d&&this.set("propagate",(0,E.isArray)(d)?d:[d]),f&&f.propagate&&!d){var x={},b=f.propagate;b.forEach(function(bt){return x[bt]=l.get(bt)}),x.propagate=b,this.set(Xe(Xe({},x),t))}if(e&&e.config&&e.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),e.em=i,this.opt=e,this.em=i,this.frame=e.frame,this.config=e.config||{},this.set("attributes",Xe(Xe({},(0,E.result)(this,"defaults").attributes||{}),this.get("attributes")||{})),this.ccid=r.createId(this,e),this.initClasses(),this.initComponents(),this.initTraits(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.on("change",this.__onChange),this.on(Oo,this.__propToParent),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(bt){var Et="add remove ".concat(bt!=="components"?"change":"");n.listenTo(n.get(bt),Et.trim(),function(){for(var Ot=[],Zt=0;Zt<arguments.length;Zt++)Ot[Zt]=arguments[Zt];return n.emitUpdate.apply(n,Vn([bt],Ot,!1))})}),!e.temporary){var G=i&&i.Css,nt=this.attributes,st=nt.styles,pt=nt.type;st&&G&&G.addCollection(st,{avoidUpdateStyle:!0},{group:"cmp:".concat(pt)}),this.__postAdd(),this.init(),this.__isSymbolOrInst()&&this.__initSymb(),i&&i.trigger("component:create",this)}},r.prototype.__postAdd=function(t){t===void 0&&(t={});var e=this.em,n=e==null?void 0:e.UndoManager,i=this.components();n&&!this.__hasUm&&(n.add(i),n.add(this.getSelectors()),this.__hasUm=!0),t.recursive&&i.map(function(l){return l.__postAdd(t)})},r.prototype.__postRemove=function(){var t=this.em,e=t==null?void 0:t.get("UndoManager");e&&(e.remove(this.components()),e.remove(this.getSelectors()),delete this.__hasUm)},r.prototype.__onChange=function(t,e){var n=this,i=this.changedAttributes()||{};(0,E.keys)(i).forEach(function(l){return n.emitUpdate(l)}),["status","open","toolbar","traits"].forEach(function(l){return delete i[l]}),(0,K.isEmptyObj)(i)||(this.__changesUp(e),this.__propSelfToParent({component:this,changed:i,options:e}))},r.prototype.__changesUp=function(t){var e=this.em;[this.frame,e].forEach(function(n){return n&&n.changesUp(t)})},r.prototype.__propSelfToParent=function(t){this.trigger(Ti,t),this.__propToParent(t)},r.prototype.__propToParent=function(t){var e=this.parent();e&&e.trigger(Oo,t)},r.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},r.prototype.is=function(t){return this.get("type")==t},r.prototype.props=function(){return this.attributes},r.prototype.index=function(){var t=this.collection;return t?t.indexOf(this):0},r.prototype.setDragMode=function(t){return this.set("dmode",t)},r.prototype.getDragMode=function(){return this.get("dmode")||""},r.prototype.find=function(t){var e,n=[],i=(e=this.view)===null||e===void 0?void 0:e.$el.find(t);return i==null||i.each(function(l){var f=i.eq(l).data("model");f&&n.push(f)}),n},r.prototype.findType=function(t){var e=[],n=function(i){return i.forEach(function(l){l.is(t)&&e.push(l),n(l.components())})};return n(this.components()),e},r.prototype.closest=function(t){var e,n=(e=this.view)===null||e===void 0?void 0:e.$el.closest(t);return n!=null&&n.length?n.data("model"):void 0},r.prototype.closestType=function(t){for(var e=this.parent();e&&!e.is(t);)e=e.parent();return e},r.prototype.contains=function(t){var e=!1;if(!t)return e;var n=function(i){!e&&i.forEach(function(l){l===t&&(e=!0),!e&&n(l.components())})};return n(this.components()),e},r.prototype.tagUpdated=function(){this.trigger("rerender")},r.prototype.replaceWith=function(t){var e=this.collection,n=e.indexOf(this);return e.remove(this),e.add(t,{at:n})},r.prototype.attrUpdated=function(t,e,n){var i=this;n===void 0&&(n={});var l=this.get("attributes"),f=l.class;f&&this.setClass(f),delete l.class;var d=l.style;d&&this.setStyle(d),delete l.style;var x=Xe({},this.previous("attributes")),b=(0,K.shallowDiff)(x,this.get("attributes"));(0,E.keys)(b).forEach(function(G){return i.trigger("change:attributes:".concat(G),i,b[G],n)})},r.prototype.setAttributes=function(t,e){return e===void 0&&(e={}),this.set("attributes",Xe({},t),e),this},r.prototype.addAttributes=function(t,e){return e===void 0&&(e={}),this.setAttributes(Xe(Xe({},this.getAttributes({noClass:!0})),t),e)},r.prototype.removeAttributes=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var n=Array.isArray(t)?t:[t],i=this.getAttributes();return n.map(function(l){return delete i[l]}),this.setAttributes(i,e)},r.prototype.getStyle=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n=this.em,i=(0,E.isString)(t)?t:"",l=i?e:t;if(sr(n)&&!l.inline){var f=n.get("state"),d=n.Css.getIdRule(this.getId(),Xe({state:f},l));if(this.rule=d,d)return d.getStyle(i)}return s.prototype.getStyle.call(this,i)},r.prototype.setStyle=function(t,e){var n=this;t===void 0&&(t={}),e===void 0&&(e={});var i=this.opt,l=this.em;if(!sr(l)||i.temporary||e.inline)t=s.prototype.setStyle.apply(this,arguments);else{var f=this.get("style")||{};t=(0,E.isString)(t)?this.parseStyle(t):t,t=Xe(Xe({},t),f);var d=l.get("state"),x=l.Css,b=this.getStyle(e);this.rule=x.setIdRule(this.getId(),t,Xe({state:d},e));var G=(0,K.shallowDiff)(b,t);this.set("style","",{silent:!0}),(0,E.keys)(G).forEach(function(nt){return n.trigger("change:style:".concat(nt))})}return t},r.prototype.getAttributes=function(t){t===void 0&&(t={});var e=this.em,n=[],i=Xe({},this.get("attributes")),l=e==null?void 0:e.Selectors,f=this.getId();if(t.noClass?delete i.class:(this.classes.forEach(function(b){return n.push((0,E.isString)(b)?b:b.get("name"))}),n.length&&(i.class=n.join(" "))),!t.noStyle){var d=this.get("style");(0,K.isObject)(d)&&!(0,K.isEmptyObj)(d)&&(i.style=this.styleToString({inline:1}))}if(!(0,E.has)(i,"id")){var x=!1;!sr(e)&&(0,E.isEmpty)(this.getStyle())||(x=!!(l!=null&&l.get(f,l.Selector.TYPE_ID))),(this.__getSymbol()||this.__getSymbols())&&(x=!0),x&&(i.id=f)}return i},r.prototype.addClass=function(t){var e=this.em.Selectors.addClass(t);return this.classes.add(e)},r.prototype.setClass=function(t){return this.classes.reset(),this.addClass(t)},r.prototype.removeClass=function(t){var e=[];t=(0,E.isArray)(t)?t:[t];var n=this.classes,i=Wn.TYPE_CLASS;return t.forEach(function(l){l.split(" ").forEach(function(f){var d=n.where({name:f,type:i})[0];d&&e.push(n.remove(d))})}),e},r.prototype.getClasses=function(){var t=this.getAttributes().class;return t?t.split(" "):[]},r.prototype.__logSymbol=function(t,e,n){n===void 0&&(n={});var i=this.__getSymbol(),l=this.__getSymbols();(i||l)&&this.em.log(t,{model:this,toUp:e,context:"symbols",opts:n})},r.prototype.__initSymb=function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=!0)},r.prototype.__isSymbol=function(){return(0,E.isArray)(this.get(Gn))},r.prototype.__isSymbolOrInst=function(){return!(!this.__isSymbol()&&!this.get(Cn))},r.prototype.__isSymbolTop=function(){var t=this.parent();return this.__isSymbolOrInst()&&(!t||t&&!t.__isSymbol()&&!t.__getSymbol())},r.prototype.__isSymbolNested=function(){if(!this.__isSymbolOrInst()||this.__isSymbolTop())return!1;var t=(this.__isSymbol()?this:this.__getSymbol()).__getSymbTop(),e=this.__getSymbTop();return(e.__isSymbol()?e:e.__getSymbol())!==t},r.prototype.__getAllById=function(){var t=this.em;return t?t.Components.allById():{}},r.prototype.__getSymbol=function(){var t=this.get(Cn);if(t&&(0,E.isString)(t)){var e=this.__getAllById()[t];e?(t=e,this.set(Cn,e)):t=0}return t},r.prototype.__getSymbols=function(){var t=this,e=this.get(Gn);return e&&(0,E.isArray)(e)&&(e.forEach(function(n,i){n&&(0,E.isString)(n)&&(e[i]=t.__getAllById()[n])}),e=e.filter(function(n){return n&&!(0,E.isString)(n)})),e},r.prototype.__isSymbOvrd=function(t){t===void 0&&(t="");var e=this.get(hr),n=t.split(":")[0],i=t!==n?[t,n]:[t];return e===!0||(0,E.isArray)(e)&&i.some(function(l){return e.indexOf(l)>=0})},r.prototype.__getSymbToUp=function(t){var e=this;t===void 0&&(t={});var n=[],i=t.changed;if(t.fromInstance||t.noPropagate||t.fromUndo||i&&this.__isSymbOvrd(i))return n;var l=this.__getSymbols()||[],f=this.__getSymbol();return n=(f?Vn([f],f.__getSymbols()||[],!0):l).filter(function(d){return d!==e}).filter(function(d){return!(i&&d.__isSymbOvrd(i))})},r.prototype.__getSymbTop=function(t){for(var e=this,n=this.parent(t);n&&(n.__isSymbol()||n.__getSymbol());)e=n,n=n.parent(t);return e},r.prototype.__upSymbProps=function(t,e){var n=this;e===void 0&&(e={});var i=this.changedAttributes()||{},l=i.attributes||{};if(delete i.status,delete i.open,delete i[Gn],delete i[Cn],delete i[hr],delete i.attributes,delete l.id,(0,K.isEmptyObj)(l)||(i.attributes=l),!(0,K.isEmptyObj)(i)){var f=this.__getSymbToUp(e);(0,E.keys)(i).map(function(d){n.__isSymbOvrd(d)&&delete i[d]}),this.__logSymbol("props",f,{opts:e,changed:i}),f.forEach(function(d){var x=Xe({},i);(0,E.keys)(x).map(function(b){d.__isSymbOvrd(b)&&delete x[b]}),d.set(x,Xe({fromInstance:n},e))})}},r.prototype.__upSymbCls=function(t,e,n){var i=this;n===void 0&&(n={});var l=this.__getSymbToUp(n);this.__logSymbol("classes",l,{opts:n}),l.forEach(function(f){f.set("classes",i.get("classes"),{fromInstance:i})}),this.__changesUp(n)},r.prototype.__upSymbComps=function(t,e,n){var i=this,l=n||e||{},f={fromInstance:l.fromInstance,fromUndo:l.fromUndo},d=t.opt.temporary;if(n)if(n.add){var x=[],b=!!this.__getSymbols();if((Qt=this.__getSymbToUp(Xe(Xe({},f),{changed:"components:add"}))).length){var G=t.__getSymbol();x=(G?G.__getSymbols():t.__getSymbols())||[],(x=Vn([],x,!0)).push(G||t)}!d&&this.__logSymbol("add",Qt,{opts:n,addedInstances:x.map(function(ye){return ye.cid}),added:t.cid}),Qt.forEach(function(ye){var Re=ye.__getSymbTop(),Be=x.filter(function(en){var mn=en.__getSymbTop({prev:1});return Re&&mn&&mn===Re})[0]||t.clone({symbol:!0,symbolInv:b});ye.append(Be,Xe({fromInstance:i},n))})}else{var nt=t.__getSymbol();if(nt&&!n.temporary&&nt.set(Gn,nt.__getSymbols().filter(function(ye){return ye!==t})),!t.__isSymbolTop()){var st="components:remove",pt=n.index,bt=t.parent(),Et=Xe({fromInstance:t},n),Ot=t.__isSymbolNested(),Zt=function(ye){var Re=ye.parent();Re&&!Re.__isSymbOvrd(st)&&ye.remove(Et)};Qt=bt!=null&&bt.__isSymbOvrd(st)?[]:t.__getSymbToUp(f),Ot&&(Qt=bt==null?void 0:bt.__getSymbToUp(Xe(Xe({},f),{changed:st})),Zt=function(ye){var Re=ye.components().at(pt);Re&&Re.remove(Xe({fromInstance:bt},Et))}),!d&&this.__logSymbol("remove",Qt,{opts:n,removed:t.cid,isSymbNested:Ot}),Qt.forEach(Zt)}}else{var Qt=this.__getSymbToUp(Xe(Xe({},f),{changed:"components:reset"})),ve=t.models;this.__logSymbol("reset",Qt,{components:ve}),Qt.forEach(function(ye){var Re=ve.map(function(Be){return Be.clone({symbol:!0})});ye.components().reset(Re,Xe({fromInstance:i},e))})}this.__changesUp(l)},r.prototype.initClasses=function(t,e,n){n===void 0&&(n={});var i=this.get("attributes").class||[],l=[this,"change:classes",this.initClasses],f=this.get("classes")||i,d=(0,E.isString)(f)?f.split(" "):f;this.stopListening.apply(this,l);var x=this.normalizeClasses(d),b=new oo([]);return this.set("classes",b,n),b.add(x),b.on("add remove reset",this.__upSymbCls),this.listenTo.apply(this,l),this},r.prototype.initComponents=function(){var t=[this,"change:components",this.initComponents];this.stopListening.apply(this,t);var e=new Si([],this.opt);e.parent=this;var n=this.get("components"),i=!this.opt.avoidChildren;return this.set("components",e),i&&n&&e.add((0,E.isFunction)(n)?n(this):n,this.opt),e.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,t),this},r.prototype.initTraits=function(t){var e=this.em,n="change:traits";this.off(n,this.initTraits),this.__loadTraits();var i=Xe({},this.get("attributes")),l=this.traits;return l.each(function(f){if(!f.get("changeProp")){var d=f.get("name"),x=f.getInitValue();d&&x&&(i[d]=x)}}),l.length&&this.set("attributes",i),this.on(n,this.initTraits),t&&e&&e.trigger("component:toggled"),this},r.prototype.initScriptProps=function(){if(!this.opt.temporary){var t="script-props",e=["change:".concat(t),this.initScriptProps];this.off.apply(this,e);var n=this.previous(t)||[],i=this.get(t)||[],l=n.map(function(d){return"change:".concat(d)}).join(" "),f=i.map(function(d){return"change:".concat(d)}).join(" ");l&&this.off(l,this.__scriptPropsChange),f&&this.on(f,this.__scriptPropsChange),this.on.apply(this,e)}},r.prototype.__scriptPropsChange=function(t,e,n){n===void 0&&(n={}),n.avoidStore||this.trigger("rerender")},r.prototype.append=function(t,e){e===void 0&&(e={});var n=((0,E.isArray)(t)?Vn([],t,!0):[t]).map(function(l){return(0,E.isString)(l)||l.collection&&l.collection.remove(l,{temporary:!0}),l}),i=this.components().add(n,e);return(0,E.isArray)(i)?i:[i]},r.prototype.components=function(t,e){e===void 0&&(e={});var n=this.get("components");return(0,E.isUndefined)(t)?n:(n.reset(void 0,e),t?this.append(t,e):[])},r.prototype.getChildAt=function(t){return this.components().at(t||0)||void 0},r.prototype.getLastChild=function(){var t=this.components();return t.at(t.length-1)||null},r.prototype.empty=function(t){return t===void 0&&(t={}),this.components().reset(void 0,t),this},r.prototype.parent=function(t){t===void 0&&(t={});var e=this.collection||t.prev&&this.prevColl;return e?e.parent:void 0},r.prototype.parents=function(){var t=this.parent();return t?[t].concat(t.parents()):[]},r.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},r.prototype.initToolbar=function(){var t=this.em,e=this,n=t&&t.getConfig().stylePrefix||"";if(!e.get("toolbar")&&t){var i=[];e.collection&&i.push({label:t.getIcon("arrowUp"),command:function(l){return l.runCommand("core:component-exit",{force:1})}}),e.get("draggable")&&i.push({attributes:{class:"".concat(n,"no-touch-actions"),draggable:!0},label:t.getIcon("move"),command:"tlb-move"}),e.get("copyable")&&i.push({label:t.getIcon("copy"),command:"tlb-clone"}),e.get("removable")&&i.push({label:t.getIcon("delete"),command:"tlb-delete"}),e.set("toolbar",i)}},r.prototype.__loadTraits=function(t,e){e===void 0&&(e={});var n=t||this.traits;if(!(n instanceof ir)){n=(0,E.isFunction)(n)?n(this):n;var i=new ir([],this.opt);i.setTarget(this),n.length&&(n.forEach(function(l){return l.attributes&&delete l.attributes.value}),i.add(n)),this.set({traits:i},e)}return this},r.prototype.getTraits=function(){return this.__loadTraits(),Vn([],this.traits.models,!0)},r.prototype.setTraits=function(t){var e=(0,E.isArray)(t)?t:[t];return this.set({traits:e}),this.getTraits()},r.prototype.getTrait=function(t){return this.getTraits().filter(function(e){return e.get("id")===t||e.get("name")===t})[0]||null},r.prototype.updateTrait=function(t,e){var n,i=this.getTrait(t);return i&&i.set(e),(n=this.em)===null||n===void 0||n.trigger("component:toggled"),this},r.prototype.getTraitIndex=function(t){var e=this.getTrait(t);return e?this.traits.indexOf(e):-1},r.prototype.removeTrait=function(t){var e,n=this,i=((0,E.isArray)(t)?t:[t]).map(function(d){return n.getTrait(d)}),l=this.traits,f=i.length?l.remove(i):[];return(e=this.em)===null||e===void 0||e.trigger("component:toggled"),(0,E.isArray)(f)?f:[f]},r.prototype.addTrait=function(t,e){var n;e===void 0&&(e={}),this.__loadTraits();var i=this.traits.add(t,e);return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,E.isArray)(i)?i:[i]},r.prototype.normalizeClasses=function(t){var e=[],n=this.em,i=n==null?void 0:n.Selectors;return i?t.models?Vn([],t.models,!0):(t.forEach(function(l){return e.push(i.add(l))}),e):[]},r.prototype.clone=function(t){t===void 0&&(t={});var e=this.em,n=Xe({},this.attributes),i=Xe({},this.opt),l=this.getId(),f=e==null?void 0:e.Css;n.attributes=Xe({},n.attributes),delete n.attributes.id,n.components=[],n.classes=[],n.traits=[],this.__isSymbolTop()&&(t.symbol=!0),this.get("components").each(function(st,pt){n.components[pt]=st.clone(Xe(Xe({},t),{_inner:1}))}),this.get("traits").each(function(st,pt){n.traits[pt]=st.clone()}),this.get("classes").each(function(st,pt){n.classes[pt]=st.get("name")}),n.status="",i.collection=null;var d=new this.constructor(n,i),x="#".concat(d.getId());(f?f.getRules("#".concat(l)):[]).forEach(function(st){var pt=st.clone();pt.set("selectors",[x]),f.getAll().add(pt)}),d.set(Gn,0);var b=this.__getSymbol(),G=this.__getSymbols();t.symbol||!b&&!G?b?(b.set(Gn,Vn(Vn([],b.__getSymbols(),!0),[d],!1)),d.__initSymb()):t.symbol&&(this.__isSymbol()?(this.set(Gn,Vn(Vn([],G,!0),[d],!1)),d.set(Cn,this),d.__initSymb()):t.symbolInv?(this.set(Gn,[d]),d.set(Cn,this),[this,d].map(function(st){return st.__initSymb()})):(d.set(Gn,[this]),[this,d].map(function(st){return st.__initSymb()}),this.set(Cn,d))):(d.set(Cn,0),d.set(Gn,0));var nt="component:clone";return e&&e.trigger(nt,d),this.trigger(nt,d),d},r.prototype.getName=function(t){t===void 0&&(t={});var e=this.em,n=this.attributes,i=n.type,l=n.tagName,f=n.name,d=i||l,x=i?"":l,b="domComponents.names.",G=f&&(e==null?void 0:e.t("".concat(b).concat(f))),nt=x&&(e==null?void 0:e.t("".concat(b).concat(x))),st=e&&(e.t("".concat(b).concat(i))||e.t("".concat(b).concat(l))),pt=this.get("custom-name");return(t.noCustom?"":pt)||G||f||nt||(0,K.capitalize)(x)||st||(0,K.capitalize)(d)},r.prototype.getIcon=function(){var t=this.get("icon");return t?t+" ":""},r.prototype.toHTML=function(t){t===void 0&&(t={});var e=this,n=[],i=t.tag||e.get("tagName"),l=e.get("void"),f=t.attributes,d=this.getAttrToHTML();if(delete t.tag,f&&((0,E.isFunction)(f)?d=f(e,d)||{}:(0,K.isObject)(f)&&(d=f)),t.withProps){var x=this.toJSON();(0,E.forEach)(x,function(Ot,Zt){Zt[0]!=="_"&&["classes","attributes","components"].indexOf(Zt)<0&&(d["data-gjs-".concat(Zt)]=(0,E.isArray)(Ot)||(0,K.isObject)(Ot)?JSON.stringify(Ot):Ot)})}for(var b in d){var G=d[b];if(!(0,E.isUndefined)(G)&&G!==null)if((0,E.isBoolean)(G))G&&n.push(b);else{var nt="";if(t.altQuoteAttr&&(0,E.isString)(G)&&G.indexOf('"')>=0)nt="'".concat(G.replace(/'/g,"&apos;"),"'");else{var st=(0,E.isString)(G)?G.replace(/"/g,"&quot;"):G;nt='"'.concat(st,'"')}n.push("".concat(b,"=").concat(nt))}}var pt=n.length?" ".concat(n.join(" ")):"",bt=e.getInnerHTML(t),Et="<".concat(i).concat(pt).concat(l?"/":"",">").concat(bt);return!l&&(Et+="</".concat(i,">")),Et},r.prototype.getInnerHTML=function(t){return this.__innerHTML(t)},r.prototype.__innerHTML=function(t){t===void 0&&(t={});var e=this.components();return e.length?e.map(function(n){return n.toHTML(t)}).join(""):this.content},r.prototype.getAttrToHTML=function(){var t=this.getAttributes();return sr(this.em)&&delete t.style,t},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=V.Model.prototype.toJSON.call(this,t);if(e.attributes=this.getAttributes(),delete e.attributes.class,delete e.toolbar,delete e.traits,delete e.status,delete e.open,delete e._undoexc,!t.fromUndo){var n=e[Cn],i=e[Gn];i&&(0,E.isArray)(i)&&(e[Gn]=i.filter(function(l){return l}).map(function(l){return l.getId?l.getId():l})),n&&!(0,E.isString)(n)&&(e[Cn]=n.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(e),e},r.prototype.getChangedProps=function(t){var e=t||V.Model.prototype.toJSON.apply(this),n=(0,E.result)(this,"defaults");return(0,E.forEach)(n,function(i,l){["type"].indexOf(l)===-1&&e[l]===i&&delete e[l]}),(0,E.isEmpty)(e.type)&&delete e.type,(0,E.forEach)(["attributes","style"],function(i){(0,E.isEmpty)(n[i])&&(0,E.isEmpty)(e[i])&&delete e[i]}),(0,E.forEach)(["classes","components"],function(i){(!e[i]||(0,E.isEmpty)(n[i])&&!e[i].length)&&delete e[i]}),e},r.prototype.getId=function(){return(this.get("attributes")||{}).id||this.ccid||this.cid},r.prototype.setId=function(t,e){var n=Xe({},this.get("attributes"));return n.id=t,this.set("attributes",n,e),this},r.prototype.getEl=function(t){var e=this.getView(t);return e&&e.el},r.prototype.getView=function(t){var e=this,n=e.view,i=e.views,l=e.em,f=t||(l==null?void 0:l.getCurrentFrameModel());return f&&(n=i.filter(function(d){return d.frameView===f.view})[0]),n},r.prototype.getCurrentView=function(){var t=this.em.getCurrentFrame(),e=t==null?void 0:t.model;return this.getView(e)},r.prototype.__getScriptProps=function(){var t=this.props();return(this.get("script-props")||[]).reduce(function(e,n){return e[n]=t[n],e},{})},r.prototype.getScriptString=function(t){var e=this,n=t||this.get("script")||"";if(!n)return n;if(this.get("script-props"))n=n.toString().trim();else{if(typeof n=="function"){var i=n.toString().trim();n=(i=i.replace(/^function[\s\w]*\(\)\s?\{/,"").replace(/\}$/,"")).trim()}var l=this.em.getConfig(),f=ti(l.tagVarStart||"{[ "),d=ti(l.tagVarEnd||" ]}"),x=new RegExp("".concat(f,"([\\w\\d-]*)").concat(d),"g");n=n.replace(x,function(b,G){e.scriptUpdated();var nt=e.attributes[G]||"";return(0,E.isArray)(nt)||typeof nt=="object"?JSON.stringify(nt):nt})}return n},r.prototype.emitUpdate=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var l=this.em,f=Ti+(t?":".concat(t):""),d=t&&this.get(t);t&&this.updated.apply(this,Vn([t,d,t&&this.previous(t)],n,!1)),this.trigger.apply(this,Vn([f],n,!1)),l&&l.trigger.apply(l,Vn([f,this],n,!1)),["components","classes"].indexOf(t)>=0&&this.__propSelfToParent({component:this,changed:(e={},e[t]=d,e),options:n[2]||n[1]||{}})},r.prototype.onAll=function(t){return(0,E.isFunction)(t)&&(t(this),this.components().forEach(function(e){return e.onAll(t)})),this},r.prototype.forEachChild=function(t){(0,E.isFunction)(t)&&this.components().forEach(function(e){t(e),e.forEachChild(t)})},r.prototype.remove=function(t){var e=this;t===void 0&&(t={});var n=this.em,i=this.collection,l=function(){i&&i.remove(e,Xe(Xe({},t),{action:"remove-component"})),i||(e.components("",t),e.components().removeChildren(e,void 0,t))},f=Xe({},t);return[this,n].map(function(d){return d.trigger("component:remove:before",e,l,f)}),!f.abort&&l(),this},r.prototype.move=function(t,e){if(e===void 0&&(e={}),t){var n=e.at,i=this.index(),l=t===this.parent();l&&(i===n||i===n-1)||(l&&n&&n>i&&(e.at=n-1),this.remove({temporary:1}),t.append(this,e),this.emitUpdate())}return this},r.prototype.isInstanceOf=function(t){var e,n,i=(n=(e=this.em)===null||e===void 0?void 0:e.Components.getType(t))===null||n===void 0?void 0:n.model;return!!i&&this instanceof i},r.prototype.isChildOf=function(t){for(var e=(0,E.isString)(t),n=this.parent();n;){if(e){if(n.isInstanceOf(t))return!0}else if(n===t)return!0;n=n.parent()}return!1},r.prototype.resetId=function(t){var e=this.em,n=this.getId();if(!n)return this;var i=r.createId(this);this.setId(i);var l=e==null?void 0:e.Css.getIdRule(n),f=l==null?void 0:l.get("selectors").at(0);return f==null||f.set("name",i),this},r.prototype._getStyleRule=function(t){var e=(t===void 0?{}:t).id,n=this.em,i=e||this.getId();return n==null?void 0:n.Css.getIdRule(i)},r.prototype._getStyleSelector=function(t){var e=this._getStyleRule(t);return e==null?void 0:e.get("selectors").at(0)},r.prototype._idUpdated=function(t,e,n){if(n===void 0&&(n={}),!n.idUpdate){var i=this.ccid,l=(this.get("attributes")||{}).id,f=(this.previous("attributes")||{}).id||i,d=r.getList(this);if(d[l]||!l&&f)return this.setId(f,{idUpdate:!0});delete d[f],d[l]=this,this.ccid=l;var x=this._getStyleSelector({id:f});x&&x.set({name:l,label:l})}},r.getDefaults=function(){return(0,E.result)(this.prototype,"defaults")},r.isComponent=function(t){return{tagName:(0,K.toLowerCase)(t.tagName)}},r.ensureInList=function(t){var e=r.getList(t),n=t.getId(),i=e[n];if(i){if(i!==t){var l=r.getIncrementId(n,e);t.setId(l),e[l]=t}}else e[n]=t;t.components().forEach(function(f){return r.ensureInList(f)})},r.createId=function(t,e){e===void 0&&(e={});var n,i=r.getList(t),l=e.idMap,f=l===void 0?{}:l,d=t.get("attributes").id;return d?(n=r.getIncrementId(d,i,e),t.setId(n),d!==n&&(f[d]=n)):n=r.getNewId(i),i[n]=t,n},r.getNewId=function(t){for(var e=Object.keys(t).length.toString().length+2,n=(Math.random()+1.1).toString(36).slice(-e),i="i".concat(n);t[i];)i=r.getNewId(t);return i},r.getIncrementId=function(t,e,n){n===void 0&&(n={});var i=n.keepIds,l=1,f=t;if((i===void 0?[]:i).indexOf(t)<0)for(;e[f];)l++,f="".concat(t,"-").concat(l);return f},r.getList=function(t){var e=t.opt,n=e===void 0?{}:e,i=n.domc,l=n.em,f=i||(l==null?void 0:l.Components);return f?f.componentsById:{}},r.checkId=function(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n={}),i===void 0&&(i={});var l=(0,E.isArray)(t)?t:[t],f=i.keepIds,d=f===void 0?[]:f;l.forEach(function(x){x.attributes;var b=x.attributes,G=b===void 0?{}:b,nt=x.components,st=G.id;if(st&&n[st]&&d.indexOf(st)<0){var pt=r.getIncrementId(st,n);G.id=pt,(0,E.isArray)(e)&&e.forEach(function(bt){var Et=bt.selectors;Et.forEach(function(Ot,Zt){Ot==="#".concat(st)&&(Et[Zt]="#".concat(pt))})})}nt&&r.checkId(nt,e,n,i)})},r}(er);const Sn=Js;var ls=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rr=function(){return Rr=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Rr.apply(this,arguments)};const Ho=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return ls(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return Rr(Rr({},s.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){var t=this.content,e=this.parent();return e!=null&&e.is("script")?t:this.__escapeContent(t)},r.prototype.__escapeContent=function(t){return(0,K.escapeNodeContent)(t)},r.isComponent=function(t){var e;if(t.nodeType===3)return{type:"textnode",content:(e=t.textContent)!==null&&e!==void 0?e:""}},r}(Sn);var Ei=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vo=function(){return vo=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},vo.apply(this,arguments)};const Ga=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Ei(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return vo({},s.prototype.defaults)},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},r.isComponent=function(t){var e;if(t.nodeType==8)return{tagName:"NULL",type:"comment",content:(e=t.textContent)!==null&&e!==void 0?e:""}},r}(Ho);var cs=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pi=function(){return Pi=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Pi.apply(this,arguments)},us="iframe";const Qs=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return cs(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return Pi(Pi({},s.prototype.defaults),{type:us,tagName:us,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,K.toLowerCase)(t.tagName)===us},r}(Sn);var ta=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ai=function(){return Ai=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Ai.apply(this,arguments)},qa='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',ea=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return ta(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return Ai(Ai({},s.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(qa,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(qa,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){s.prototype.initialize.call(this,t,e);var n=this.get("attributes").src;n&&(0,K.buildBase64UrlFromSvg)((0,E.result)(this,"defaults").src)!==n&&this.set("src",n,{silent:!0})},r.prototype.initToolbar=function(){s.prototype.initToolbar.call(this);var t=this.em;if(t){var e="image-editor";if(t.Commands.has(e)){for(var n=!1,i=this.get("toolbar"),l=0;l<i.length;l++)if(i[l].command==="image-editor"){n=!0;break}n||(i.push({attributes:{class:"fa fa-pencil"},command:e}),this.set("toolbar",i))}}},r.prototype.getAttrToHTML=function(){var t=s.prototype.getAttrToHTML.call(this),e=this.getSrcResult();return e&&(t.src=e),t},r.prototype.getSrcResult=function(t){t===void 0&&(t={});var e=this.get(t.fallback?"fallback":"src")||"",n=e;return e&&e.substr(0,4)==="<svg"&&(n=(0,K.buildBase64UrlFromSvg)(e)),n},r.prototype.isDefaultSrc=function(){var t=this.get("src"),e=(0,E.result)(this,"defaults").src;return t===e||t===(0,K.buildBase64UrlFromSvg)(e)},r.prototype.toJSON=function(t){var e=s.prototype.toJSON.call(this,t),n=e.attributes;return n&&e.src===n.src&&delete e.src,e},r.prototype.parseUri=function(t){var e={};if((0,K.hasWin)())(e=document.createElement("a")).href=t;else if(typeof URL<"u")try{e=new URL(t)}catch{}return{hostname:e.hostname||"",pathname:e.pathname||"",protocol:e.protocol||"",search:e.search||"",hash:e.hash||"",port:e.port||"",query:function(n){n===void 0&&(n="");for(var i={},l=n.substring(1).split("&"),f=0;f<l.length;f++){var d=l[f].split("="),x=decodeURIComponent(d[0]);x&&(i[x]=decodeURIComponent(d[1]||""))}return i}(e.search)}},r.isComponent=function(t){return(0,K.toLowerCase)(t.tagName)==="img"},r}(Sn);const ps=ea;var fs=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yo=function(){return yo=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},yo.apply(this,arguments)};const io=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return fs(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return yo(yo({},s.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){s.prototype.initialize.call(this,t,e),this.__checkInnerChilds()},r.prototype.__checkInnerChilds=function(){var t=this.em.Components.config.disableTextInnerChilds;if(t){var e=function(n){n.isInstanceOf("textnode")||n.set({locked:!0,layerable:!1})};(0,E.isFunction)(t)?this.forEachChild(function(n){t(n)&&e(n)}):this.forEachChild(e)}},r}(Sn);var ji=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),so=function(){return so=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},so.apply(this,arguments)},ds="label";const na=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return ji(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return so(so({},s.prototype.defaults),{type:ds,tagName:ds,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,K.toLowerCase)(t.tagName)===ds},r}(io);var Za=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fr=function(){return Fr=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Fr.apply(this,arguments)},Pn="link",Ya=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Za(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return Fr(Fr({},s.prototype.defaults),{type:Pn,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t,e){var n;if(e===void 0&&(e={}),(0,K.toLowerCase)(t.tagName)==="a"){var i=e.textTags||[];n={type:Pn,editable:!1};var l=t.childNodes;l.length||delete n.editable,(0,E.forEach)(l,function(f){var d=f.tagName;(f.nodeType==3&&f.textContent.trim()!==""||d&&i.indexOf((0,K.toLowerCase)(d))>=0)&&delete n.editable})}return n},r}(io);const ei=Ya;var ni=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mi=function(){return Mi=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Mi.apply(this,arguments)},ra=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return ni(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){var t=s.prototype.defaults;return Mi(Mi({},t),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:t.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){this.get("src")?this.parseFromSrc():this.updateSrc(),s.prototype.initialize.call(this,t,e),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)},r.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},r.prototype.getMapUrl=function(){var t=this.get("address"),e=this.get("zoom"),n=this.get("mapType");t=t?"&q="+t:"",e=e?"&z="+e:"",n=n?"&t="+n:"";var i=this.get("mapUrl")+"?"+t+e+n;return i+="&output=embed"},r.prototype.parseFromSrc=function(){var t=this.parseUri(this.get("src")).query;t.q&&this.set("address",t.q),t.z&&this.set("zoom",t.z),t.t&&this.set("mapType",t.t)},r.isComponent=function(t){if((0,K.toLowerCase)(t.tagName)=="iframe"&&/maps\.google\.com/.test(t.src))return{type:"map",src:t.src}},r}(ps);const Ka=ra;var Li=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zo=function(){return zo=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},zo.apply(this,arguments)},hs="script";const oa=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Li(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return zo(zo({},s.prototype.defaults),{type:hs,tagName:hs,droppable:!1,draggable:!1,layerable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(t){if((0,K.toLowerCase)(t.tagName)==hs){var e={type:hs};return t.src&&(e.src=t.src,e.onload=t.onload),e}},r}(Sn);var Xa=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Q=function(){return Q=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Q.apply(this,arguments)},lt="svg";const kt=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Xa(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return Q(Q({},s.prototype.defaults),{type:lt,tagName:lt,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),r.prototype.getName=function(){var t=this.get("tagName"),e=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),e||t},r.isComponent=function(t){return(0,K.toLowerCase)(t.tagName)===lt},r}(Sn);var Tt=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bt=function(){return Bt=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Bt.apply(this,arguments)};const Ft=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Tt(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return Bt(Bt({},s.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(t,e){return e===void 0&&(e={}),!!e.inSvg},r}(kt);var oe=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),de=function(){return de=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},de.apply(this,arguments)},Ne="table";const Ze=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return oe(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return de(de({},s.prototype.defaults),{type:Ne,tagName:Ne,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){s.prototype.initialize.call(this,t,e);var n=this.get("components");!n.length&&n.add({type:"tbody"})},r.isComponent=function(t){return(0,K.toLowerCase)(t.tagName)===Ne},r}(Sn);var dn=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qn=function(){return qn=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},qn.apply(this,arguments)},Tr="tbody";const ko=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return dn(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return qn(qn({},s.prototype.defaults),{type:Tr,tagName:Tr,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){s.prototype.initialize.call(this,t,e);var n=this.get("components"),i=this.get("columns"),l=this.get("rows");if(!n.length){for(var f=[];l--;){for(var d=[],x=i;x--;)d.push({type:"cell",classes:["cell"]});f.push({type:"row",classes:["row"],components:d})}n.add(f)}},r.isComponent=function(t){return(0,K.toLowerCase)(t.tagName)===Tr},r}(Sn);var Hl=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bo=function(){return Bo=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Bo.apply(this,arguments)};const To=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Hl(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return Bo(Bo({},s.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return["td","th"].indexOf((0,K.toLowerCase)(t.tagName))>=0},r}(Sn);var Di=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ia=function(){return ia=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},ia.apply(this,arguments)},Ja="tfoot";const Cp=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Di(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return ia(ia({},s.prototype.defaults),{type:Ja,tagName:Ja})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,K.toLowerCase)(t.tagName)===Ja},r}(ko);var Sp=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qa=function(){return Qa=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Qa.apply(this,arguments)},tl="thead";const Bc=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Sp(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return Qa(Qa({},s.prototype.defaults),{type:tl,tagName:tl})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,K.toLowerCase)(t.tagName)===tl},r}(ko);var sa=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),aa=function(){return aa=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},aa.apply(this,arguments)},zl="tr";const Bl=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return sa(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return aa(aa({},s.prototype.defaults),{tagName:zl,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,K.toLowerCase)(t.tagName)===zl},r}(Sn);var el=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),la=function(){return la=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},la.apply(this,arguments)},gs="video",gr="yt",Ii="vi",ri="ytnc",nl="so",rl=function(s){return s&&s!=="0"},Uc=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return el(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return la(la({},s.prototype.defaults),{type:gs,tagName:gs,videoId:"",void:!1,provider:nl,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){this.em=e.em,this.get("src")&&this.parseFromSrc(),this.updatePropsFromAttr(),this.updateTraits(),this.on("change:provider",this.updateTraits),this.on("change:videoId change:provider",this.updateSrc),s.prototype.initialize.call(this,t,e)},r.prototype.updatePropsFromAttr=function(){if(this.get("provider")===nl){var t=this.get("attributes"),e=t.controls,n=t.autoplay,i=t.loop,l={};(0,K.isDef)(e)&&(l.controls=!!e),(0,K.isDef)(n)&&(l.autoplay=!!n),(0,K.isDef)(i)&&(l.loop=!!i),(0,K.isEmptyObj)(l)||this.set(l)}},r.prototype.updateTraits=function(){var t,e=this.em,n="iframe";switch(this.get("provider")){case gr:case ri:t=this.getYoutubeTraits();break;case Ii:t=this.getVimeoTraits();break;default:n="video",t=this.getSourceTraits()}this.set({tagName:n},{silent:!0}),this.set({traits:t}),e.get("ready")&&e.trigger("component:toggled")},r.prototype.parseFromSrc=function(){var t=this.get("provider"),e=this.parseUri(this.get("src")),n=e.query;switch(t){case gr:case ri:case Ii:this.set("videoId",e.pathname.split("/").pop()),n.list&&this.set("list",n.list),rl(n.autoplay)&&this.set("autoplay",!0),rl(n.loop)&&this.set("loop",!0),parseInt(n.controls)===0&&this.set("controls",!1),rl(n.color)&&this.set("color",n.color),n.rel==="0"&&this.set("rel",0),n.modestbranding==="1"&&this.set("modestbranding",1)}},r.prototype.updateSrc=function(){var t="";switch(this.get("provider")){case gr:t=this.getYoutubeSrc();break;case ri:t=this.getYoutubeNoCookieSrc();break;case Ii:t=this.getVimeoSrc()}this.set({src:t})},r.prototype.getAttrToHTML=function(){var t=s.prototype.getAttrToHTML.call(this);switch(this.get("provider")){case gr:case ri:case Ii:break;default:t.loop=!!this.get("loop"),t.autoplay=!!this.get("autoplay"),t.controls=!!this.get("controls")}return t},r.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:gr,name:"Youtube"},{value:ri,name:"Youtube (no cookie)"},{value:Ii,name:"Vimeo"}]}},r.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},r.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},r.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},r.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},r.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},r.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},r.prototype.getYoutubeSrc=function(){var t=this.get("videoId"),e=this.get("ytUrl"),n=this.get("list");return e+=t+(t.indexOf("?")<0?"?":""),e+=n?"&list=".concat(n):"",e+=this.get("autoplay")?"&autoplay=1&muted=1":"",e+=this.get("controls")?"":"&controls=0&showinfo=0",e+=this.get("loop")?"&loop=1&playlist=".concat(t):"",e+=this.get("rel")?"":"&rel=0",e+=this.get("modestbranding")?"&modestbranding=1":""},r.prototype.getYoutubeNoCookieSrc=function(){var t=this.getYoutubeSrc();return t=t.replace(this.get("ytUrl"),this.get("ytncUrl"))},r.prototype.getVimeoSrc=function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1&muted=1":"",t+=this.get("loop")?"&loop=1":"",t+=this.get("controls")?"":"&title=0&portrait=0&badge=0",t+=this.get("color")?"&color="+this.get("color"):""},r.isComponent=function(t){var e=t.tagName,n=t.src,i=/youtube\.com\/embed/.test(n),l=/youtube-nocookie\.com\/embed/.test(n),f=/player\.vimeo\.com\/video/.test(n),d=i||l||f;if((0,K.toLowerCase)(e)==gs||(0,K.toLowerCase)(e)=="iframe"&&d){var x={type:"video"};return n&&(x.src=n),d&&(i?x.provider=gr:l?x.provider=ri:f&&(x.provider=Ii)),x}},r}(ps);const Ul=Uc;var Op=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ol=function(){return ol=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},ol.apply(this,arguments)};const kp=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Op(r,s),Object.defineProperty(r.prototype,"defaults",{get:function(){return ol(ol({},s.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),r.prototype.__postAdd=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return!this.__hasUm&&(e==null||e.add(this)),s.prototype.__postAdd.call(this)},r.prototype.__postRemove=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return e==null||e.remove(this),s.prototype.__postRemove.call(this)},r.isComponent=function(){return!1},r}(Sn);var ms=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vs=function(s){function r(){var t=s!==null&&s.apply(this,arguments)||this;return t.compView=Tn,t}return ms(r,s),r.prototype.initialize=function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var e=this.collection;this.listenTo(e,"add",this.addTo),this.listenTo(e,"reset",this.resetChildren),this.listenTo(e,"remove",this.removeChildren)},r.prototype.removeChildren=function(t,e,n){var i=this;n===void 0&&(n={}),t.views.forEach(function(l){if(l){var f=l.childrenView,d=l.scriptContainer;f&&f.stopListening(),(0,ue.L_)(d),l.remove.apply(l)}}),t.components().forEach(function(l){return i.removeChildren(l,e,n)})},r.prototype.addTo=function(t,e,n){n===void 0&&(n={});var i=this.em,l=this.collection.indexOf(t);if(this.addToCollection(t,null,l),i&&!n.temporary){var f=function(d){i.trigger("component:add",d),d.components().forEach(function(x){return f(x)})};f(t)}},r.prototype.addToCollection=function(t,e,n){for(var i=this,l=i.config,f=i.opts,d=i.em,x=e||null,b=l.frameView,G=(b==null?void 0:b.model)&&t.getView(b.model),nt=f.componentTypes||(d==null?void 0:d.Components.getTypes()),st=t.get("type")||"default",pt=this.compView,bt=0;bt<nt.length;bt++)if(nt[bt].id==st){pt=nt[bt].view;break}var Et,Ot=G||new pt({model:t,config:l,componentTypes:nt});try{Et=Ot.render().el}catch(ye){Et=document.createTextNode(""),d.logError(ye)}if(x)x.appendChild(Et);else{var Zt=this.parentEl,Qt=Zt.childNodes;if((0,E.isUndefined)(n))Zt.appendChild(Et);else{var ve=Qt.length==n;ve&&n--,ve||!Qt.length?Zt.appendChild(Et):Zt.insertBefore(Et,Qt[n])}}return t.opt.temporary||d==null||d.trigger("component:mount",t),Et},r.prototype.resetChildren=function(t,e){var n=this,i=(e===void 0?{}:e).previousModels,l=i===void 0?[]:i;this.parentEl.innerHTML="",l.forEach(function(f){return n.removeChildren(f,n.collection)}),t.each(function(f){return n.addToCollection(f)})},r.prototype.render=function(t){var e=this,n=this.el,i=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(l){return e.addToCollection(l,i)}),n.innerHTML="",n.appendChild(i),this},r}(h.G7);const il=vs;var Wl=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Eo=function(){return Eo=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Eo.apply(this,arguments)},$l=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Wl(r,s),r.prototype.className=function(){return this.getClasses()},r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,n=t.config||{},i=n.em,l=e.opt||{},f=this.$el,d=this.el;this.opts=t,this.modelOpt=l,this.config=n,this.em=i,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.attr=e.get("attributes"),this.classe=this.attr.class||[],this.listenTo(e,"change:style",this.updateStyle),this.listenTo(e,"change:attributes",this.renderAttributes),this.listenTo(e,"change:highlightable",this.updateHighlight),this.listenTo(e,"change:status change:locked",this.updateStatus),this.listenTo(e,"change:script rerender",this.reset),this.listenTo(e,"change:content",this.updateContent),this.listenTo(e,"change",this.handleChange),this.listenTo(e,"active",this.onActive),this.listenTo(e,"disable",this.onDisable),f.data("model",e),(0,K.setViewEl)(d,this),e.view=this,this.frameView&&e.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=Eo(Eo({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!l.temporary&&this.init(this._clbObj())},Object.defineProperty(r.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),r.prototype.__isDraggable=function(){var t=this.model,e=this.config,n=t.attributes.draggable;return e.draggableComponents&&n},r.prototype._clbObj=function(){var t=this,e=t.em,n=t.model,i=t.el;return{editor:e==null?void 0:e.getEditor(),model:n,el:i}},r.prototype.init=function(t){},r.prototype.removed=function(t){},r.prototype.onRender=function(t){},r.prototype.onActive=function(t){},r.prototype.onDisable=function(){},r.prototype.remove=function(){var t;s.prototype.remove.call(this);var e=this.model,n=this.$el,i=e.views,l=this.frameView||{};return e.components().forEach(function(f){var d=f.getView(l.model);d==null||d.remove()}),(t=this.childrenView)===null||t===void 0||t.remove(),i.splice(i.indexOf(this),1),this.removed(this._clbObj()),n.data({model:"",collection:"",view:""}),this},r.prototype.handleDragStart=function(t){if(!this.__isDraggable())return!1;t.stopPropagation(),t.preventDefault(),this.em.Commands.run("tlb-move",{target:this.model,event:t})},r.prototype.initClasses=function(){var t=this.model,e=t.classes,n="change:classes";e instanceof oo&&(this.stopListening(t,n,this.initClasses),this.listenTo(t,n,this.initClasses),this.listenTo(e,"add remove change reset",this.updateClasses),e.length&&this.importClasses())},r.prototype.initComponents=function(t){t===void 0&&(t={});var e=this,n=e.model,i=e.$el,l=e.childrenView,f=n.get("components"),d=[n,"change:components",this.initComponents];f instanceof Si&&(i.data("collection",f),l&&l.remove(),this.stopListening.apply(this,d),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,d))},r.prototype.handleChange=function(){var t=this.model,e=(0,E.keys)(t.changed);if(e.length!==1||e[0]!=="status")for(var n in t.emitUpdate(),t.changed)t.emitUpdate(n)},r.prototype.importClasses=function(){var t=this.em,e=this.model,n=t.Selectors;n&&e.classes.forEach(function(i){return n.add(i.get("name"))})},r.prototype.updateStatus=function(t){t===void 0&&(t={});var e=this,n=e.em,i=e.el,l=e.ppfx,f=e.model,d=n==null?void 0:n.Canvas,x=d==null?void 0:d.config.extHl,b=f.get("status"),G="".concat(l,"selected"),nt="".concat(G,"-parent"),st="".concat(l,"freezed"),pt="".concat(l,"hovered"),bt="".concat(l,"no-pointer"),Et=[G,nt,st,pt,bt],Ot=x&&!t.noExtHl?"":G;this.$el.removeClass(Et.join(" "));var Zt=[i.getAttribute("class")||""],Qt=!(d!=null&&d.hasCustomSpot(Ke.q.Select)),ve=!(d!=null&&d.hasCustomSpot(Ke.q.Target));switch(b){case"selected":Qt&&Zt.push(Ot);break;case"selected-parent":ve&&Zt.push(nt);break;case"freezed":Zt.push(st);break;case"freezed-selected":Zt.push(st),Qt&&Zt.push(Ot);break;case"hovered":!t.avoidHover&&Zt.push(pt)}f.get("locked")&&Zt.push(bt);var ye=Zt.filter(Boolean).join(" ");ye&&i.setAttribute("class",ye)},r.prototype.updateHighlight=function(){var t=this.model,e=t.get("textable"),n=t.get("highlightable")&&(e||!t.isChildOf("text"));this.setAttribute("data-gjs-highlightable",!!n||"")},r.prototype.updateStyle=function(t,e,n){n===void 0&&(n={});var i=this.model,l=this.em;if(sr(l)&&!n.inline){var f=this.__cmpStyleOpts,d=i.getStyle(f);!(0,E.isEmpty)(d)&&i.setStyle(d,f)}else this.setAttribute("style",i.styleToString(n))},r.prototype.updateClasses=function(){var t=this.model.classes.pluck("name").join(" ");this.setAttribute("class",t),this.updateStatus(),this.onAttrUpdate()},r.prototype.setAttribute=function(t,e){var n=this.$el;e?n.attr(t,e):n.removeAttr(t)},r.prototype.getClasses=function(){return this.model.getClasses().join(" ")},r.prototype.updateAttributes=function(){var t=[],e=this,n=e.model,i=e.$el,l=e.el,f=n.attributes,d=f.textable,x=f.type,b=Eo(Eo({id:n.getId(),"data-gjs-type":x||"default"},this.__isDraggable()&&{draggable:!0}),d&&{contenteditable:"false"});(0,E.each)(l.attributes,function(nt){return t.push(nt.nodeName)}),t.forEach(function(nt){return i.removeAttr(nt)}),this.updateStyle(),this.updateHighlight();var G=Eo(Eo({},b),n.getAttributes());(0,E.keys)(G).forEach(function(nt){return G[nt]===!1&&delete G[nt]}),i.attr(G)},r.prototype.updateContent=function(){var t=this.model.content,e=this.model.components().length;this.getChildrenContainer().innerHTML=e?"":t},r.prototype.prevDef=function(t){t.preventDefault()},r.prototype.updateScript=function(){var t=this.model,e=this.em;t.get("script")&&(e==null||e.Canvas.getCanvasView().updateScript(this))},r.prototype.getChildrenContainer=function(){var t=this.el;return typeof this.getChildrenSelector=="function"?t=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,t},r.prototype.getOffsetRect=function(){var t={top:0,left:0,bottom:0,right:0},e=this.el,n=0,i=0,l=function(f){var d=f.offsetParent;d?(n+=d.offsetTop,i+=d.offsetLeft,l(d)):(t.top=e.offsetTop+n,t.left=e.offsetLeft+i,t.bottom=t.top+e.offsetHeight,t.right=t.left+e.offsetWidth)};return l(e),t},r.prototype.isInViewport=function(){var t=this,e=t.el,n=t.em,i=t.frameView,l=n.Canvas.getCanvasView().getElBoxRect(e,{local:!0}),f=i.el,d=f.clientHeight,x=f.clientWidth,b=l.y,G=l.x,nt=b+l.height,st=G+l.width;return(b>=0&&b<d||nt>0&&nt<d)&&(st>=0&&st<x||G>0&&G<=x)},r.prototype.scrollIntoView=function(t){var e;if(t===void 0&&(t={}),!this.isInViewport()||t.force){var n=this.el;if(t.behavior!=="smooth"){var i=this.getOffsetRect();(e=n.ownerDocument.defaultView)===null||e===void 0||e.scrollTo(0,i.top)}else n.scrollIntoView(Eo({behavior:"smooth",block:"nearest"},t))}},r.prototype.reset=function(){var t=this.el;this.el="",this._ensureElement(),this._setData(),(0,ue.dL)(t,this.el),this.render()},r.prototype._setData=function(){var t=this.model,e=t.components();this.$el.data({model:t,collection:e,view:this})},r.prototype.renderChildren=function(){this.updateContent();var t=this.getChildrenContainer(),e=this.childrenView||new il({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});e.render(t),this.childrenView=e;for(var n=Array.prototype.slice.call(e.el.childNodes),i=0,l=n.length;i<l;i++)t.appendChild(n.shift())},r.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},r.prototype.onAttrUpdate=function(){},r.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),(0,K.setViewEl)(this.el,this),this.postRender()),this},r.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},r.getEvents=function(){return(0,E.result)(this.prototype,"events")},r}(h.G7);const Tn=$l;var Ni=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const mr=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Ni(r,s),r.prototype._setAttributes=function(){},r.prototype.renderAttributes=function(){},r.prototype.updateStatus=function(){},r.prototype.updateClasses=function(){},r.prototype.setAttribute=function(){},r.prototype.updateAttributes=function(){},r.prototype.initClasses=function(){},r.prototype.initComponents=function(){},r.prototype.delegateEvents=function(){return this},r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var t=this.model,e=this.el;return t.opt.temporary||(e.textContent=t.content),this},r}(Tn);var oi=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const ii=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return oi(r,s),r.prototype._createElement=function(){return document.createComment(this.model.content)},r}(mr);var sl=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const Tp=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return sl(r,s),r.prototype.tagName=function(){return"div"},r.prototype.initialize=function(t){s.prototype.initialize.call(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},r.prototype.updateSrc=function(){var t=(0,ue.sE)(this.el,"iframe")[0];t&&(0,ue.FW)(t,{src:this.__getSrc()})},r.prototype.render=function(){s.prototype.render.call(this);var t=(0,ue.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(t),this},r.prototype.__getSrc=function(){return this.model.getAttributes().src||""},r}(Tn);var Wc=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ca=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Wc(r,s),r.prototype.tagName=function(){return"img"},r.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},r.prototype.initialize=function(t){s.prototype.initialize.call(this,t),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},r.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var t=this.model,e=this.em,n=t.get("file");if(n&&e){var i=e.Assets.FileUploader();i==null||i.uploadFile({dataTransfer:{files:[n]}},function(l){var f=l&&l.data&&l.data[0],d=f&&((0,E.isString)(f)?f:f.src);d&&t.set({src:d})}),t.set("file","")}}},r.prototype.updateSrc=function(){var t=this.model;t.addAttributes({src:t.getSrcResult()}),this.updateClasses()},r.prototype.updateClasses=function(){s.prototype.updateClasses.call(this);var t=this,e=t.el,n=t.classEmpty,i=t.model,l=i.getSrcResult()&&!i.isDefaultSrc()?"remove":"add";e.classList[l](n)},r.prototype.onActive=function(t){t==null||t.stopPropagation();var e=this.em,n=this.model,i=e==null?void 0:e.Assets;i&&n.get("editable")&&i.open({select:function(l,f){n.set({src:l.getSrc()}),f&&i.close()},target:n,types:["image"],accept:"image/*"})},r.prototype.onError=function(){var t=this.model.getSrcResult({fallback:!0});t&&(this.el.src=t)},r.prototype.onLoad=function(){this.em.trigger("change:canvasOffset")},r.prototype.noDrag=function(t){return t.preventDefault(),!1},r.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var t=this.$el,e=this.model,n=t.attr("class")||"";return!e.get("src")&&t.attr("class","".concat(n," ").concat(this.classEmpty).trim()),this.postRender(),this},r}(Tn);const ua=ca;var Gl=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),si=function(){return si=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},si.apply(this,arguments)},al=function(s,r,t,e){return new(t||(t=Promise))(function(n,i){function l(x){try{d(e.next(x))}catch(b){i(b)}}function f(x){try{d(e.throw(x))}catch(b){i(b)}}function d(x){var b;x.done?n(x.value):(b=x.value,b instanceof t?b:new t(function(G){G(b)})).then(l,f)}d((e=e.apply(s,r||[])).next())})},ys=function(s,r){var t,e,n,i,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function f(d){return function(x){return function(b){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,b[0]&&(l=0)),l;)try{if(t=1,e&&(n=2&b[0]?e.return:b[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,b[1])).done)return n;switch(e=0,n&&(b=[2&b[0],n.value]),b[0]){case 0:case 1:n=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,e=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(n=l.trys,!((n=n.length>0&&n[n.length-1])||b[0]!==6&&b[0]!==2)){l=0;continue}if(b[0]===3&&(!n||b[1]>n[0]&&b[1]<n[3])){l.label=b[1];break}if(b[0]===6&&l.label<n[1]){l.label=n[1],n=b;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(b);break}n[2]&&l.ops.pop(),l.trys.pop();continue}b=r.call(s,l)}catch(G){b=[6,G],e=0}finally{t=n=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([d,x])}}},$c=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Gl(r,s),r.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},r.prototype.initialize=function(t){s.prototype.initialize.call(this,t),(0,E.bindAll)(this,"disableEditing","onDisable");var e=this.model,n=this.em;this.listenTo(e,"focus",this.onActive),this.listenTo(e,"change:content",this.updateContentText),this.listenTo(e,"sync:content",this.syncContent),this.rte=n==null?void 0:n.RichTextEditor},r.prototype.updateContentText=function(t,e,n){n===void 0&&(n={}),!n.fromDisable&&this.disableEditing()},r.prototype.canActivate=function(){var t,e=this,n=e.model,i=e.rteEnabled,l=e.em,f=(l==null?void 0:l.getEditing())===n,d=!0,x=!1;if((i||!n.get("editable")||f||(x=n.isChildOf("text")))&&(d=!1,x&&!n.get("textable"))){for(var b=n.parent();b&&!b.isInstanceOf("text");)b=b.parent();b&&b.get("editable")?t=b:d=!0}return{result:d,delegate:t}},r.prototype.onActive=function(t){var e,n;return al(this,void 0,void 0,function(){var i,l,f,d,x,b,G,nt,st;return ys(this,function(pt){switch(pt.label){case 0:return l=(i=this).rte,f=i.em,d=this.canActivate(),x=d.result,b=d.delegate,x?((n=t==null?void 0:t.stopPropagation)===null||n===void 0||n.call(t),G=this,[4,this.getContent()]):(b&&((e=t==null?void 0:t.stopPropagation)===null||e===void 0||e.call(t),f.setSelected(b),b.trigger("active",t)),[2]);case 1:if(G.lastContent=pt.sent(),!l)return[3,5];pt.label=2;case 2:return pt.trys.push([2,4,,5]),nt=this,[4,l.enable(this,this.activeRte,{event:t})];case 3:return nt.activeRte=pt.sent(),[3,5];case 4:return st=pt.sent(),f.logError(st),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},r.prototype.onDisable=function(){this.disableEditing()},r.prototype.disableEditing=function(t){return t===void 0&&(t={}),al(this,void 0,void 0,function(){var e,n,i,l,f,d,x,b;return ys(this,function(G){switch(G.label){case 0:if(n=(e=this).model,i=e.rte,l=e.activeRte,f=e.em,d=n&&n.get("editable"),!i)return[3,8];G.label=1;case 1:return G.trys.push([1,3,,4]),[4,i.disable(this,l)];case 2:return G.sent(),[3,4];case 3:return x=G.sent(),f.logError(x),[3,4];case 4:return(b=d)?[4,this.getContent()]:[3,6];case 5:b=G.sent()!==this.lastContent,G.label=6;case 6:return b?[4,this.syncContent(t)]:[3,8];case 7:G.sent(),this.lastContent="",G.label=8;case 8:return this.toggleEvents(),[2]}})})},r.prototype.getContent=function(){return al(this,void 0,void 0,function(){var t,e,n,i;return ys(this,function(l){switch(l.label){case 0:return e=(t=this).rte,n=t.activeRte,i="",e?[4,e.getContent(this,n)]:[3,2];case 1:i=l.sent(),l.label=2;case 2:return[2,i]}})})},r.prototype.syncContent=function(t){return t===void 0&&(t={}),al(this,void 0,void 0,function(){var e,n,i,l,f,d;return ys(this,function(x){switch(x.label){case 0:return n=(e=this).model,i=e.rte,e.rteEnabled||t.force?[4,this.getContent()]:[2];case 1:return l=x.sent(),f=n.components(),d=si({fromDisable:1},t),n.set("content","",d),i!=null&&i.customRte&&!i.customRte.parseContent?(f.length&&f.reset(void 0,si(si({},t),{keepIds:So(f)})),n.set("content",l,d)):f.resetFromString(l,t),[2]}})})},r.prototype.insertComponent=function(t,e){var n;e===void 0&&(e={});var i=this.model,l=this.el.ownerDocument.getSelection();if(l!=null&&l.rangeCount){var f=l.getRangeAt(0),d=f.startContainer,x=f.startOffset,b=(0,K.getModel)(d),G=[];if(b&&(!((n=b.is)===null||n===void 0)&&n.call(b,"textnode"))){var nt=b.collection;nt.forEach(function(bt){if(bt===b){var Et="textnode",Ot=bt.content;G.push({type:Et,content:Ot.slice(0,x)}),G.push(t),G.push({type:Et,content:Ot.slice(x)})}else G.push(bt)});var st=G.filter(Boolean),pt=st.indexOf(t);return nt.reset(st,e),nt.at(pt)}}return i.append(t,e)},r.prototype.onInput=function(){var t=this.em,e="component",n=["".concat(e,":update"),"".concat(e,":input")].join(" ");t&&t.trigger(n,this.model)},r.prototype.disablePropagation=function(t){t.stopPropagation()},r.prototype.toggleEvents=function(t){var e=this,n=e.em,i=e.model,l=e.$el,f={on:ue.on,off:ue.S1},d=t?"on":"off";n.setEditing(!!t&&this),this.rteEnabled=!!t;var x=[this.el.ownerDocument,document];if(f.off(x,"mousedown",this.onDisable),f[d](x,"mousedown",this.onDisable),n[d]("toolbar:run:before",this.onDisable),i&&(i[d]("removed",this.onDisable),i.trigger("rte:".concat(t?"enable":"disable"))),l==null||l.off("mousedown",this.disablePropagation),l&&l[d]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var b=this.el;b;)b.draggable=!t,(b=b.parentNode)&&b.tagName=="BODY"&&(b=0)},r}(Tn);const ll=$c;var ql=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const Ri=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return ql(r,s),r.prototype.render=function(){return s.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},r}(ll);var cl=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const Gc=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return cl(r,s),r}(Ri);var ul=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const Ep=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return ul(r,s),r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(t){s.prototype.initialize.call(this,t),this.classEmpty=this.ppfx+"plh-map"},r.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},r.prototype.getIframe=function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder="0",t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},r.prototype.render=function(){return s.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},r}(ua);var Pp=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ap=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Pp(r,s),r.prototype.tagName=function(){return"script"},r.prototype.events=function(){return{}},r.prototype.render=function(){var t=this.model,e=this.em,n=t.get("src"),i=e&&e.get("scriptCount"),l=i||0,f="";if(n){var d=t.get("onload"),x="script".concat(l),b="script".concat(l+1),G="".concat(x,"Start"),nt="".concat(b,"Start");f=`
        var `.concat(x,` = document.createElement('script');
        `).concat(x,`.onload = function() {
          `).concat(d?"".concat(d,`();
`):"",`
          typeof `).concat(nt," == 'function' && ").concat(nt,`();
        };
        `).concat(x,".src = '").concat(n,`';
        function `).concat(G,"() { document.body.appendChild(").concat(x,`); };
        `).concat(l?"":"".concat(G,"();"),`
      `),e&&e.set("scriptCount",l+1)}else f=t.__innerHTML();return this.el.innerHTML=f,this.postRender(),this},r}(ua);const Zl=Ap;var Yl=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bs=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Yl(r,s),r.prototype._createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},r}(Tn);const ws=bs;var jp=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const pl=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return jp(r,s),r}(Tn);var qc=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const pa=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return qc(r,s),r}(Tn);var Zc=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const Fi=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Zc(r,s),r}(Tn);var fa=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const Vi=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return fa(r,s),r}(Tn);var da=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const _s=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return da(r,s),r}(Tn),Yc=Tn.extend({events:{}});var Kc=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xc=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Kc(r,s),r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(){Tn.prototype.initialize.apply(this,arguments);var t=this.model,e=["loop","autoplay","controls","color","rel","modestbranding","poster"].map(function(n){return"change:".concat(n)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,e,this.updateVideo)},r.prototype.updateProvider=function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},r.prototype.updateSrc=function(){var t=this.model,e=this.videoEl;if(e){var n=t.get("provider"),i=t.get("src");switch(n){case"yt":i=t.getYoutubeSrc();break;case"ytnc":i=t.getYoutubeNoCookieSrc();break;case"vi":i=t.getVimeoSrc()}e.src=i}},r.prototype.updateVideo=function(){var t=this.model,e=this.videoEl;switch(t.get("provider")){case"yt":case"ytnc":case"vi":t.trigger("change:videoId");break;default:if(e){var n=e;n.loop=t.get("loop"),n.autoplay=t.get("autoplay"),n.controls=t.get("controls"),n.poster=t.get("poster")}}},r.prototype.renderByProvider=function(t){var e;switch(t){case"yt":e=this.renderYoutube();break;case"ytnc":e=this.renderYoutubeNoCookie();break;case"vi":e=this.renderVimeo();break;default:e=this.renderSource()}return this.videoEl=e,e},r.prototype.renderSource=function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},r.prototype.renderYoutube=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.renderYoutubeNoCookie=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.renderVimeo=function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.initVideoEl=function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},r.prototype.render=function(){Tn.prototype.render.apply(this),this.updateClasses();var t=this.model.get("provider");return this.el.appendChild(this.renderByProvider(t)),this.updateVideo(),this},r}(ua);const Mp=Xc;var Hi=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const zi=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Hi(r,s),r.prototype.tagName=function(){return"div"},r}(Tn);var ha,Lp=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ao=function(){return ao=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},ao.apply(this,arguments)},Dp=function(s,r){var t={};for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&r.indexOf(e)<0&&(t[e]=s[e]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(e=Object.getOwnPropertySymbols(s);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(s,e[n])&&(t[e[n]]=s[e[n]])}return t};(function(s){s[s.InvalidSource=0]="InvalidSource",s[s.SourceReject=1]="SourceReject",s[s.TargetReject=2]="TargetReject"})(ha||(ha={}));var Ip=function(s){function r(t){var e=s.call(this,t,"DomComponents",new Si(void 0,{em:t}))||this;for(var n in e.componentTypes=[{id:"cell",model:To,view:pa},{id:"row",model:Bl,view:_s},{id:"table",model:Ze,view:Yc},{id:"thead",model:Bc,view:Vi},{id:"tbody",model:ko,view:pl},{id:"tfoot",model:Cp,view:Fi},{id:"map",model:Ka,view:Ep},{id:"link",model:ei,view:Ri},{id:"label",model:na,view:Gc},{id:"video",model:Ul,view:Mp},{id:"image",model:ps,view:ua},{id:"script",model:oa,view:Zl},{id:"svg-in",model:Ft,view:ws},{id:"svg",model:kt,view:ws},{id:"iframe",model:Qs,view:Tp},{id:"comment",model:Ga,view:ii},{id:"textnode",model:Ho,view:mr},{id:"text",model:io,view:ll},{id:"wrapper",model:kp,view:zi},{id:"default",model:Sn,view:Tn}],e.componentsById={},e.Component=Sn,e.Components=Si,e.ComponentView=Tn,e.ComponentsView=il,e.storageKey="components",t&&(e.config.components=t.config.components||e.config.components),Qe)n in e.config||(e.config[n]=Qe[n]);var i=e.config.pStylePrefix;if(i&&(e.config.stylePrefix=i+e.config.stylePrefix),t){t.get("Parser").compTypes=e.componentTypes,t.on("change:componentHovered",e.componentHovered,e);var l=t.get("selected");t.listenTo(l,"add",function(f,d,x){return e.selectAdd(l.getComponent(f),x)}),t.listenTo(l,"remove",function(f,d,x){return e.selectRemove(l.getComponent(f),x)})}return e}return Lp(r,s),r.prototype.load=function(t){var e=this;return this.loadProjectData(t,{onResult:function(n){var i=e.getWrapper();if(i||(e.em.Pages.add({},{select:!0}),i=e.getWrapper()),(0,E.isArray)(n))n.length&&i.components(n);else{var l=n.components,f=l===void 0?[]:l,d=Dp(n,["components"]);i.set(d),i.components(f)}}})},r.prototype.store=function(){return{}},r.prototype.getComponent=function(){var t=this.em.Pages.getSelected(),e=t==null?void 0:t.getMainFrame();return e==null?void 0:e.getComponent()},r.prototype.getWrapper=function(){return this.getComponent()},r.prototype.getComponents=function(){var t=this.getWrapper();return t==null?void 0:t.components()},r.prototype.addComponent=function(t,e){return e===void 0&&(e={}),this.getComponents().add(t,e)},r.prototype.render=function(){var t;return(t=this.componentView)===null||t===void 0?void 0:t.render().el},r.prototype.clear=function(t){t===void 0&&(t={});var e=this.getComponents();return e==null||e.filter(Boolean).forEach(function(n){return n.remove(t)}),this},r.prototype.setComponents=function(t,e){e===void 0&&(e={}),this.clear(e).addComponent(t,e)},r.prototype.addType=function(t,e){var n=this.em,i=e.model,l=i===void 0?{}:i,f=e.view,d=f===void 0?{}:f,x=e.isComponent,b=e.extend,G=e.extendView,nt=e.extendFn,st=nt===void 0?[]:nt,pt=e.extendFnView,bt=pt===void 0?[]:pt,Et=this.getType(t),Ot=this.getType(b),Zt=this.getType(G),Qt=Ot||Et||this.getType("default"),ve=Qt.model,ye=Zt?Zt.view:Qt.view,Re=function(mn,zn,_r){return mn.reduce(function(Ar,ur){var jr=zn[ur],fo=_r.prototype[ur];return jr&&fo&&(Ar[ur]=function(){for(var Mo=[],Ji=0;Ji<arguments.length;Ji++)Mo[Ji]=arguments[Ji];fo.bind(this).apply(void 0,Mo),jr.bind(this).apply(void 0,Mo)}),Ar},{})};if(typeof l=="object"){var Be={defaults:l.defaults};delete l.defaults,e.model=ve.extend(ao(ao({},l),Re(st,l,ve)),{isComponent:!Et||Ot||x?x||function(){return 0}:ve.isComponent}),Object.defineProperty(e.model.prototype,"defaults",{get:function(){return ao(ao({},(0,E.result)(ve.prototype,"defaults")||{}),(0,E.result)(Be,"defaults")||{})}})}typeof d=="object"&&(e.view=ye.extend(ao(ao({},d),Re(bt,d,ye)))),Et?(Et.model=e.model,Et.view=e.view):(e.id=t,this.componentTypes.unshift(e));var en="component:type:".concat(Et?"update":"add");return n==null||n.trigger(en,Et||e),this},r.prototype.getType=function(t){for(var e=this.componentTypes,n=0;n<e.length;n++)if(e[n].id==t)return e[n]},r.prototype.removeType=function(t){var e=this.componentTypes,n=this.getType(t);if(n){var i=e.indexOf(n);return e.splice(i,1),n}},r.prototype.getTypes=function(){return this.componentTypes},r.prototype.selectAdd=function(t,e){var n=this;e===void 0&&(e={}),t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(i){return n.em.trigger(i,t,e)}))},r.prototype.selectRemove=function(t,e){var n=this;e===void 0&&(e={}),t&&(this.em,t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(i){return n.em.trigger(i,t,e)}))},r.prototype.componentHovered=function(){var t=this.em,e=t.get("componentHovered"),n=t.previous("componentHovered"),i="hovered";n&&n.get("status")==i&&n.set({status:"",state:""}),e&&(0,E.isEmpty)(e.get("status"))&&e.set("status",i)},r.prototype.getShallowWrapper=function(){var t=this.shallow,e=this.em;if(!t&&e){var n=e.shallow;if(!n)return;var i=n.Components;if(i.componentTypes=this.componentTypes,t=i.getWrapper()){var l=[Ti,Oo].join(" ");t.on(l,(0,E.debounce)(function(){return t==null?void 0:t.components("")},100))}this.shallow=t}return t},r.prototype.isComponent=function(t){return(0,K.isComponent)(t)},r.prototype.canMove=function(t,e,n){var i={result:!1,reason:ha.InvalidSource,target:t,source:null};if(!e||!t)return i;var l=(0,K.isComponent)(e)?e:null;if(!l){var f=this.getShallowWrapper();l=(f==null?void 0:f.append(e)[0])||null}if(i.source=l,!l)return i;var d=l.get("draggable");if((0,E.isFunction)(d))d=!!d(l,t,n);else{var x=t.getEl();d=(0,E.isArray)(d)?d.join(","):d,d=(0,E.isString)(d)?x==null?void 0:x.matches(d):d}if(!d)return ao(ao({},i),{reason:ha.SourceReject});var b=t.get("droppable");(0,E.isFunction)(b)?b=!!b(l,t,n):b===!1&&t.isInstanceOf("text")&&l.get("textable")?b=!0:(x=l.getEl(),b=(0,E.isArray)(b)?b.join(","):b,b=(0,E.isString)(b)?x==null?void 0:x.matches(b):b);var G=[t].concat(t.parents()).indexOf(l)>-1;return ao(ao({},i),!b||G?{reason:ha.TargetReject}:{result:!0})},r.prototype.allById=function(){return this.componentsById},r.prototype.getById=function(t){return this.componentsById[t]||null},r.prototype.destroy=function(){var t,e=this.allById();Object.keys(e).forEach(function(n){return e[n]&&e[n].remove()}),(t=this.componentView)===null||t===void 0||t.remove(),[this.em,this.componentsById,this.componentView].forEach(function(n){return{}})},r}(M);const Np=Ip,Vr={stylePrefix:"css-",rules:[]};var Zn=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vr=Number.MAX_VALUE,Yn=function(s){function r(){var t=s.call(this)||this;return(0,E.bindAll)(t,"sortRules"),t.compCls=[],t.ids=[],t}return Zn(r,s),r.prototype.buildFromModel=function(t,e){var n=this;e===void 0&&(e={});var i="",l=this.em,f=l&&l.getConfig().avoidInlineStyle,d=t.styleToString(),x=t.classes;return this.ids.push("#".concat(t.getId())),x.forEach(function(b){return n.compCls.push(b.getFullName())}),!f&&d&&(i="#".concat(t.getId(),"{").concat(d,"}")),t.components().forEach(function(b){return i+=n.buildFromModel(b,e)}),i},r.prototype.build=function(t,e){var n=this;e===void 0&&(e={});var i=e.json,l=e.em,f=e.cssc||(l==null?void 0:l.Css);this.em=l,this.compCls=[],this.ids=[],this.model=t;var d=[],x=t?this.buildFromModel(t,e):"",b=(0,E.isUndefined)(e.clearStyles)&&l?l.getConfig().clearStyles:e.clearStyles;if(f){var G=e.rules||f.getAll(),nt={},st=[];e.onlyMatched&&t&&(0,K.hasWin)()&&(G=this.matchedRules(t,G)),G.forEach(function(pt){var bt=pt.getAtRule();if(bt){var Et=nt[bt];Et?Et.push(pt):nt[bt]=[pt]}else{var Ot=n.buildFromRule(pt,st,e);i?d.push(Ot):x+=Ot}}),this.sortMediaObject(nt).forEach(function(pt){var bt="",Et=pt.key;pt.value.forEach(function(Ot){var Zt=n.buildFromRule(Ot,st,e);Ot.get("singleAtRule")?x+="".concat(Et,"{").concat(Zt,"}"):bt+=Zt,i&&d.push(Zt)}),bt&&(x+="".concat(Et,"{").concat(bt,"}"))}),l&&b&&G.remove&&G.remove(st)}return i?d.filter(function(pt){return pt}):x},r.prototype.buildFromRule=function(t,e,n){var i,l=this;n===void 0&&(n={});var f,d="",x=this.model,b=t.selectorsToString({skipAdd:1}),G=t.get("selectorsAdd"),nt=t.get("singleAtRule");if((i=t.get("selectors"))===null||i===void 0||i.forEach(function(pt){var bt=pt.getFullName();(l.compCls.indexOf(bt)>=0||l.ids.indexOf(bt)>=0||n.keepUnusedStyles)&&(f=1)}),b&&f||G||nt||!x){var st=t.getDeclaration({body:1});st&&(n.json?d=t:d+=st)}else e.push(t);return d},r.prototype.matchedRules=function(t,e){var n=this,i=t.getEl(),l=[];return e.forEach(function(f){try{f.selectorsToString().split(",").some(function(d){return i==null?void 0:i.matches(n.__cleanSelector(d))})&&l.push(f)}catch{}}),t.components().forEach(function(f){l=l.concat(n.matchedRules(f,e))}),l=l.filter(function(f,d){return l.indexOf(f)===d})},r.prototype.getQueryLength=function(t){var e=/(-?\d*\.?\d+)\w{0,}/.exec(t);return e?parseFloat(e[1]):vr},r.prototype.sortMediaObject=function(t){var e=this;t===void 0&&(t={});var n=[];return(0,E.each)(t,function(i,l){return n.push({key:l,value:i})}),n.sort(function(i,l){var f=[i.key,l.key].every(function(b){return b.indexOf("min-width")!==-1}),d=f?i.key:l.key,x=f?l.key:i.key;return e.getQueryLength(d)-e.getQueryLength(x)})},r.prototype.sortRules=function(t,e){var n=function(d){return d.get("mediaText")||""},i=[n(t),n(e)].every(function(d){return d.indexOf("min-width")!==-1}),l=n(i?t:e),f=n(i?e:t);return this.getQueryLength(l)-this.getQueryLength(f)},r.prototype.__cleanSelector=function(t){return t.split(" ").map(function(e){return e.split(":")[0]}).join(" ")},r}(h.Hn);const ga=Yn;var Rp=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ai=function(){return ai=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},ai.apply(this,arguments)},Fp=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},Kl=((0,K.hasWin)()?window:{}).CSS,Vp=function(s){function r(t,e){e===void 0&&(e={});var n=s.call(this,t)||this;return n.config=t||{},n.opt=e,n.em=e.em,n.ensureSelectors(null,null,{}),n.on("change",n.__onChange),n}return Rp(r,s),r.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},r.prototype.__onChange=function(t,e){var n=this.em,i=this.changedAttributes();i&&!(0,K.isEmptyObj)(i)&&(n==null||n.changesUp(e))},r.prototype.clone=function(){var t=ai({},this.opt),e=ai({},this.attributes);return e.selectors=this.get("selectors").map(function(n){return n.clone()}),new this.constructor(e,t)},r.prototype.ensureSelectors=function(t,e,n){var i=this.em,l=i==null?void 0:i.get("SelectorManager"),f=[this,"change:selectors",this.ensureSelectors],d=this.getSelectors();if(this.stopListening.apply(this,f),d.models&&(d=Fp([],d.models,!0)),d=(0,E.isString)(d)?[d]:d,Array.isArray(d)){var x=d.filter(function(b){return b}).map(function(b){return l?l.add(b):b});d=new oo(x)}this.set("selectors",d,n),this.listenTo.apply(this,f)},r.prototype.getAtRule=function(){var t=this.get("atRuleType"),e=this.get("mediaText"),n=t?"@".concat(t):e?"@media":"";return n+(e&&n?" ".concat(e):"")},r.prototype.selectorsToString=function(t){t===void 0&&(t={});var e=[],n=this.get("state"),i=this.get("selectorsAdd"),l={escape:function(x){return Kl&&Kl.escape?Kl.escape(x):x}},f=this.get("selectors").getFullString(0,l),d=n&&!t.skipState?":".concat(n):"";return f&&e.push("".concat(f).concat(d)),i&&!t.skipAdd&&e.push(i),e.join(", ")},r.prototype.getDeclaration=function(t){t===void 0&&(t={});var e="",n=this.attributes.important,i=this.selectorsToString(t),l=this.styleToString(ai({important:n},t)),f=this.get("singleAtRule");return(i||f)&&(l||t.allowEmpty)&&(e=f?l:"".concat(i,"{").concat(l,"}")),e},r.prototype.getDevice=function(){var t=this.em,e=this.attributes,n=e.atRuleType,i=e.mediaText,l=(t==null?void 0:t.get("DeviceManager").getDevices())||[],f=l.filter(function(d){return d.getWidthMedia()===""})[0];return n==="media"&&i?l.filter(function(d){return d.getWidthMedia()===((x=/(-?\d*\.?\d+)\w{0,}/.exec(i))?x[0]:"");var x})[0]||null:f||null},r.prototype.getState=function(){var t=this.em,e=this.get("state");return((t==null?void 0:t.get("SelectorManager").getStates())||[]).filter(function(n){return n.getName()===e})[0]||null},r.prototype.getComponent=function(){var t,e=this.getSelectors(),n=e.length==1&&e.at(0),i=n&&n.isId()&&n.get("name");return i&&((t=this.em)===null||t===void 0?void 0:t.get("DomComponents").getById(i))||null},r.prototype.toCSS=function(t){t===void 0&&(t={});var e="",n=this.getAtRule(),i=this.getDeclaration(t);return(i||t.allowEmpty)&&(e=i),n&&e&&(e="".concat(n,"{").concat(e,"}")),e},r.prototype.toJSON=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=h.Hn.prototype.toJSON.apply(this,e);if(!((t=this.em)===null||t===void 0)&&t.getConfig().avoidDefaults){var l=this.defaults();(0,E.forEach)(l,function(f,d){i[d]===f&&delete i[d]}),delete i.style.__p,(0,E.isEmpty)(i.selectors)&&delete i.selectors,(0,E.isEmpty)(i.style)&&delete i.style}return i},r.prototype.compare=function(t,e,n,i){var l;i===void 0&&(i={});var f=e||"",d=n||"",x=i.selectorsAdd||"",b=i.atRuleType||"";d&&!b&&(b="media");var G=((0,E.isArray)(t)||t.models?t.models||t:[t]).map(function(bt){return bt.getFullName()}),nt=(l=this.get("selectors"))===null||l===void 0?void 0:l.map(function(bt){return bt.getFullName()}),st=G.slice().sort(),pt=nt.slice().sort();return!(G.length!==nt.length||!st.every(function(bt,Et){return bt===pt[Et]}))&&this.get("state")===f&&this.get("mediaText")===d&&this.get("selectorsAdd")===x&&this.get("atRuleType")===b},r}(er);const fl=Vp;var Jc=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dl=function(s){function r(t,e){var n=s.call(this,t)||this;return n.editor=e==null?void 0:e.em,setTimeout(function(){n.on("remove",n.onRemove),n.on("add",n.onAdd)}),n}return Jc(r,s),r.prototype.toJSON=function(t){return h.FE.prototype.toJSON.call(this,t).filter(function(e){return e.style&&!e.shallow})},r.prototype.onAdd=function(t,e,n){t.ensureSelectors(t,e,n)},r.prototype.onRemove=function(t){var e=this.editor;e.stopListening(t),e.UndoManager.remove(t)},r.prototype.add=function(t,e){return e===void 0&&(e={}),typeof t=="string"&&(t=this.editor.get("Parser").parseCss(t)),e.em=this.editor,h.FE.prototype.add.apply(this,[t,e])},r}(h.FE);const Hp=dl;dl.prototype.model=fl;var Xl=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Uo=function(){return Uo=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Uo.apply(this,arguments)},Qc=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},tu=function(s){function r(t){var e=s.call(this,t,"CssComposer",null,{},Vr)||this;e.Selectors=oo,e.storageKey="styles";var n=e.config,i=n.pStylePrefix;return i&&(n.stylePrefix=i+n.stylePrefix),n.rules=e.em.config.style||n.rules||"",e.rules=new Hp([],n),e}return Xl(r,s),r.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},r.prototype.postLoad=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.get("UndoManager");e&&e.add(this.getAll())},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){return this.loadProjectData(t,{all:this.rules})},r.prototype.add=function(t,e,n,i,l){i===void 0&&(i={}),l===void 0&&(l={});var f=e||"",d=n||"",x=Uo({},i),b=this.get(t,f,d,x);return b&&b.config&&!b.config.singleAtRule||(x.state=f,x.mediaText=d,x.selectors=[],d&&!x.atRuleType&&(x.atRuleType="media"),(b=new fl(x,this.config)).get("selectors").add(t,l),this.rules.add(b,l)),b},r.prototype.get=function(t,e,n,i){var l=t;if((0,E.isString)(t)){var f=this.em.Selectors,d=t.split(",")[0].trim(),x=this.em.Parser.parserCss.checkNode({selectors:d})[0];l=f.get(x.selectors)}return this.rules.find(function(b){return b.compare(l,e,n,i)})||null},r.prototype.getAll=function(){return this.rules},r.prototype.addCollection=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var i=this.em,l=[];(0,E.isString)(t)&&(t=i.Parser.parseCss(t));for(var f=t instanceof Array?t:[t],d=0,x=f.length;d<x;d++){var b=f[d]||{};if(b.selectors){var G=i==null?void 0:i.Selectors;G||console.warn("Selector Manager not found");for(var nt=b.selectors,st=nt instanceof Array?nt:[nt],pt=[],bt=0,Et=st.length;bt<Et;bt++){var Ot=G.add(st[bt]);pt.push(Ot)}var Zt=this.get(pt,b.state,b.mediaText,b),Qt=this.add(pt,b.state,b.mediaText,b,e),ve=!Zt||!e.avoidUpdateStyle,ye=b.style||{};if((0,K.isObject)(n)&&Qt.set(n,e),ve){var Re=e.extend?Uo(Uo({},Qt.get("style")),ye):ye;Qt.set("style",Re,e)}l.push(Qt)}}return l},r.prototype.addRules=function(t){return this.addCollection(t)},r.prototype.setRule=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var i=n.atRuleType,l=n.atRuleParams,f=this.em.Parser.parserCss.checkNode({selectors:t,style:e})[0],d=f.state,x=f.selectorsAdd,b=this.em.Selectors.add(f.selectors),G=this.add(b,d,l,{selectorsAdd:x,atRule:i});return n.addStyles?G.addStyle(e,n):G.setStyle(e,n),G},r.prototype.getRule=function(t,e){e===void 0&&(e={});var n=this.em,i=n.Selectors,l=n.Parser.parserCss.checkNode({selectors:t})[0],f=i.get(l.selectors),d=l.state,x=l.selectorsAdd,b=e.atRuleType,G=e.atRuleParams;return f?this.get(f,d,G,{selectorsAdd:x,atRuleType:b}):void 0},r.prototype.getRules=function(t){var e=this.getAll();if(!t)return Qc([],e.models,!0);var n={sort:!0},i=(0,E.isString)(t)?t.split(",").map(function(l){return l.trim()}):t;return e.filter(function(l){return i.indexOf(l.getSelectors().getFullString(null,n))>=0})},r.prototype.setIdRule=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var i=n.addOpts,l=i===void 0?{}:i,f=n.mediaText,d=n.state||"",x=(0,E.isUndefined)(f)?this.em.getCurrentMedia():f,b=this.em.Selectors.add({name:t,type:Wn.TYPE_ID},l),G=this.add(b,d,x,{},l);return G.setStyle(e,Uo(Uo({},n),l)),G},r.prototype.getIdRule=function(t,e){e===void 0&&(e={});var n=e.mediaText,i=e.state||"",l=(0,E.isUndefined)(n)?this.em.getCurrentMedia():n,f=this.em.Selectors.get(t,Wn.TYPE_ID);return f&&this.get(f,i,l)},r.prototype.setClassRule=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var i=n.state||"",l=n.mediaText||this.em.getCurrentMedia(),f=this.em.Selectors.add({name:t,type:Wn.TYPE_CLASS}),d=this.add(f,i,l);return d.setStyle(e,n),d},r.prototype.getClassRule=function(t,e){e===void 0&&(e={});var n=e.state||"",i=e.mediaText||this.em.getCurrentMedia(),l=this.em.Selectors.get(t,Wn.TYPE_CLASS);return l&&this.get(l,n,i)},r.prototype.remove=function(t,e){var n=(0,E.isString)(t)?this.getRules(t):t,i=this.getAll().remove(n,e);return(0,E.isArray)(i)?i:[i]},r.prototype.clear=function(t){return t===void 0&&(t={}),this.getAll().reset([],t),this},r.prototype.getComponentRules=function(t,e){e===void 0&&(e={});var n=e.state,i=e.mediaText;e.current&&(n=this.em.get("state")||"",i=this.em.getCurrentMedia());var l=t.getId();return this.getAll().filter(function(f){return!(!(0,E.isUndefined)(n)&&f.get("state")!==n)&&!(!(0,E.isUndefined)(i)&&f.get("mediaText")!==i)&&f.getSelectorsString()==="#".concat(l)})},r.prototype.render=function(){var t;return(t=this.rulesView)===null||t===void 0||t.remove(),this.rulesView=new Cr({collection:this.rules,config:this.config}),this.rulesView.render().el},r.prototype.destroy=function(){var t;this.rules.reset(),this.rules.stopListening(),(t=this.rulesView)===null||t===void 0||t.remove()},r}(M);const Jl=tu,eu={appendTo:"",blocks:[],appendOnClick:!1,custom:!1};var ma=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const nu=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return ma(r,s),r.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{}}},r.prototype.getId=function(){return this.id},r.prototype.getLabel=function(){return this.get("label")},r.prototype.getMedia=function(){return this.get("media")},r.prototype.getContent=function(){return this.get("content")},r.prototype.getCategoryLabel=function(){var t=this.get("category");return(0,E.isFunction)(t==null?void 0:t.get)?t.get("label"):t!=null&&t.label?t==null?void 0:t.label:t},r}(h.Hn);var hl=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Po=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return hl(r,s),r}(h.FE);const va=Po;Po.prototype.model=nu;var zp=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const Ql=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return zp(r,s),r.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},r}(h.Hn);var Yr=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),un=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Yr(r,s),r}(h.FE);const lo=un;un.prototype.model=Ql;var li=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ci=function(s){function r(t,e){e===void 0&&(e={});var n=s.call(this,t)||this,i=n.model;return n.em=e.em,n.config=e,n.endDrag=n.endDrag.bind(n),n.ppfx=e.pStylePrefix||"",n.listenTo(i,"destroy remove",n.remove),n.listenTo(i,"change",n.render),n}return li(r,s),r.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.handleClick=function(t){var e=this,n=e.config,i=e.model,l=e.em,f=i.get("onClick")||n.appendOnClick;if(l.trigger("block:click",i,t),f){if((0,E.isFunction)(f))return f(i,l==null?void 0:l.getEditor(),{event:t});var d,x,b=n.getSorter(),G=i.get("content"),nt=l.getSelected();if(b.setDropContent(G),nt)if(b.validTarget(nt.getEl(),G).valid)d=nt;else{var st=nt.parent();st&&b.validTarget(st.getEl(),G).valid&&(d=st,x=st.components().indexOf(nt)+1)}if(!d){var pt=l.getWrapper();b.validTarget(pt.getEl(),G).valid&&(d=pt)}var bt=d&&d.append(G,{at:x})[0];bt&&l.setSelected(bt,{scroll:1})}},r.prototype.startDrag=function(t){var e=this,n=e.config,i=e.em,l=e.model,f=l.get("disable");if(t.button===0&&n.getSorter&&!this.el.draggable&&!f){i.refreshCanvas();var d=n.getSorter();d.__currentBlock=l,d.setDragHelper(this.el,t),d.setDropContent(this.model.get("content")),d.startSort(this.el),(0,ue.on)(document,"mouseup",this.endDrag)}},r.prototype.handleDragStart=function(t){this.__getModule().__startDrag(this.model,t)},r.prototype.handleDrag=function(t){this.__getModule().__drag(t)},r.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},r.prototype.endDrag=function(){(0,ue.S1)(document,"mouseup",this.endDrag);var t=this.config.getSorter();t.moved=0,t.endMove()},r.prototype.render=function(){var t,e=this,n=e.em,i=e.el,l=e.$el,f=e.ppfx,d=e.model,x=d.get("disable"),b=d.get("attributes")||{},G=b.class||"",nt="".concat(f,"block"),st=n&&n.t("blockManager.labels.".concat(d.id))||d.get("label"),pt=d.get("render"),bt=d.get("media"),Et=x?"".concat(nt,"--disable"):"".concat(f,"four-color-h");l.attr(b),i.className="".concat(G," ").concat(nt," ").concat(f,"one-bg ").concat(Et).trim(),i.innerHTML=`
      `.concat(bt?'<div class="'.concat(nt,'__media">').concat(bt,"</div>"):"",`
      <div class="`).concat(nt,'-label">').concat(st,`</div>
    `),i.title=b.title||((t=i.textContent)===null||t===void 0?void 0:t.trim()),i.setAttribute("draggable","".concat(!(!(0,K.hasDnd)(n)||x)));var Ot=pt&&pt({el:i,model:d,className:nt,prefix:f});return Ot&&(i.innerHTML=Ot),this},r}(h.G7);const ru=ci;var tc=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ou=function(s,r){return Object.defineProperty?Object.defineProperty(s,"raw",{value:r}):s.raw=r,s},Bp=function(s){function r(t,e){var n=s.call(this,t)||this;n.config=e;var i=e.pStylePrefix||"";return n.em=e.em,n.pfx=i,n.caretR="fa fa-caret-right",n.caretD="fa fa-caret-down",n.iconClass="".concat(i,"caret-icon"),n.activeClass="".concat(i,"open"),n.className="".concat(i,"block-category"),n.listenTo(n.model,"change:open",n.updateVisibility),n.model.view=n,n}return tc(r,s),r.prototype.events=function(){return{"click [data-title]":"toggle"}},r.prototype.template=function(t){var e=t.pfx,n=t.label;return Z(xs||(xs=ou([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,`blocks-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,`blocks-c"></div>
    `])),e,e,n,e)},r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},r.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""},r.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"},r.prototype.toggle=function(){var t=this.model;t.set("open",!t.get("open"))},r.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},r.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.pfx,"blocks-c"))),this.blocksEl},r.prototype.append=function(t){this.getBlocksEl().appendChild(t)},r.prototype.render=function(){var t=this,e=t.em,n=t.el,i=t.$el,l=t.model,f=t.pfx,d=e.t("blockManager.categories.".concat(l.id))||l.get("label");return n.innerHTML=this.template({pfx:f,label:d}),i.addClass(this.className),i.css({order:l.get("order")}),this.updateVisibility(),this},r}(h.G7);const ec=Bp;var xs,iu=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cs=function(){return Cs=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Cs.apply(this,arguments)},ui=function(s){function r(t,e){var n=s.call(this,t)||this;(0,E.bindAll)(n,"getSorter","onDrag","onDrop","onMove"),n.config=e||{},n.categories=t.categories||"",n.renderedCategories={};var i=n.config.pStylePrefix||"";n.ppfx=i,n.noCatClass="".concat(i,"blocks-no-cat"),n.blockContClass="".concat(i,"blocks-c"),n.catsClass="".concat(i,"block-categories");var l=n.collection;return n.listenTo(l,"add",n.addTo),n.listenTo(l,"reset",n.render),n.em=n.config.em,n.em&&(n.config.getSorter=n.getSorter),n}return iu(r,s),r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.updateConfig=function(t){t===void 0&&(t={}),this.config=Cs(Cs({},this.config),t)},r.prototype.getSorter=function(){var t=this.em;if(t){if(!this.sorter){var e=t.Utils,n=t.Canvas;this.sorter=new e.Sorter({container:n.getBody(),placer:n.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:n.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:t,canvasRelative:1})}return this.sorter}},r.prototype.onDrag=function(t){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,t)},r.prototype.onMove=function(t){this.__getModule().__drag(t),this.em.trigger("block:drag:move",t)},r.prototype.onDrop=function(t){this.em.runDefault(),this.__getModule().__endDrag({component:t}),delete this.sorter.__currentBlock},r.prototype.addTo=function(t){this.add(t)},r.prototype.add=function(t,e){var n=this.config,i=new ru({model:t,attributes:t.get("attributes")},n).render().el,l=t.get("category");if(l&&this.categories&&!n.ignoreCategories){(0,E.isString)(l)?l={id:l,label:l}:(0,E.isObject)(l)&&!l.id&&(l.id=l.label);var f=this.categories.add(l),d=f.get("id"),x=this.getCategoriesEl(),b=this.renderedCategories[d];return t.set("category",f,{silent:!0}),!b&&x&&(b=new ec({model:f},n).render(),this.renderedCategories[d]=b,x.appendChild(b.el)),void(b&&b.append(i))}e?e.appendChild(i):this.append(i)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},r.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},r.prototype.append=function(t){var e=this.getBlocksEl();e&&e.appendChild(t)},r.prototype.render=function(){var t=this,e=this.ppfx,n=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories={},this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(l){return t.add(l,n)}),this.append(n);var i="".concat(this.blockContClass,"s ").concat(e,"one-bg ").concat(e,"two-color");return this.$el.addClass(i),this.rendered=!0,this},r}(h.G7);const nc=ui;var su=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pi=function(){return pi=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},pi.apply(this,arguments)},ya="block",Bi="".concat(ya,":"),au="".concat(Bi,"add"),Up="".concat(Bi,"update"),rc="".concat(Bi,"remove"),Wp="".concat(rc,":before"),oc="".concat(Bi,"drag"),gl={all:ya,update:Up,add:au,remove:rc,removeBefore:Wp,drag:oc,dragStart:"".concat(oc,":start"),dragEnd:"".concat(oc,":stop"),custom:"".concat(Bi,"custom")},lu=function(s){function r(t){var e,n=s.call(this,t,"BlockManager",new va(((e=t.config.blockManager)===null||e===void 0?void 0:e.blocks)||[]),gl,eu)||this;return n.Block=nu,n.Blocks=va,n.Category=Ql,n.Categories=lo,n.storageKey="",n.blocks=n.all,n.blocksVisible=new va(n.blocks.models),n.categories=new lo,n.blocks.on("add",function(i){return n.blocksVisible.add(i)}),n.blocks.on("remove",function(i){return n.blocksVisible.remove(i)}),n.blocks.on("reset",function(i){return n.blocksVisible.reset(i.models)}),n.__onAllEvent=(0,E.debounce)(function(){return n.__trgCustom()},0),n}return su(r,s),r.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:e.container,dragStart:function(n,i){return t.startDrag(n,i)},drag:function(n){return t.__drag(n)},dragStop:function(n){return t.endDrag(n)}}},r.prototype.__startDrag=function(t,e){var n=this,i=n.em,l=n.events,f=n.blocks,d=t.getContent?t.getContent():t;this._dragBlock=t,i.set({dragResult:null,dragContent:d}),[i,f].map(function(x){return x.trigger(l.dragStart,t,e)})},r.prototype.__drag=function(t){var e=this,n=e.em,i=e.events,l=e.blocks,f=this._dragBlock;[n,l].map(function(d){return d.trigger(i.drag,f,t)})},r.prototype.__endDrag=function(t){t===void 0&&(t={});var e=this,n=e.em,i=e.events,l=e.blocks,f=this._dragBlock,d=t.component||n.get("dragResult");if(delete this._dragBlock,d&&f){var x="activeOnRender",b=d.get&&d.get(x),G=f.get("activate")||b,nt=f.get("select"),st=(0,E.isArray)(d)?d[0]:d;(nt||G&&nt!==!1)&&n.setSelected(st),G&&(st.trigger("active"),b&&st.unset(x)),f.get("resetId")&&st.onAll(function(pt){return pt.resetId()})}n.set({dragResult:null,dragContent:null}),f&&[n,l].map(function(pt){return pt.trigger(i.dragEnd,d,f)})},r.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(t){return t.view}).filter(Boolean)},r.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=pi(pi({},this._bhv||{}),t)},r.prototype.__getBehaviour=function(){return this._bhv||{}},r.prototype.startDrag=function(t,e){this.__startDrag(t,e),this.__getFrameViews().forEach(function(n){var i;return(i=n.droppable)===null||i===void 0?void 0:i.startCustom()})},r.prototype.endDrag=function(t){this.__getFrameViews().forEach(function(e){var n;return(n=e.droppable)===null||n===void 0?void 0:n.endCustom(t)}),this.__endDrag()},r.prototype.postRender=function(){var t=this,e=t.categories,n=t.config,i=t.em,l=this.blocksVisible;this.blocksView=new nc({collection:l,categories:e},pi(pi({},n),{em:i})),this.__appendTo(l.models),this.__trgCustom()},r.prototype.add=function(t,e,n){n===void 0&&(n={});var i=e||{};return i.id=t,this.blocks.add(i,n)},r.prototype.get=function(t){return this.blocks.get(t)},r.prototype.getAll=function(){return this.blocks},r.prototype.getAllVisible=function(){return this.blocksVisible},r.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},r.prototype.getCategories=function(){return this.categories},r.prototype.getContainer=function(){var t;return(t=this.blocksView)===null||t===void 0?void 0:t.el},r.prototype.getDragBlock=function(){return this._dragBlock},r.prototype.render=function(t,e){e===void 0&&(e={});var n=this,i=n.categories,l=n.config,f=n.em,d=t||this.getAll().models;if(e.external){var x=new va(d);return new nc({collection:x,categories:i},pi(pi({em:f},l),e)).render().el}return this.blocksView&&(this.blocksView.updateConfig(e),this.blocksView.collection.reset(d),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},r.prototype.destroy=function(){var t,e=[this.blocks,this.blocksVisible,this.categories];e.map(function(n){return n.stopListening()}),e.map(function(n){return n.reset()}),(t=this.blocksView)===null||t===void 0||t.remove()},r}(M);const $p=lu,Gp={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1};var cu=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ui=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return cu(r,s),r.prototype.defaults=function(){return{name:"",label:""}},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(){return this.get("label")||this.getName()},r}(h.Hn);const ba=Ui;Ui.prototype.idAttribute="name";var ml=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uu=function(s,r){return Object.defineProperty?Object.defineProperty(s,"raw",{value:r}):s.raw=r,s},vl="contentEditable",pu=function(s){function r(t){t===void 0&&(t={});var e=s.call(this,t)||this,n=t.config||{};return e.config=n,e.module=t.module,e.coll=t.coll||null,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.em=n.em,e.listenTo(e.model,"change:active",e.updateStatus),e}return ml(r,s),r.prototype.template=function(){var t=this,e=t.pfx,n=t.model,i=t.config,l=n.get("label")||"";return Z(ic||(ic=uu([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),e,e,e,l,e,e,i.iconTagRemove)},r.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},r.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},r.prototype.startEditTag=function(){var t=this.em,e=this.getInputEl();e[vl]="true",e.focus(),t==null||t.setEditing(!0)},r.prototype.endEditTag=function(){var t=this.model,e=this.em,n=this.getInputEl(),i=n.textContent||"",l=e==null?void 0:e.Selectors;n[vl]="false",e==null||e.setEditing(!1),l&&l.rename(t,i)!==t&&(n.innerText=t.get("label"))},r.prototype.changeStatus=function(){var t=this.model;t.set("active",!t.get("active"))},r.prototype.removeTag=function(){this.module.removeSelected(this.model)},r.prototype.updateStatus=function(){var t=this,e=t.model,n=t.$el,i=t.config,l=i.iconTagOn,f=i.iconTagOff,d=n.find("[data-tag-status]");e.get("active")?(d.html(l),n.removeClass("opac50")):(d.html(f),n.addClass("opac50"))},r.prototype.render=function(){var t=this.pfx,e=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(t,"tag ").concat(e,"three-bg")),this.updateStatus(),this},r}(h.G7);const qp=pu;var ic,ar=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fi=function(s,r){return Object.defineProperty?Object.defineProperty(s,"raw",{value:r}):s.raw=r,s},fu=function(s){function r(t){t===void 0&&(t={});var e=s.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.className=e.pfx+"tags",e.stateInputId=e.pfx+"states",e.stateInputC=e.pfx+"input-c",e.states=e.config.states||[];var n=e.config.em,i=e.collection;e.target=n;var l=n.Selectors;return e.module=l,e.em=n,e.componentChanged=(0,E.debounce)(e.componentChanged.bind(e),0),e.checkSync=(0,E.debounce)(e.checkSync.bind(e),0),e.listenTo(n,"component:toggled component:update:classes",e.componentChanged),e.listenTo(n,"styleManager:update",e.componentChanged),e.listenTo(n,"component:update:classes change:state",e.__handleStateChange),e.listenTo(n,"styleable:change change:device",e.checkSync),e.listenTo(i,"add",e.addNew),e.listenTo(i,"reset",e.renderClasses),e.listenTo(i,"remove",e.tagRemoved),e.listenTo(l.getAll(),l.events.state,(0,E.debounce)(function(){return e.renderStates()},0)),e.delegateEvents(),e}return ar(r,s),r.prototype.template=function(t){var e=t.labelInfo,n=t.labelHead,i=t.iconSync,l=t.iconAdd,f=t.pfx,d=t.ppfx;return Z(sc||(sc=fi([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),f,f,f,f,n,f,f,f,d,d,d,f,d,d,f,d,f,f,f,f,f,l,f,f,i,f,f,e,f)},r.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},r.prototype.syncStyle=function(){var t,e=this.em,n=this.getTarget(),i=e.Css,l=this.getCommonSelectors({opts:{noDisabled:1}}),f=e.get("state"),d=e.getCurrentMedia(),x=[],b=i.get(l,f,d)||i.add(l,f,d);this.getTargets().forEach(function(G){var nt=i.getIdRule(G.getId(),{state:f,mediaText:d});t=nt.getStyle(),nt.setStyle({}),x.push(nt)}),t&&b.addStyle(t),e.trigger("component:toggled"),e.trigger("component:sync-style",{component:n,selectors:l,mediaText:d,rule:b,ruleComponents:x,state:f})},r.prototype.tagRemoved=function(t){this.updateStateVis()},r.prototype.addNew=function(t){this.addToClasses(t)},r.prototype.startNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:"none"}),(e=this.$input)===null||e===void 0||e.show().focus()},r.prototype.endNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:""}),(e=this.$input)===null||e===void 0||e.hide().val("")},r.prototype.onInputKeyUp=function(t){var e;t.keyCode===13?(t.preventDefault(),this.addNewTag((e=this.$input)===null||e===void 0?void 0:e.val())):t.keyCode===27&&this.endNewTag()},r.prototype.checkStates=function(){var t=this.em.getState(),e=this.getStates();e&&e.val(t)},r.prototype.componentChanged=function(t){var e=(t===void 0?{}:t).targets;this.updateSelection(e)},r.prototype.updateSelection=function(t){var e=t||this.getTargets(),n=[];return(e=(0,E.isArray)(e)?e:[e])&&e.length&&(n=this.getCommonSelectors({targets:e}),this.checkSync({validSelectors:n})),this.collection.reset(n),this.updateStateVis(e),this.module.__trgCustom(),n},r.prototype.getCommonSelectors=function(t){var e=t===void 0?{}:t,n=e.targets,i=e.opts,l=i===void 0?{}:i,f=n||this.getTargets();return this.module.__getCommonSelectors(f,l)},r.prototype._commonSelectors=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.module).__common.apply(t,e)},r.prototype.checkSync=function(){var t,e=this,n=e.$btnSyncEl,i=e.config,l=e.collection,f=this.getTarget();if(f&&i.componentFirst&&l.length){var d=f.getStyle();t=!(0,E.isEmpty)(d)}n&&n[t?"show":"hide"]()},r.prototype.getTarget=function(){return this.target.getSelected()},r.prototype.getTargets=function(){return this.target.getSelectedAll()},r.prototype.updateStateVis=function(t){var e=this.em,n=e&&e.getConfig().avoidInlineStyle,i=this.collection.length||n?"":"none";this.getStatesC().css("display",i),this.updateSelector(t)},r.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},r.prototype.updateSelector=function(t){var e=this,n=this.el.querySelector("[data-selected]"),i=[],l=t||this.getTargets();(l=(0,E.isArray)(l)?l:[l]).forEach(function(f){return i.push(e.__getName(f))}),n&&(n.innerHTML=i.join(", ")),this.checkStates()},r.prototype.__getName=function(t){var e,n=this,i=n.pfx,l=n.config,f=n.em,d=l.selectedName,x=l.componentFirst;if((0,E.isString)(t))e=Z(Wi||(Wi=fi(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),i,t);else{var b=t==null?void 0:t.getSelectors();if(!b)return"";var G=b.getStyleable(),nt=f.get("state"),st=t.getId?Z(wa||(wa=fi(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),i,t.getName(),i,t.getId()):"";e=(e=this.collection.getFullString(G))?Z(ac||(ac=fi(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),i,e):t.get("selectorsAdd")||st,e=x&&st?st:e,e+=nt?Z(lc||(lc=fi(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),i,nt):"",e=d?d({result:e,state:nt,target:t}):e}return e&&'<span class="'.concat(i,'sel">').concat(e,"</span>")},r.prototype.stateChanged=function(t){var e=this.em,n=t.target.value;e.set("state",n)},r.prototype.addNewTag=function(t){var e=t.trim();e&&(this.module.addSelected({label:e}),this.endNewTag())},r.prototype.addToClasses=function(t,e){var n=e,i=this.getClasses(),l=new qp({model:t,config:this.config,coll:this.collection,module:this.module}).render().el;return n?n.appendChild(l):i.append(l),l},r.prototype.renderClasses=function(){var t=this,e=document.createDocumentFragment(),n=this.getClasses();n.empty(),this.collection.each(function(i){return t.addToClasses(i,e)}),n.append(e)},r.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},r.prototype.getStates=function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},r.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},r.prototype.renderStates=function(){var t=this.module,e=this.em,n=e.t("selectorManager.emptyState"),i=t.getStates().map(function(f){var d=e.t("selectorManager.states.".concat(f.id))||f.getLabel()||f.id;return'<option value="'.concat(f.id,'">').concat(d,"</option>")}).join(""),l=this.getStates();l&&l.html('<option value="">'.concat(n,"</option>").concat(i)),this.checkStates()},r.prototype.render=function(){var t=this,e=t.em,n=t.pfx,i=t.ppfx,l=t.config,f=t.$el,d=t.el,x=l.render,b={iconSync:l.iconSync,iconAdd:l.iconAdd,labelHead:e.t("selectorManager.label"),labelInfo:e.t("selectorManager.selected"),ppfx:i,pfx:n,el:d};f.html(this.template(b));var G=x&&x(b);return G&&G!==d&&f.empty().append(G),this.$input=f.find("[data-input]"),this.$addBtn=f.find("[data-add]"),this.$classes=f.find("#"+n+"tags-c"),this.$btnSyncEl=f.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),f.attr("class","".concat(this.className," ").concat(i,"one-bg ").concat(i,"two-color")),this},r}(h.G7);const du=fu;var sc,Wi,wa,ac,lc,hu=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ao=function(){return Ao=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Ao.apply(this,arguments)},yl=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},_a=function(s){return(0,E.isString)(s)&&s[0]=="#"},cc=function(s){return(0,E.isString)(s)&&s[0]=="."},Ss="selector",xa="".concat(Ss,":"),Os="".concat(xa,"add"),gu="".concat(xa,"update"),uc="".concat(xa,"remove"),mu="".concat(uc,":before"),Ca="".concat(xa,"custom"),ks="".concat(xa,"state"),Sa={all:Ss,update:gu,add:Os,remove:uc,removeBefore:mu,state:ks,custom:Ca},Oa=function(s){function r(t){var e=s.call(this,t,"SelectorManager",new oo([]),Sa,Gp,{skipListen:!0})||this;e.Selector=Wn,e.Selectors=oo,e.storageKey="",(0,E.bindAll)(e,"__updateSelectedByComponents");var n=e.config,i=n.pStylePrefix;return i&&(n.stylePrefix=i+n.stylePrefix),e.all=new oo(n.selectors),e.selected=new oo([],{em:t,config:n}),e.states=new h.FE(n.states.map(function(l){return new ba(l)}),{model:ba}),e.model=new h.Hn({cFirst:n.componentFirst,_undo:!0}),e.__update=(0,E.debounce)(function(){return e.__trgCustom()},0),e.__initListen({collections:[e.states,e.selected],propagate:[{entity:e.states,event:e.events.state}]}),t.on("change:state",function(l,f){return t.trigger(ks,f)}),e.model.on("change:cFirst",function(l,f){return t.trigger("selector:type",f)}),t.on("component:toggled component:update:classes",e.__updateSelectedByComponents),e.model.listenTo(t,"component:toggled component:update:classes change:device styleManager:update selector:state selector:type style:target",function(){return e.__update()}),e}return hu(r,s),r.prototype.__trgCustom=function(t){this.em.trigger(this.events.custom,this.__customData(t))},r.prototype.getAll=function(t){return t===void 0&&(t={}),this.all?t.array?yl([],this.all.models,!0):this.all:[]},r.prototype.__customData=function(t){return t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},r.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},r.prototype.select=function(t,e){e===void 0&&(e={});var n=Array.isArray(t)?t:[t],i=this.em.Styles.select(n,e);this.selected.reset(this.__getCommonSelectors(i));var l=this.selectorTags,f=i.filter(function(d){return d}).map(function(d){return(0,K.isComponent)(d)||(0,K.isRule)(d)&&!d.get("selectorsAdd")?d:d.getSelectorsString()});return l&&l.componentChanged({targets:f}),this},r.prototype.addSelector=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var i=Ao({},e);(0,E.isObject)(t)?i=t:i.name=t,_a(i.name)?(i.name=i.name.substr(1),i.type=Wn.TYPE_ID):cc(i.name)&&(i.name=i.name.substr(1)),i.label&&!i.name&&(i.name=this.escapeName(i.label));var l=i.name,f=this.getConfig(),d=this.all,x=this.em,b=l?this.get(l,i.type):d.where(i)[0];if(!b){var G=i instanceof Wn?i:new Wn(i,Ao(Ao({},n),{config:f,em:x}));return d.add(G,n)}return b},r.prototype.getSelector=function(t,e){return e===void 0&&(e=Wn.TYPE_CLASS),_a(t)?(t=t.substr(1),e=Wn.TYPE_ID):cc(t)&&(t=t.substr(1)),this.all.where({name:t,type:e})[0]},r.prototype.add=function(t,e){var n=this;e===void 0&&(e={});var i=(0,E.isString)(t)?{}:e;return(0,E.isArray)(t)?t.map(function(l){return n.addSelector(l,e,i)}):this.addSelector(t,e,i)},r.prototype.addClass=function(t){var e=this,n=[];return(0,E.isString)(t)&&(t=t.trim().split(" ")),t.forEach(function(i){return n.push(e.addSelector(i))}),n},r.prototype.get=function(t,e){var n=this;if((0,E.isArray)(t)){var i=[];return t.map(function(l){return n.getSelector(l)}).filter(Boolean).forEach(function(l){return i.indexOf(l)<0&&i.push(l)}),i}return this.getSelector(t,e)},r.prototype.remove=function(t,e){return this.__remove(t,e)},r.prototype.rename=function(t,e,n){var i=this.escapeName(e);return this.get(i)||t.set({name:i,label:e},n)},r.prototype.setState=function(t){return this.em.setState(t),this},r.prototype.getState=function(){return this.em.getState()},r.prototype.getStates=function(){return yl([],this.states.models,!0)},r.prototype.setStates=function(t,e){return this.states.reset(t.map(function(n){return new ba(n)}),e)},r.prototype.getSelected=function(){return this.__getCommon()},r.prototype.getSelectedAll=function(){return yl([],this.selected.models,!0)},r.prototype.addSelected=function(t){var e=this.add(t);this.em.getSelectedAll().forEach(function(n){n.getSelectors().add(e)})},r.prototype.removeSelected=function(t){this.em.getSelectedAll().forEach(function(e){!t.get("protected")&&e&&e.getSelectors().remove(t)})},r.prototype.duplicateSelected=function(t,e){var n=this;e===void 0&&(e={});var i=this.em,l=this.getSelected();if(!(l.indexOf(t)<0)){var f=this.getState(),d=i.getCurrentMedia(),x=i.Css.get(l,f,d),b=x==null?void 0:x.getStyle();i.getSelectedAll().forEach(function(G){var nt=G.getSelectors();if(nt.includes(t)){var st=e.suffix||" copy",pt=t.getLabel(),bt=n.addSelector("".concat(pt).concat(st)),Et=nt.indexOf(t);nt.remove(t),nt.add(bt,{at:Et})}}),b&&i.Css.add(this.getSelected(),f,d).setStyle(b)}},r.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},r.prototype.setComponentFirst=function(t){this.getConfig().componentFirst=t,this.model.set({cFirst:t})},r.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},r.prototype.escapeName=function(t){var e=this.getConfig().escapeName;return e?e(t):Wn.escapeName(t)},r.prototype.render=function(t){var e=this.selectorTags,n=this.getConfig(),i=e==null?void 0:e.el;return this.selected.reset(t),this.selectorTags=new du({el:i,collection:this.selected,module:this,config:n}),this.selectorTags.render().el},r.prototype.destroy=function(){var t=this.selectorTags;this.model.stopListening(),this.__update.cancel(),this.__destroy(),t==null||t.remove(),this.selectorTags=void 0},r.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},r.prototype.__getCommonSelectors=function(t,e){e===void 0&&(e={});var n=t.map(function(i){return i.getSelectors&&i.getSelectors().getValid(e)}).filter(Boolean);return this.__common.apply(this,n)},r.prototype.__common=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length?e.length===1?e[0]:e.length===2?e[0].filter(function(i){return e[1].indexOf(i)>=0}):e.slice(1).reduce(function(i,l){return t.__common(i,l)},e[0]):[]},r.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},r}(M);const vu=Oa,Zp={textTags:["br","b","i","u","a","ul","ol"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,keepEmptyTextNodes:!1}};var ka={4:"media",5:"font-face",6:"page",7:"keyframes",11:"counter-style",12:"supports",13:"document",14:"font-feature-values",15:"viewport"},di=(0,E.keys)(ka),Ts=["5","6","11","15"],Ta=["font-face","page","counter-style","viewport"],yu=function(s){s===void 0&&(s="");for(var r=[],t=[],e=s.split(","),n=0,i=e.length;n<i;n++){var l=e[n].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(l)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(l)){var f=l.split(".").filter(Boolean);t.push(f)}else r.push(l)}return{result:t,add:r}},bu=function(s){for(var r=s.style,t={},e=0,n=r.length;e<n;e++){var i=r[e],l=r.getPropertyValue(i),f=r.getPropertyPriority(i);t[i]="".concat(l).concat(f?" !".concat(f):"")}return t},wu=function(s){return(s.conditionText||s.media&&s.media.mediaText||s.name||s.selectorText||"").trim()},pc=function(s,r,t){r===void 0&&(r={}),t===void 0&&(t={});var e={},n=s.length,i=s[n-1],l=i?i.split(/:(.+)/):[],f=l[1],d=t.atRule,x=t.selectorsAdd,b=t.mediaText;return Ta.indexOf(d)>=0&&(e.singleAtRule=!0),d&&(e.atRuleType=d),x&&(e.selectorsAdd=x),b&&(e.mediaText=b),f&&(s[n-1]=l[0],e.state=f,l.splice(l.length-1,1)),e.selectors=s,e.style=r,e},_u=function(s){for(var r=[],t=s.cssRules||[],e=0,n=t.length;e<n;e++){var i=t[e],l=i.type.toString(),f=!1,d="",x="",b=i.selectorText||i.keyText,G=Ts.indexOf(l)>=0;if(G)f=!0,d=ka[l],x=wu(i);else if(di.indexOf(l)>=0){var nt=_u(i);x=wu(i);for(var st=0,pt=nt.length;st<pt;st++){var bt=nt[st];x&&(bt.mediaText=x),bt.atRuleType=ka[l]}r=r.concat(nt)}if(b||G){for(var Et=bu(i),Ot=yu(b),Zt=Ot.add,Qt=Ot.result,ve=void 0,ye=0,Re=Qt.length;ye<Re;ye++){var Be=pc(Qt[ye],Et,{atRule:ka[l]});r.push(Be),ve=Be}if(Zt.length){var en=Zt.join(", ");ve?ve.selectorsAdd=en:(Be={selectors:[],selectorsAdd:en,style:Et},f&&(Be.singleAtRule=f),d&&(Be.atRuleType=d),x&&(Be.mediaText=x),r.push(Be))}}}return r};const Er=function(s,r){return r===void 0&&(r={}),{parse:function(t){var e=this,n=[],i=r.parserCss,l=s==null?void 0:s.Editor,f=i?i(t,l):function(d){var x=document.createElement("style");x.innerHTML=d,document.head.appendChild(x);var b=x.sheet;return document.head.removeChild(x),_u(b)}(t);return f.forEach(function(d){return n=n.concat(e.checkNode(d))}),s==null||s.trigger("parse:css",{input:t,output:n}),n},checkNode:function(t){var e=t.selectors,n=t.style,i=[t];if((0,E.isString)(e)){var l=[],f=t,d=yu(e),x=d.result,b=d.add.join(", "),G={atRule:f.atRule,mediaText:f.params};x.length?x.forEach(function(nt){l.push(pc(nt,n,G))}):l.push(pc([],n,G)),b&&(l[l.length-1].selectorsAdd=b),i=l}return i}}};var xu=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yp=function(s){function r(t){var e=s.call(this,t,"Parser",Zp)||this,n=e.config;return e.parserCss=Er(t,n),e.parserHtml=Ko(t,n),e}return xu(r,s),r.prototype.parseHtml=function(t,e){e===void 0&&(e={});var n=this.em,i=this.parserHtml;return i.compTypes=n.Components.getTypes()||{},i.parse(t,this.parserCss,e)},r.prototype.parseCss=function(t){return this.parserCss.parse(t)},r.prototype.destroy=function(){},r}(k);const Kp=Yp,Xp={id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(s){return s},onLoad:function(s){return s},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(s){return s},onLoad:function(s){return s}}}};var fc=function(s,r,t,e){return new(t||(t=Promise))(function(n,i){function l(x){try{d(e.next(x))}catch(b){i(b)}}function f(x){try{d(e.throw(x))}catch(b){i(b)}}function d(x){var b;x.done?n(x.value):(b=x.value,b instanceof t?b:new t(function(G){G(b)})).then(l,f)}d((e=e.apply(s,r||[])).next())})},dc=function(s,r){var t,e,n,i,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function f(d){return function(x){return function(b){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,b[0]&&(l=0)),l;)try{if(t=1,e&&(n=2&b[0]?e.return:b[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,b[1])).done)return n;switch(e=0,n&&(b=[2&b[0],n.value]),b[0]){case 0:case 1:n=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,e=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(n=l.trys,!((n=n.length>0&&n[n.length-1])||b[0]!==6&&b[0]!==2)){l=0;continue}if(b[0]===3&&(!n||b[1]>n[0]&&b[1]<n[3])){l.label=b[1];break}if(b[0]===6&&l.label<n[1]){l.label=n[1],n=b;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(b);break}n[2]&&l.ops.pop(),l.trys.pop();continue}b=r.call(s,l)}catch(G){b=[6,G],e=0}finally{t=n=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([d,x])}}};const Cu=function(){function s(){}return s.prototype.store=function(r,t){return t===void 0&&(t={}),fc(this,void 0,void 0,function(){return dc(this,function(e){return this.hasLocal(t,!0)&&localStorage.setItem(t.key,JSON.stringify(r)),[2,r]})})},s.prototype.load=function(r){return r===void 0&&(r={}),fc(this,void 0,void 0,function(){var t;return dc(this,function(e){return t={},this.hasLocal(r,!0)&&(t=JSON.parse(localStorage.getItem(r.key)||"{}")),[2,t]})})},s.prototype.hasLocal=function(r,t){if(r===void 0&&(r={}),r.checkLocal&&(!(0,K.hasWin)()||!localStorage)){if(t)throw new Error("localStorage not available");return!1}return!0},s}();function $i(s){return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$i(s)}const Jp=function(s){var r=this.constructor;return this.then(function(t){return r.resolve(s()).then(function(){return t})},function(t){return r.resolve(s()).then(function(){return r.reject(t)})})},Qp=function(s){return new this(function(r,t){if(!s||s.length===void 0)return t(new TypeError($i(s)+" "+s+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(s);if(e.length===0)return r([]);var n=e.length;function i(f,d){if(d&&($i(d)==="object"||typeof d=="function")){var x=d.then;if(typeof x=="function")return void x.call(d,function(b){i(f,b)},function(b){e[f]={status:"rejected",reason:b},--n==0&&r(e)})}e[f]={status:"fulfilled",value:d},--n==0&&r(e)}for(var l=0;l<e.length;l++)i(l,e[l])})};function Wo(s,r){this.name="AggregateError",this.errors=s,this.message=r||""}Wo.prototype=Error.prototype;const Ea=function(s){var r=this;return new r(function(t,e){if(!s||s.length===void 0)return e(new TypeError("Promise.any accepts an array"));var n=Array.prototype.slice.call(s);if(n.length===0)return e();for(var i=[],l=0;l<n.length;l++)try{r.resolve(n[l]).then(t).catch(function(f){i.push(f),i.length===n.length&&e(new Wo(i,"All promises were rejected"))})}catch(f){e(f)}})};var bl=setTimeout;function Es(s){return!!(s&&s.length!==void 0)}function $o(){}function An(s){if(!(this instanceof An))throw new TypeError("Promises must be constructed via new");if(typeof s!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Pa(s,this)}function Su(s,r){for(;s._state===3;)s=s._value;s._state!==0?(s._handled=!0,An._immediateFn(function(){var t=s._state===1?r.onFulfilled:r.onRejected;if(t!==null){var e;try{e=t(s._value)}catch(n){return void Ps(r.promise,n)}hi(r.promise,e)}else(s._state===1?hi:Ps)(r.promise,s._value)})):s._deferreds.push(r)}function hi(s,r){try{if(r===s)throw new TypeError("A promise cannot be resolved with itself.");if(r&&($i(r)==="object"||typeof r=="function")){var t=r.then;if(r instanceof An)return s._state=3,s._value=r,void wl(s);if(typeof t=="function")return void Pa((e=t,n=r,function(){e.apply(n,arguments)}),s)}s._state=1,s._value=r,wl(s)}catch(i){Ps(s,i)}var e,n}function Ps(s,r){s._state=2,s._value=r,wl(s)}function wl(s){s._state===2&&s._deferreds.length===0&&An._immediateFn(function(){s._handled||An._unhandledRejectionFn(s._value)});for(var r=0,t=s._deferreds.length;r<t;r++)Su(s,s._deferreds[r]);s._deferreds=null}function Ou(s,r,t){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof r=="function"?r:null,this.promise=t}function Pa(s,r){var t=!1;try{s(function(e){t||(t=!0,hi(r,e))},function(e){t||(t=!0,Ps(r,e))})}catch(e){if(t)return;t=!0,Ps(r,e)}}An.prototype.catch=function(s){return this.then(null,s)},An.prototype.then=function(s,r){var t=new this.constructor($o);return Su(this,new Ou(s,r,t)),t},An.prototype.finally=Jp,An.all=function(s){return new An(function(r,t){if(!Es(s))return t(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(s);if(e.length===0)return r([]);var n=e.length;function i(f,d){try{if(d&&($i(d)==="object"||typeof d=="function")){var x=d.then;if(typeof x=="function")return void x.call(d,function(b){i(f,b)},t)}e[f]=d,--n==0&&r(e)}catch(b){t(b)}}for(var l=0;l<e.length;l++)i(l,e[l])})},An.any=Ea,An.allSettled=Qp,An.resolve=function(s){return s&&$i(s)==="object"&&s.constructor===An?s:new An(function(r){r(s)})},An.reject=function(s){return new An(function(r,t){t(s)})},An.race=function(s){return new An(function(r,t){if(!Es(s))return t(new TypeError("Promise.race accepts an array"));for(var e=0,n=s.length;e<n;e++)An.resolve(s[e]).then(r,t)})},An._immediateFn=typeof setImmediate=="function"&&function(s){setImmediate(s)}||function(s){bl(s,0)},An._unhandledRejectionFn=function(s){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",s)};const gi=An;(0,K.hasWin)()&&(window.Promise=window.Promise||gi);const _l=typeof fetch=="function"?fetch.bind():function(s,r){return new gi(function(t,e){var n=new XMLHttpRequest;for(var i in n.open(r.method||"get",s),n.withCredentials=r.credentials=="include",r.headers||{})n.setRequestHeader(i,r.headers[i]);n.onload=function(l){return t({status:n.status,statusText:n.statusText,text:function(){return gi.resolve(n.responseText)}})},n.onerror=e,n.upload&&r.onProgress&&(n.upload.onprogress=r.onProgress),r.body?n.send(r.body):n.send()})};var As=function(){return As=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},As.apply(this,arguments)},xl=function(s,r,t,e){return new(t||(t=Promise))(function(n,i){function l(x){try{d(e.next(x))}catch(b){i(b)}}function f(x){try{d(e.throw(x))}catch(b){i(b)}}function d(x){var b;x.done?n(x.value):(b=x.value,b instanceof t?b:new t(function(G){G(b)})).then(l,f)}d((e=e.apply(s,r||[])).next())})},ku=function(s,r){var t,e,n,i,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function f(d){return function(x){return function(b){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,b[0]&&(l=0)),l;)try{if(t=1,e&&(n=2&b[0]?e.return:b[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,b[1])).done)return n;switch(e=0,n&&(b=[2&b[0],n.value]),b[0]){case 0:case 1:n=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,e=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(n=l.trys,!((n=n.length>0&&n[n.length-1])||b[0]!==6&&b[0]!==2)){l=0;continue}if(b[0]===3&&(!n||b[1]>n[0]&&b[1]<n[3])){l.label=b[1];break}if(b[0]===6&&l.label<n[1]){l.label=n[1],n=b;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(b);break}n[2]&&l.ops.pop(),l.trys.pop();continue}b=r.call(s,l)}catch(G){b=[6,G],e=0}finally{t=n=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([d,x])}}};const Aa=function(){function s(){}return s.prototype.store=function(r,t){return t===void 0&&(t={}),xl(this,void 0,void 0,function(){return ku(this,function(e){switch(e.label){case 0:return[4,this.request(t.urlStore,this.__props(t,r),t)];case 1:return[2,e.sent()]}})})},s.prototype.load=function(r){return r===void 0&&(r={}),xl(this,void 0,void 0,function(){return ku(this,function(t){switch(t.label){case 0:return[4,this.request(r.urlLoad,this.__props(r),r)];case 1:return[2,t.sent()]}})})},s.prototype.request=function(r,t,e){return t===void 0&&(t={}),e===void 0&&(e={}),_l(r,t).then(function(n){var i=n.text();return(n.status/200|0)==1?i:i.then(Promise.reject)}).then(function(n){var i=n&&(0,E.isString)(n);return e.contentTypeJson&&i?JSON.parse(n):n})},s.prototype.__props=function(r,t){r===void 0&&(r={});var e,n=r.contentTypeJson,i=r.headers||{},l=r.fetchOptions||{},f="X-Requested-With",d="Content-Type";if((0,E.isUndefined)(i[f])&&(i[f]="XMLHttpRequest"),(0,E.isUndefined)(i[d])&&n&&(i[d]="application/json; charset=utf-8"),t)if(n)e=JSON.stringify(t);else for(var x in e=new FormData,t)e.append(x,t[x]);var b={method:e?"POST":"GET",credentials:r.credentials,headers:i,body:e};return As(As({},b),(0,E.isFunction)(l)?l(b):l)},s}();var Tu=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),js=function(){return js=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},js.apply(this,arguments)},Cl=function(s,r,t,e){return new(t||(t=Promise))(function(n,i){function l(x){try{d(e.next(x))}catch(b){i(b)}}function f(x){try{d(e.throw(x))}catch(b){i(b)}}function d(x){var b;x.done?n(x.value):(b=x.value,b instanceof t?b:new t(function(G){G(b)})).then(l,f)}d((e=e.apply(s,r||[])).next())})},Ms=function(s,r){var t,e,n,i,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function f(d){return function(x){return function(b){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,b[0]&&(l=0)),l;)try{if(t=1,e&&(n=2&b[0]?e.return:b[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,b[1])).done)return n;switch(e=0,n&&(b=[2&b[0],n.value]),b[0]){case 0:case 1:n=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,e=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(n=l.trys,!((n=n.length>0&&n[n.length-1])||b[0]!==6&&b[0]!==2)){l=0;continue}if(b[0]===3&&(!n||b[1]>n[0]&&b[1]<n[3])){l.label=b[1];break}if(b[0]===6&&l.label<n[1]){l.label=n[1],n=b;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(b);break}n[2]&&l.ops.pop(),l.trys.pop();continue}b=r.call(s,l)}catch(G){b=[6,G],e=0}finally{t=n=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([d,x])}}},Eu="storage:start",Pu="storage:after",Ls="storage:end",hc="storage:error",ja="local",Au="remote",gc=function(s){function r(t){var e=s.call(this,t,"StorageManager",Xp)||this;e.storages={};var n=e.config;return n._disable&&(n.type=void 0),e.storages={},e.add(ja,new Cu),e.add(Au,new Aa),e.setCurrent(n.type),e}return Tu(r,s),r.prototype.isAutosave=function(){return!!this.config.autosave},r.prototype.setAutosave=function(t){return this.config.autosave=!!t,this},r.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},r.prototype.setStepsBeforeSave=function(t){return this.config.stepsBeforeSave=t,this},r.prototype.add=function(t,e){return this.storages[t]=e,this},r.prototype.get=function(t){return this.storages[t]},r.prototype.getStorages=function(){return this.storages},r.prototype.getCurrent=function(){return this.config.currentStorage},r.prototype.setCurrent=function(t){return this.getConfig().currentStorage=t,this},r.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},r.prototype.getStorageOptions=function(t){return this.getCurrentOptions(t)},r.prototype.store=function(t,e){return e===void 0&&(e={}),Cl(this,void 0,void 0,function(){var n,i,l,f,d;return Ms(this,function(x){switch(x.label){case 0:n=this.getCurrentStorage(),i=js(js({},this.getCurrentOptions()),e),l=this.getRecoveryStorage(),f=this.getCurrentOptions(ja),x.label=1;case 1:return x.trys.push([1,5,,9]),[4,this.__exec(n,i,t)];case 2:return x.sent(),l?[4,this.__exec(l,f,{})]:[3,4];case 3:x.sent(),x.label=4;case 4:return[3,9];case 5:return d=x.sent(),l?[4,this.__exec(l,f,t)]:[3,7];case 6:return x.sent(),[3,8];case 7:throw d;case 8:return[3,9];case 9:return[2,t]}})})},r.prototype.load=function(t){return t===void 0&&(t={}),Cl(this,void 0,void 0,function(){var e,n,i,l,f;return Ms(this,function(d){switch(d.label){case 0:return e=this.getCurrentStorage(),n=js(js({},this.getCurrentOptions()),t),(i=this.getRecoveryStorage())?[4,this.__exec(i,this.getCurrentOptions(ja))]:[3,5];case 1:if(f=d.sent(),(0,E.isEmpty)(f))return[3,5];d.label=2;case 2:return d.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return d.sent(),l=f,[3,5];case 4:return d.sent(),[3,5];case 5:return l?[3,7]:[4,this.__exec(e,n)];case 6:l=d.sent(),d.label=7;case 7:return[2,l||{}]}})})},r.prototype.__askRecovery=function(){var t=this.em,e=this.getRecovery();return new Promise(function(n,i){(0,E.isFunction)(e)?e(n,i,t==null?void 0:t.getEditor()):confirm(t==null?void 0:t.t("storageManager.recover"))?n(null):i()})},r.prototype.getRecovery=function(){return this.config.recovery},r.prototype.getRecoveryStorage=function(){return this.getRecovery()&&this.getCurrent()===Au&&this.get(ja)},r.prototype.__exec=function(t,e,n){var i;return Cl(this,void 0,void 0,function(){var l,f,d,x,b,G,nt,st,pt,bt,Et,Ot,Zt;return Ms(this,function(Qt){switch(Qt.label){case 0:if(l=n?"store":"load",f=this.getConfig(),d=f.onStore,x=f.onLoad,this.onStart(l,n),!t)return[2,n||{}];Qt.label=1;case 1:return Qt.trys.push([1,14,,15]),G=(i=this.em)===null||i===void 0?void 0:i.getEditor(),nt=void 0,n?(pt=d)?[4,d(n,G)]:[3,3]:[3,7];case 2:pt=Qt.sent(),Qt.label=3;case 3:return st=pt||n,(bt=e.onStore)?[4,e.onStore(st,G)]:[3,5];case 4:bt=Qt.sent(),Qt.label=5;case 5:return st=bt||st,[4,t.store(st,e)];case 6:return nt=Qt.sent(),b=n,[3,13];case 7:return[4,t.load(e)];case 8:return nt=Qt.sent(),b=this.__clearKeys(nt),(Et=e.onLoad)?[4,e.onLoad(b,G)]:[3,10];case 9:Et=Qt.sent(),Qt.label=10;case 10:return b=Et||b,(Ot=x)?[4,x(b,G)]:[3,12];case 11:Ot=Qt.sent(),Qt.label=12;case 12:b=Ot||b,Qt.label=13;case 13:return this.onAfter(l,b,nt),this.onEnd(l,b),[3,15];case 14:throw Zt=Qt.sent(),this.onError(l,Zt),Zt;case 15:return[2,b]}})})},r.prototype.__clearKeys=function(t){t===void 0&&(t={});var e=this.getConfig(),n=new RegExp("^".concat(e.id)),i={};for(var l in t)i[l.replace(n,"")]=t[l];return i},r.prototype.getCurrentOptions=function(t){var e=this.getConfig(),n=t||this.getCurrent();return e.options[n]||{}},r.prototype.onStart=function(t,e){var n=this.em;n&&(n.trigger(Eu),t&&n.trigger("".concat(Eu,":").concat(t),e))},r.prototype.onAfter=function(t,e,n){var i=this.em;i&&(i.trigger(Pu),i.trigger("".concat(Pu,":").concat(t),e,n),i.trigger("storage:".concat(t),e,n))},r.prototype.onEnd=function(t,e){var n=this.em;n&&(n.trigger(Ls),t&&n.trigger("".concat(Ls,":").concat(t),e))},r.prototype.onError=function(t,e){var n=this.em;n&&(n.trigger(hc,e),t&&n.trigger("".concat(hc,":").concat(t),e),this.onEnd(t,e))},r.prototype.canAutoload=function(){return!!this.getCurrentStorage()&&!!this.config.autoload},r.prototype.destroy=function(){this.storages={}},r}(k);const ju=gc,tf={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1};var Mu=Lt(330),Lu=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Go=function(){return Go=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Go.apply(this,arguments)},Ds=function(s){function r(t){t===void 0&&(t={});var e=s.call(this,t)||this;e.events={},e.appendInput=!0;var n=t.config,i=n===void 0?{}:n,l=e,f=l.model,d=l.eventCapture,x=f.target,b=f.attributes.type;e.config=i,e.em=i.em,e.ppfx=i.pStylePrefix||"",e.pfx=e.ppfx+i.stylePrefix||"",e.target=x;var G=e.ppfx;return e.clsField="".concat(G,"field ").concat(G,"field-").concat(b),[["change:value",e.onValueChange],["remove",e.removeView]].forEach(function(nt){var st=nt[0],pt=nt[1];f.off(st,pt),e.listenTo(f,st,pt)}),f.view=e,e.listenTo(f,"change:label",e.render),e.listenTo(f,"change:placeholder",e.rerender),e.events={},d.forEach(function(nt){return e.events[nt]="onChange"}),e.delegateEvents(),e.init(),e}return Lu(r,s),r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.templateLabel=function(t){var e=this.ppfx,n=this.getLabel();return'<div class="'.concat(e,'label" title="').concat(n,'">').concat(n,"</div>")},r.prototype.templateInput=function(t){var e=this.clsField;return'<div class="'.concat(e,'" data-input></div>')},r.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},r.prototype.removeView=function(){this.remove(),this.removed()},r.prototype.init=function(){},r.prototype.removed=function(){},r.prototype.onRender=function(t){},r.prototype.onUpdate=function(t){},r.prototype.onEvent=function(t){},r.prototype.onChange=function(t){var e=this.getInputElem();e&&!(0,E.isUndefined)(e.value)&&this.model.set("value",e.value),this.onEvent(Go(Go({},this.getClbOpts()),{event:t}))},r.prototype.getValueForTarget=function(){return this.model.get("value")},r.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.value=t)},r.prototype.onValueChange=function(t,e,n){if(n===void 0&&(n={}),n.fromTarget)this.setInputValue(t.get("value")),this.postUpdate();else{var i=this.getValueForTarget();t.setTargetValue(i,n)}},r.prototype.renderLabel=function(){var t=this.$el,e=this.target,n=this.getLabel(),i=this.templateLabel(e);this.createLabel&&(i=this.createLabel({label:n,component:e,trait:this})||""),t.find("[data-label]").append(i)},r.prototype.getLabel=function(){var t=this.em,e=this.model.attributes,n=e.label,i=e.name;return t.t("traitManager.traits.labels.".concat(i))||(0,K.capitalize)(n||i).replace(/-/g," ")},r.prototype.getComponent=function(){return this.target},r.prototype.getInputEl=function(){if(!this.$input){var t=this.em,e=this.model,n=e,i=e.attributes.name,l=n.get("placeholder")||n.get("default")||"",f=n.get("type")||"text",d=n.get("min"),x=n.get("max"),b=this.getModelValue(),G=(0,C.default)('<input type="'.concat(f,'">')),nt=t.t("traitManager.traits.attributes.".concat(i))||{};G.attr(Go({placeholder:l},nt)),(0,E.isUndefined)(b)||(n.set({value:b},{silent:!0}),G.prop("value",b)),d&&G.prop("min",d),x&&G.prop("max",x),this.$input=G}return this.$input.get(0)},r.prototype.getInputElem=function(){var t=this.input,e=this.$input;return t||e&&e.get&&e.get(0)||this.getElInput()},r.prototype.getModelValue=function(){var t,e=this.model,n=this.target,i=e.getName();if(e.get("changeProp"))t=n.get(i);else{var l=n.get("attributes");t=e.get("value")||l[i]}return(0,E.isUndefined)(t)?"":t},r.prototype.getElInput=function(){return this.elInput},r.prototype.renderField=function(){var t=this,e=t.$el,n=t.appendInput,i=t.model,l=e.find("[data-input]"),f=l[l.length-1],d=i.el;d||(d=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,E.isString)(d)?(f.innerHTML=d,this.elInput=f.firstChild):(n?f.appendChild(d):f.insertBefore(d,f.firstChild),this.elInput=d),i.el=this.elInput},r.prototype.hasLabel=function(){var t=this.model.attributes.label;return!this.noLabel&&t!==!1},r.prototype.rerender=function(){delete this.model.el,this.render()},r.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},r.prototype.render=function(){var t=this,e=t.$el,n=t.pfx,i=t.ppfx,l=t.model.attributes,f=l.type,d=l.id,x=this.hasLabel&&this.hasLabel(),b="".concat(n,"trait");delete this.$input;var G='<div class="'.concat(b," ").concat(b,"--").concat(f,`">
      `).concat(x?'<div class="'.concat(i,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(i,"field-wrp ").concat(i,"field-wrp--").concat(f,`" data-input>
        `).concat(this.templateInput?(0,E.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return e.empty().append(G),x&&this.renderLabel(),this.renderField(),this.el.className="".concat(b,"__wrp ").concat(b,"__wrp-").concat(d),this.postUpdate(),this.onRender(this.getClbOpts()),this},r}(h.G7);const qo=Ds;Ds.prototype.eventCapture=["change"];var mc=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Du=function(s){function r(t,e){t===void 0&&(t={});var n=s.call(this,t)||this;n.reuseView=!0,n.itemsView=e;var i=t.config||{},l=t.editor;return n.config=i,n.em=l,n.ppfx=i.pStylePrefix||"",n.pfx=n.ppfx+i.stylePrefix||"",n.className="".concat(n.pfx,"traits"),n.listenTo(l,"component:toggled",n.updatedCollection),n.updatedCollection(),n}return mc(r,s),r.prototype.updatedCollection=function(){var t=this,e=t.ppfx,n=t.className,i=t.em.getSelected();this.el.className="".concat(n," ").concat(e,"one-bg ").concat(e,"two-color"),this.collection=i?i.traits:[],this.render()},r}(Mu.Z);const vc=Du;Du.prototype.itemView=qo;var ef=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const nf=function(s){function r(t){t===void 0&&(t={});var e=s.call(this,t)||this;return e.listenTo(e.model,"change:options",e.rerender),e}return ef(r,s),r.prototype.templateInput=function(){var t=this.ppfx,e=this.clsField;return'<div class="'.concat(e,`">
      <div data-input></div>
      <div class="`).concat(t,`sel-arrow">
        <div class="`).concat(t,`d-s-arrow"></div>
      </div>
    </div>`)},r.prototype.getInputEl=function(){if(!this.$input){var t=this.model,e=this.em,n=t.get("name"),i=t.get("options")||[],l=[],f="<select>";i.forEach(function(b){var G,nt,st,pt="";(0,E.isString)(b)?(G=b,nt=b):(G=b.name||b.label||b.value,nt="".concat((0,E.isUndefined)(b.value)?b.id:b.value).replace(/"/g,"&quot;"),pt+=(st=b.style?b.style.replace(/"/g,"&quot;"):"")?' style="'.concat(st,'"'):"");var bt=e.t("traitManager.traits.options.".concat(n,".").concat(nt))||G;f+='<option value="'.concat(nt,'"').concat(pt,">").concat(bt,"</option>"),l.push(nt)}),f+="</select>",this.$input=(0,C.default)(f);var d=t.getTargetValue(),x=l.indexOf(d)>=0?d:t.get("default");!(0,E.isUndefined)(x)&&this.$input.val(x)}return this.$input.get(0)},r}(qo);var rf=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const of=function(s){function r(){var t=s!==null&&s.apply(this,arguments)||this;return t.appendInput=!1,t}return rf(r,s),r.prototype.templateInput=function(){var t=this.ppfx,e=this.clsField;return'<label class="'.concat(e,`" data-input>
    <i class="`).concat(t,`chk-icon"></i>
  </label>`)},r.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},r.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.checked=!!t)},r.prototype.getInputEl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!this.$input,i=qo.prototype.getInputEl.apply(this,t);if(n){var l=void 0,f=void 0,d=this.model,x=this.target,b=d.attributes.valueFalse,G=d.getName();d.get("changeProp")?f=l=x.get(G):l=!(!(f=x.get("attributes")[G])&&f!==""),(0,E.isUndefined)(b)||f!==b||(l=!1),i.checked=l}return i},r}(qo);var Iu=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nu=function(s){function r(t){t===void 0&&(t={});var e=s.call(this,t)||this,n=t.ppfx||"";return e.opts=t,e.ppfx=n,e.em=t.target||{},!t.onChange&&e.listenTo(e.model,"change:value",e.handleModelChange),e}return Iu(r,s),r.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},r.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.setValue=function(t,e){var n=this.model,i=t||n.get("defaults"),l=this.getInputEl();l&&(l.value=i)},r.prototype.handleModelChange=function(t,e,n){this.setValue(e,n)},r.prototype.handleChange=function(t){t.stopPropagation();var e=this.getInputEl().value;this.__onInputChange(e),this.elementUpdated()},r.prototype.__onInputChange=function(t){this.model.set({value:t},{fromInput:1})},r.prototype.getInputEl=function(){if(!this.inputEl){var t=this.model,e=this.opts.type||"text",n=t.get("placeholder")||t.get("defaults")||t.get("default")||"";this.inputEl=(0,C.default)('<input type="'.concat(e,'" placeholder="').concat(n,'">'))}return this.inputEl.get(0)},r.prototype.render=function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this},r}(h.G7);const Sl=Nu;Nu.prototype.events={change:"handleChange"};var Ru=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ol=function(s){function r(t){t===void 0&&(t={});var e=s.call(this,t)||this;return(0,E.bindAll)(e,"moveIncrement","upIncrement"),e.doc=document,e.listenTo(e.model,"change:unit",e.handleModelChange),e}return Ru(r,s),r.prototype.template=function(){var t=this.ppfx;return`
      <span class="`.concat(t,`input-holder"></span>
      <span class="`).concat(t,`field-units"></span>
      <div class="`).concat(t,`field-arrows" data-arrows>
        <div class="`).concat(t,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(t,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},r.prototype.inputClass=function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},r.prototype.setValue=function(t,e){var n=e||{},i=this.validateInputValue(t,{deepCheck:1}),l={value:i.value,unit:""};(i.unit||i.force)&&(l.unit=i.unit),this.model.set(l,n),n.silent&&this.handleModelChange()},r.prototype.handleChange=function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},r.prototype.handleUnitChange=function(t){t.stopPropagation();var e=this.getUnitEl().value;this.model.set("unit",e),this.elementUpdated()},r.prototype.handleKeyDown=function(t){t.key==="ArrowUp"&&(t.preventDefault(),this.upArrowClick()),t.key==="ArrowDown"&&(t.preventDefault(),this.downArrowClick())},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.handleModelChange=function(){var t=this.model;this.getInputEl().value=t.get("value");var e=this.getUnitEl();e&&(e.value=t.get("unit")||"")},r.prototype.getUnitEl=function(){if(!this.unitEl){var t=this.model,e=t.get("units")||[];if(e.length){var n=['<option value="" disabled hidden>-</option>'];e.forEach(function(l){var f=l==t.get("unit")?"selected":"";n.push("<option ".concat(f,">").concat(l,"</option>"))});var i=document.createElement("div");i.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(n.join(""),"</select>"),this.unitEl=i.firstChild}}return this.unitEl},r.prototype.upArrowClick=function(){var t=this.model,e=t.get("step"),n=parseFloat(t.get("value"));this.setValue(this.normalizeValue(n+e)),this.elementUpdated()},r.prototype.downArrowClick=function(){var t=this.model,e=t.get("step"),n=parseFloat(t.get("value"));this.setValue(this.normalizeValue(n-e)),this.elementUpdated()},r.prototype.downIncrement=function(t){t.preventDefault(),this.moved=!1;var e=this.model.get("value")||0;e=this.normalizeValue(e),this.current={y:t.pageY,val:e},(0,ue.on)(this.doc,"mousemove",this.moveIncrement),(0,ue.on)(this.doc,"mouseup",this.upIncrement)},r.prototype.moveIncrement=function(t){this.moved=!0;var e=this.model,n=e.get("step"),i=this.current,l=this.normalizeValue(i.val+(i.y-t.pageY)*n),f=this.validateInputValue(l),d=f.value,x=f.unit;return this.prValue=d,e.set({value:d,unit:x},{avoidStore:1}),!1},r.prototype.upIncrement=function(){var t=this.model,e=t.get("step");if((0,ue.S1)(this.doc,"mouseup",this.upIncrement),(0,ue.S1)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var n=this.prValue-e;t.set("value",n,{avoidStore:1}).set("value",n+e),this.elementUpdated()}},r.prototype.normalizeValue=function(t,e){e===void 0&&(e=0);var n=this.model.get("step"),i=0;if(isNaN(t))return e;if(t=parseFloat(t),Math.floor(t)!==t){var l=n.toString().split(".")[1];i=l?l.length:0}return i?parseFloat(t.toFixed(i)):t},r.prototype.validateInputValue=function(t,e){e===void 0&&(e={});var n=0,i=e||{},l=this.model,f="",d=(0,E.isUndefined)(t)?f:t,x=e.units||l.get("units")||[],b=l.get("unit")||x.length&&x[0]||"",G=(0,E.isUndefined)(e.max)?l.get("max"):e.max,nt=(0,E.isUndefined)(e.min)?l.get("min"):e.min,st=!!l.get("limitlessMax"),pt=!!l.get("limitlessMin");if(i.deepCheck){var bt=l.get("fixedValues")||[];if(d===""&&(b=""),d){var Et=new RegExp("^"+bt.join("|"),"g");if(bt.length&&Et.test(d))d=d.match(Et)[0],b="",n=1;else{var Ot=d+"";d+="",d=parseFloat(d.replace(",",".")),d=isNaN(d)?f:d;var Zt=Ot.replace(d,"");(0,E.indexOf)(x,Zt)>=0&&(b=Zt)}}}return st||(0,E.isUndefined)(G)||G===""||(d=d>G?G:d),pt||(0,E.isUndefined)(nt)||nt===""||(d=d<nt?nt:d),{force:n,value:d,unit:b}},r.prototype.render=function(){Sl.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this},r}(Sl);const yc=Ol;Ol.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var sf=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const Fu=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return sf(r,s),r.prototype.getValueForTarget=function(){var t=this.model,e=t.attributes,n=e.value,i=e.unit;return(0,E.isUndefined)(n)||n===""?t.get("default"):n+i},r.prototype.getInputEl=function(){if(!this.input){var t=this.ppfx,e=this.model,n=this.getModelValue(),i=new yc({contClass:"".concat(t,"field-int"),type:"number",model:e,ppfx:t});i.render(),this.$input=i.inputEl,this.$unit=i.unitEl,e.set("value",n,{fromTarget:!0}),this.$input.val(n),this.input=i.el}return this.input},r}(qo);var Is=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ns=function(){return Ns=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Ns.apply(this,arguments)};C.default&&function(s,r){if((0,K.hasWin)()){var t={beforeShow:zn,move:zn,change:zn,show:zn,hide:zn,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},e=[],n=!!/msie/i.exec(window.navigator.userAgent),i=function(){function Dt(Jt,ae){return!!~(""+Jt).indexOf(ae)}var Xt=document.createElement("div").style;return Xt.cssText="background-color:rgba(0,0,0,.5)",Dt(Xt.backgroundColor,"rgba")||Dt(Xt.backgroundColor,"hsla")}(),l=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),f=function(){var Dt="";if(n)for(var Xt=1;Xt<=6;Xt++)Dt+="<div class='sp-"+Xt+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",Dt,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),d="spectrum.id";s.fn.spectrum=function(Dt,Xt){if(typeof Dt=="string"){var Jt=this,ae=Array.prototype.slice.call(arguments,1);return this.each(function(){var Oe=e[s(this).data(d)];if(Oe){var se=Oe[Dt];if(!se)throw new Error("Spectrum: no such method: '"+Dt+"'");Dt=="get"?Jt=Oe.get():Dt=="container"?Jt=Oe.container:Dt=="option"?Jt=Oe.option.apply(Oe,ae):Dt=="destroy"?(Oe.destroy(),s(this).removeData(d)):se.apply(Oe,ae)}}),Jt}return this.spectrum("destroy").each(function(){var Oe=mn(this,s.extend({},Dt,s(this).data()));s(this).data(d,Oe.id)})},s.fn.spectrum.load=!0,s.fn.spectrum.loadOpts={},s.fn.spectrum.draggable=ur,s.fn.spectrum.defaults=t,s.fn.spectrum.inputTypeColorSupport=function Dt(){if(Dt._cachedResult===void 0){var Xt=s("<input type='color'/>")[0];Dt._cachedResult=Xt.type==="color"&&Xt.value!==""}return Dt._cachedResult},s.spectrum={},s.spectrum.localization={},s.spectrum.palettes={},s.fn.spectrum.processNativeColorInputs=function(){var Dt=s("input[type=color]");Dt.length&&!jr()&&Dt.spectrum({preferredFormat:"hex6"})};var x=/^[\s,#]+/,b=/\s+$/,G=0,nt=Math,st=nt.round,pt=nt.min,bt=nt.max,Et=nt.random,Ot=function(Dt,Xt){if(Xt=Xt||{},(Dt=Dt||"")instanceof Ot)return Dt;if(!(this instanceof Ot))return new Ot(Dt,Xt);var Jt=function(ae){var Oe={r:0,g:0,b:0},se=1,Je=!1,pn=!1;typeof ae=="string"&&(ae=function(fn){fn=fn.replace(x,"").replace(b,"").toLowerCase();var Le,yn=!1;if(ye[fn])fn=ye[fn],yn=!0;else if(fn=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(Le=Be.rgb.exec(fn))?{r:Le[1],g:Le[2],b:Le[3]}:(Le=Be.rgba.exec(fn))?{r:Le[1],g:Le[2],b:Le[3],a:Le[4]}:(Le=Be.hsl.exec(fn))?{h:Le[1],s:Le[2],l:Le[3]}:(Le=Be.hsla.exec(fn))?{h:Le[1],s:Le[2],l:Le[3],a:Le[4]}:(Le=Be.hsv.exec(fn))?{h:Le[1],s:Le[2],v:Le[3]}:(Le=Be.hsva.exec(fn))?{h:Le[1],s:Le[2],v:Le[3],a:Le[4]}:(Le=Be.hex8.exec(fn))?{a:Qv(Le[1]),r:yi(Le[2]),g:yi(Le[3]),b:yi(Le[4]),format:yn?"name":"hex8"}:(Le=Be.hex6.exec(fn))?{r:yi(Le[1]),g:yi(Le[2]),b:yi(Le[3]),format:yn?"name":"hex"}:(Le=Be.hex3.exec(fn))?{r:yi(Le[1]+""+Le[1]),g:yi(Le[2]+""+Le[2]),b:yi(Le[3]+""+Le[3]),format:yn?"name":"hex"}:!1}(ae)),typeof ae=="object"&&(ae.hasOwnProperty("r")&&ae.hasOwnProperty("g")&&ae.hasOwnProperty("b")?(ln=ae.r,wo=ae.g,pr=ae.b,Oe={r:255*Nn(ln,255),g:255*Nn(wo,255),b:255*Nn(pr,255)},Je=!0,pn=String(ae.r).substr(-1)==="%"?"prgb":"rgb"):ae.hasOwnProperty("h")&&ae.hasOwnProperty("s")&&ae.hasOwnProperty("v")?(ae.s=Dc(ae.s),ae.v=Dc(ae.v),Oe=function(fn,Le,yn){fn=6*Nn(fn,360),Le=Nn(Le,100),yn=Nn(yn,100);var wn=nt.floor(fn),xr=fn-wn,$n=yn*(1-Le),Mr=yn*(1-xr*Le),Qr=yn*(1-(1-xr)*Le),_o=wn%6,bi=[yn,Mr,$n,$n,Qr,yn][_o],Us=[Qr,yn,yn,Mr,$n,$n][_o],Lr=[$n,$n,Qr,yn,yn,Mr][_o];return{r:255*bi,g:255*Us,b:255*Lr}}(ae.h,ae.s,ae.v),Je=!0,pn="hsv"):ae.hasOwnProperty("h")&&ae.hasOwnProperty("s")&&ae.hasOwnProperty("l")&&(ae.s=Dc(ae.s),ae.l=Dc(ae.l),Oe=function(fn,Le,yn){var wn,xr,$n;function Mr(bi,Us,Lr){return Lr<0&&(Lr+=1),Lr>1&&(Lr-=1),Lr<1/6?bi+6*(Us-bi)*Lr:Lr<1/2?Us:Lr<2/3?bi+(Us-bi)*(2/3-Lr)*6:bi}if(fn=Nn(fn,360),Le=Nn(Le,100),yn=Nn(yn,100),Le===0)wn=xr=$n=yn;else{var Qr=yn<.5?yn*(1+Le):yn+Le-yn*Le,_o=2*yn-Qr;wn=Mr(_o,Qr,fn+1/3),xr=Mr(_o,Qr,fn),$n=Mr(_o,Qr,fn-1/3)}return{r:255*wn,g:255*xr,b:255*$n}}(ae.h,ae.s,ae.l),Je=!0,pn="hsl"),ae.hasOwnProperty("a")&&(se=ae.a));var ln,wo,pr;return se=Wd(se),{ok:Je,format:ae.format||pn,r:pt(255,bt(Oe.r,0)),g:pt(255,bt(Oe.g,0)),b:pt(255,bt(Oe.b,0)),a:se}}(Dt);this._originalInput=Dt,this._r=Jt.r,this._g=Jt.g,this._b=Jt.b,this._a=Jt.a,this._roundA=st(100*this._a)/100,this._format=Xt.format||Jt.format,this._gradientType=Xt.gradientType,this._r<1&&(this._r=st(this._r)),this._g<1&&(this._g=st(this._g)),this._b<1&&(this._b=st(this._b)),this._ok=Jt.ok,this._tc_id=G++};Ot.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Dt=this.toRgb();return(299*Dt.r+587*Dt.g+114*Dt.b)/1e3},setAlpha:function(Dt){return this._a=Wd(Dt),this._roundA=st(100*this._a)/100,this},toHsv:function(){var Dt=Mo(this._r,this._g,this._b);return{h:360*Dt.h,s:Dt.s,v:Dt.v,a:this._a}},toHsvString:function(){var Dt=Mo(this._r,this._g,this._b),Xt=st(360*Dt.h),Jt=st(100*Dt.s),ae=st(100*Dt.v);return this._a==1?"hsv("+Xt+", "+Jt+"%, "+ae+"%)":"hsva("+Xt+", "+Jt+"%, "+ae+"%, "+this._roundA+")"},toHsl:function(){var Dt=fo(this._r,this._g,this._b);return{h:360*Dt.h,s:Dt.s,l:Dt.l,a:this._a}},toHslString:function(){var Dt=fo(this._r,this._g,this._b),Xt=st(360*Dt.h),Jt=st(100*Dt.s),ae=st(100*Dt.l);return this._a==1?"hsl("+Xt+", "+Jt+"%, "+ae+"%)":"hsla("+Xt+", "+Jt+"%, "+ae+"%, "+this._roundA+")"},toHex:function(Dt){return Ji(this._r,this._g,this._b,Dt)},toHexString:function(Dt){return"#"+this.toHex(Dt)},toHex8:function(){return Ud(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:st(this._r),g:st(this._g),b:st(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+st(this._r)+", "+st(this._g)+", "+st(this._b)+")":"rgba("+st(this._r)+", "+st(this._g)+", "+st(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:st(100*Nn(this._r,255))+"%",g:st(100*Nn(this._g,255))+"%",b:st(100*Nn(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+st(100*Nn(this._r,255))+"%, "+st(100*Nn(this._g,255))+"%, "+st(100*Nn(this._b,255))+"%)":"rgba("+st(100*Nn(this._r,255))+"%, "+st(100*Nn(this._g,255))+"%, "+st(100*Nn(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(Re[Ji(this._r,this._g,this._b,!0)]||!1)},toFilter:function(Dt){var Xt="#"+Ud(this._r,this._g,this._b,this._a),Jt=Xt,ae=this._gradientType?"GradientType = 1, ":"";return Dt&&(Jt=Ot(Dt).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+ae+"startColorstr="+Xt+",endColorstr="+Jt+")"},toString:function(Dt){var Xt=!!Dt;Dt=Dt||this._format;var Jt=!1,ae=this._a<1&&this._a>=0;return Xt||!ae||Dt!=="hex"&&Dt!=="hex6"&&Dt!=="hex3"&&Dt!=="name"?(Dt==="rgb"&&(Jt=this.toRgbString()),Dt==="prgb"&&(Jt=this.toPercentageRgbString()),Dt!=="hex"&&Dt!=="hex6"||(Jt=this.toHexString()),Dt==="hex3"&&(Jt=this.toHexString(!0)),Dt==="hex8"&&(Jt=this.toHex8String()),Dt==="name"&&(Jt=this.toName()),Dt==="hsl"&&(Jt=this.toHslString()),Dt==="hsv"&&(Jt=this.toHsvString()),Jt||this.toHexString()):Dt==="name"&&this._a===0?this.toName():this.toRgbString()},_applyModification:function(Dt,Xt){var Jt=Dt.apply(null,[this].concat([].slice.call(Xt)));return this._r=Jt._r,this._g=Jt._g,this._b=Jt._b,this.setAlpha(Jt._a),this},lighten:function(){return this._applyModification(Uv,arguments)},brighten:function(){return this._applyModification(Wv,arguments)},darken:function(){return this._applyModification($v,arguments)},desaturate:function(){return this._applyModification(Hv,arguments)},saturate:function(){return this._applyModification(zv,arguments)},greyscale:function(){return this._applyModification(Bv,arguments)},spin:function(){return this._applyModification(Gv,arguments)},_applyCombination:function(Dt,Xt){return Dt.apply(null,[this].concat([].slice.call(Xt)))},analogous:function(){return this._applyCombination(Xv,arguments)},complement:function(){return this._applyCombination(qv,arguments)},monochromatic:function(){return this._applyCombination(Jv,arguments)},splitcomplement:function(){return this._applyCombination(Kv,arguments)},triad:function(){return this._applyCombination(Zv,arguments)},tetrad:function(){return this._applyCombination(Yv,arguments)}},Ot.fromRatio=function(Dt,Xt){if(typeof Dt=="object"){var Jt={};for(var ae in Dt)Dt.hasOwnProperty(ae)&&(Jt[ae]=ae==="a"?Dt[ae]:Dc(Dt[ae]));Dt=Jt}return Ot(Dt,Xt)},Ot.equals=function(Dt,Xt){return!(!Dt||!Xt)&&Ot(Dt).toRgbString()==Ot(Xt).toRgbString()},Ot.random=function(){return Ot.fromRatio({r:Et(),g:Et(),b:Et()})},Ot.mix=function(Dt,Xt,Jt){Jt=Jt===0?0:Jt||50;var ae,Oe=Ot(Dt).toRgb(),se=Ot(Xt).toRgb(),Je=Jt/100,pn=2*Je-1,ln=se.a-Oe.a,wo=1-(ae=((ae=pn*ln==-1?pn:(pn+ln)/(1+pn*ln))+1)/2),pr={r:se.r*ae+Oe.r*wo,g:se.g*ae+Oe.g*wo,b:se.b*ae+Oe.b*wo,a:se.a*Je+Oe.a*(1-Je)};return Ot(pr)},Ot.readability=function(Dt,Xt){var Jt=Ot(Dt),ae=Ot(Xt),Oe=Jt.toRgb(),se=ae.toRgb(),Je=Jt.getBrightness(),pn=ae.getBrightness(),ln=Math.max(Oe.r,se.r)-Math.min(Oe.r,se.r)+Math.max(Oe.g,se.g)-Math.min(Oe.g,se.g)+Math.max(Oe.b,se.b)-Math.min(Oe.b,se.b);return{brightness:Math.abs(Je-pn),color:ln}},Ot.isReadable=function(Dt,Xt){var Jt=Ot.readability(Dt,Xt);return Jt.brightness>125&&Jt.color>500},Ot.mostReadable=function(Dt,Xt){for(var Jt=null,ae=0,Oe=!1,se=0;se<Xt.length;se++){var Je=Ot.readability(Dt,Xt[se]),pn=Je.brightness>125&&Je.color>500,ln=3*(Je.brightness/125)+Je.color/500;(pn&&!Oe||pn&&Oe&&ln>ae||!pn&&!Oe&&ln>ae)&&(Oe=pn,ae=ln,Jt=Ot(Xt[se]))}return Jt};var Zt,Qt,ve,ye=Ot.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Re=Ot.hexNames=function(Dt){var Xt={};for(var Jt in Dt)Dt.hasOwnProperty(Jt)&&(Xt[Dt[Jt]]=Jt);return Xt}(ye),Be=(Qt="[\\s|\\(]+("+(Zt="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Zt+")[,|\\s]+("+Zt+")\\s*\\)?",ve="[\\s|\\(]+("+Zt+")[,|\\s]+("+Zt+")[,|\\s]+("+Zt+")[,|\\s]+("+Zt+")\\s*\\)?",{rgb:new RegExp("rgb"+Qt),rgba:new RegExp("rgba"+ve),hsl:new RegExp("hsl"+Qt),hsla:new RegExp("hsla"+ve),hsv:new RegExp("hsv"+Qt),hsva:new RegExp("hsva"+ve),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=Ot,s(function(){s.fn.spectrum.load&&s.fn.spectrum.processNativeColorInputs()})}function en(Dt,Xt,Jt,ae){for(var Oe=[],se=0;se<Dt.length;se++){var Je=Dt[se];if(Je){var pn=Ot(Je),ln=pn.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";ln+=Ot.equals(Xt,Je)?" sp-thumb-active":"";var wo=pn.toString(ae.preferredFormat||"rgb"),pr=i?"background-color:"+pn.toRgbString():"filter:"+pn.toFilter();Oe.push('<span title="'+wo+'" data-color="'+pn.toRgbString()+'" class="'+ln+'"><span class="sp-thumb-inner" style="'+pr+';"></span></span>')}else Oe.push(s("<div />").append(s('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",ae.noColorSelectedText)).html())}return"<div class='sp-cf "+Jt+"'>"+Oe.join("")+"</div>"}function mn(Dt,Xt){var Jt,ae,Oe,se=function(Fe,He){var Ge=s.extend({},t,Fe);return Ge.callbacks={move:Ar(Ge.move,He),change:Ar(Ge.change,He),show:Ar(Ge.show,He),hide:Ar(Ge.hide,He),beforeShow:Ar(Ge.beforeShow,He)},Ge}(Xt,Dt),Je=se.flat,pn=se.showSelectionPalette,ln=se.localStorageKey,wo=se.theme,pr=se.callbacks,fn=(Jt=Ba,ae=10,function(){var Fe=this,He=arguments,Ge=function(){Oe=null,Jt.apply(Fe,He)};Oe||(Oe=setTimeout(Ge,ae))}),Le=!1,yn=!1,wn=!0,xr=0,$n=0,Mr=0,Qr=0,_o=0,bi=0,Us=0,Lr=0,Ic=0,Nc=0,wi=1,hp=[],Rc=[],gp={},_i=se.selectionPalette.slice(0),ty=se.maxSelectionSize,$d="sp-dragging",Ws=null,Fc=Dt.ownerDocument,rr=(Fc.body,s(Dt)),Ff=!1,on=s(f,Fc).addClass(wo),ey=on.find(".sp-picker-container"),mp=on.find(".sp-color"),vp=on.find(".sp-dragger"),Vf=on.find(".sp-hue"),yp=on.find(".sp-slider"),Vc=on.find(".sp-alpha-inner"),Gd=on.find(".sp-alpha"),bp=on.find(".sp-alpha-handle"),xi=on.find(".sp-input"),qd=on.find(".sp-palette"),Zd=on.find(".sp-initial"),Yd=on.find(".sp-cancel"),Hf=on.find(".sp-clear"),Kd=on.find(".sp-choose"),zf=on.find(".sp-palette-toggle"),wp=rr.is("input"),ny=wp&&rr.attr("type")==="color"&&jr(),Bf=wp&&!Je,Ll=Bf?s(l).addClass(wo).addClass(se.className).addClass(se.replacerClassName):s([]),Hc=Bf?Ll:rr,Dl=Ll.find(".sp-preview-inner"),zc=se.color||wp&&rr.val(),Il=!1,Nl=se.preferredFormat,ry=!se.showButtons||se.clickoutFiresChange,$s=!zc,Va=se.allowEmpty&&!ny;function Uf(){if(se.showPaletteOnly&&(se.showPalette=!0),zf.text(se.showPaletteOnly?se.togglePaletteMoreText:se.togglePaletteLessText),se.palette){hp=se.palette.slice(0),Rc=s.isArray(hp[0])?hp:[hp],gp={};for(var Fe=0;Fe<Rc.length;Fe++)for(var He=0;He<Rc[Fe].length;He++){var Ge=Ot(Rc[Fe][He]).toRgbString();gp[Ge]=!0}}on.toggleClass("sp-flat",Je),on.toggleClass("sp-input-disabled",!se.showInput),on.toggleClass("sp-alpha-enabled",se.showAlpha),on.toggleClass("sp-clear-enabled",Va),on.toggleClass("sp-buttons-disabled",!se.showButtons),on.toggleClass("sp-palette-buttons-disabled",!se.togglePaletteOnly),on.toggleClass("sp-palette-disabled",!se.showPalette),on.toggleClass("sp-palette-only",se.showPaletteOnly),on.toggleClass("sp-initial-disabled",!se.showInitial),on.addClass(se.className).addClass(se.containerClassName),Ba()}function Xd(){if(ln&&window.localStorage){try{var Fe=window.localStorage[ln].split(",#");Fe.length>1&&(delete window.localStorage[ln],s.each(Fe,function(He,Ge){Wf(Ge)}))}catch{}try{_i=window.localStorage[ln].split(";")}catch{}}}function Wf(Fe){if(pn){var He=Ot(Fe).toRgbString();if(!gp[He]&&s.inArray(He,_i)===-1)for(_i.push(He);_i.length>ty;)_i.shift();if(ln&&window.localStorage)try{window.localStorage[ln]=_i.join(";")}catch{}}}function Jd(){var Fe=to(),He=s.map(Rc,function(Ge,Ue){return en(Ge,Fe,"sp-palette-row sp-palette-row-"+Ue,se)});Xd(),_i&&He.push(en(function(){var Ge=[];if(se.showPalette)for(var Ue=0;Ue<_i.length;Ue++){var Dr=Ot(_i[Ue]).toRgbString();gp[Dr]||Ge.push(_i[Ue])}return Ge.reverse().slice(0,se.maxSelectionSize)}(),Fe,"sp-palette-row sp-palette-row-selection",se)),qd.html(He.join(""))}function Qd(){if(se.showInitial){var Fe=Il,He=to();Zd.html(en([Fe,He],He,"sp-palette-row-initial",se))}}function $f(){($n<=0||xr<=0||Qr<=0)&&Ba(),yn=!0,on.addClass($d),Ws=null,rr.trigger("dragstart.spectrum",[to()])}function Gf(){yn=!1,on.removeClass($d),rr.trigger("dragstop.spectrum",[to()])}function qf(){var Fe=xi.val();if(Fe!==null&&Fe!==""||!Va){var He=Ot(Fe);He.isValid()?(Ha(He),za(!0)):xi.addClass("sp-validation-error")}else Ha(null),za(!0)}function th(){Le?Gs():Zf()}function Zf(){var Fe=s.Event("beforeShow.spectrum");if(Le)Ba();else if(rr.trigger("beforeShow.spectrum",[to()]),pr.beforeShow(to())!==!1&&!Fe.isDefaultPrevented()){(function(){for(var Ge=0;Ge<e.length;Ge++)e[Ge]&&e[Ge].hide()})(),Le=!0;var He=s(Fc);He.bind("keydown.spectrum",eh),He.bind("click.spectrum",nh),s(window).bind("resize.spectrum",fn),Ll.addClass("sp-active"),on.removeClass("sp-hidden"),Ba(),Fl(),Il=to(),Qd(),pr.show(Il),rr.trigger("show.spectrum",[Il])}}function eh(Fe){Fe.keyCode===27&&Gs()}function nh(Fe){Fe.button!=2&&(yn||(ry?za(!0):rh(),Gs()))}function Gs(){Le&&!Je&&(Le=!1,s(Fc).unbind("keydown.spectrum",eh),s(Fc).unbind("click.spectrum",nh),s(window).unbind("resize.spectrum",fn),Ll.removeClass("sp-active"),on.addClass("sp-hidden"),pr.hide(to()),rr.trigger("hide.spectrum",[to()]))}function rh(){Ha(Il,!0)}function Ha(Fe,He){var Ge,Ue;Ot.equals(Fe,to())?Fl():(!Fe&&Va?$s=!0:($s=!1,wn=!Fe,Ue=(Ge=Ot(Fe)).toHsv(),Lr=Ue.h%360/360,Ic=Ue.s,Nc=Ue.v,wi=Ue.a),Fl(),Ge&&Ge.isValid()&&!He&&(Nl=se.preferredFormat||Ge.getFormat()))}function to(Fe){return Fe=Fe||{},Va&&$s?null:Ot.fromRatio({h:Lr,s:Ic,v:Nc,a:Math.round(100*wi)/100},{format:Fe.format||Nl})}function Rl(){Fl(),pr.move(to()),rr.trigger("move.spectrum",[to()])}function Fl(){xi.removeClass("sp-validation-error"),oh();var Fe=Ot.fromRatio({h:Lr,s:1,v:1});mp.css("background-color",Fe.toHexString());var He=Nl;wi<1&&(wi!==0||He!=="name")&&(He!=="hex"&&He!=="hex3"&&He!=="hex6"&&He!=="name"||(He="rgb"));var Ge=to({format:He}),Ue="";if(Dl.removeClass("sp-clear-display"),Dl.css("background-color","transparent"),!Ge&&Va)Dl.addClass("sp-clear-display");else{var Dr=Ge.toHexString(),Ci=Ge.toRgbString();if(i||Ge.alpha===1?Dl.css("background-color",Ci):(Dl.css("background-color","transparent"),Dl.css("filter",Ge.toFilter())),se.showAlpha){var qs=Ge.toRgb();qs.a=0;var Zs=Ot(qs).toRgbString(),Ua="linear-gradient(left, "+Zs+", "+Dr+")";n?Vc.css("filter",Ot(Zs).toFilter({gradientType:1},Dr)):(Vc.css("background","-webkit-"+Ua),Vc.css("background","-moz-"+Ua),Vc.css("background","-ms-"+Ua),Vc.css("background","linear-gradient(to right, "+Zs+", "+Dr+")"))}Ue=Ge.toString(He)}se.showInput&&xi.val(Ue),se.showPalette&&Jd(),Qd()}function oh(){var Fe=Ic,He=Nc;if(Va&&$s)bp.hide(),yp.hide(),vp.hide();else{bp.show(),yp.show(),vp.show();var Ge=Fe*xr,Ue=$n-He*$n;Ge=Math.max(-Mr,Math.min(xr-Mr,Ge-Mr)),Ue=Math.max(-Mr,Math.min($n-Mr,Ue-Mr)),vp.css({top:Ue+"px",left:Ge+"px"});var Dr=wi*_o;bp.css({left:Dr-bi/2+"px"});var Ci=Lr*Qr;yp.css({top:Ci-Us+"px"})}}function za(Fe){var He=to(),Ge="",Ue=!!wn||!Ot.equals(He,Il);He&&(Ge=He.toString(Nl),!Le&&Wf(He)),wp&&rr.val(Ge),Fe&&Ue&&(pr.change(He),rr.trigger("change",[He]))}function Ba(){Le&&(xr=mp.width(),$n=mp.height(),Mr=vp.height(),Vf.width(),Qr=Vf.height(),Us=yp.height(),_o=Gd.width(),bi=bp.width(),Je||(on.css("position","absolute"),se.offset?on.offset(se.offset):on.offset(function(Fe,He){var Ge=0,Ue=Fe.outerWidth(),Dr=Fe.outerHeight(),Ci=He.outerHeight(),qs=Fe[0].ownerDocument,Zs=qs.documentElement,Ua=Zs.clientWidth,Yf=Zs.clientHeight,oy=s(qs).scrollLeft(),iy=s(qs).scrollTop(),Kf=Ua+oy,sh=Yf+iy,Qi=He.offset();return Qi.top+=Ci,Qi.left-=Math.min(Qi.left,Qi.left+Ue>Kf&&Kf>Ue?Math.abs(Qi.left+Ue-Kf):0),Qi.top-=Math.min(Qi.top,Qi.top+Dr>sh&&sh>Dr?Math.abs(Dr+Ci-Ge):Ge),Qi}(on,Hc))),oh(),se.showPalette&&Jd(),rr.trigger("reflow.spectrum"))}function ih(){Gs(),Ff=!0,rr.attr("disabled",!0),Hc.addClass("sp-disabled")}(function(){if(n&&on.find("*:not(input)").attr("unselectable","on"),Uf(),Bf&&rr.after(Ll).hide(),Va||Hf.hide(),Je)rr.after(on).hide();else{var Fe=se.appendTo==="parent"?rr.parent():s(se.appendTo);Fe.length!==1&&(Fe=s("body")),Fe.append(on)}function He(Ue){return Ue.data&&Ue.data.ignore?(Ha(s(Ue.target).closest(".sp-thumb-el").data("color")),Rl()):(Ha(s(Ue.target).closest(".sp-thumb-el").data("color")),Rl(),se.hideAfterPaletteSelect&&(za(!0),Gs())),!1}Xd(),Hc.bind("click.spectrum touchstart.spectrum",function(Ue){Ff||th(),Ue.stopPropagation(),s(Ue.target).is("input")||Ue.preventDefault()}),(rr.is(":disabled")||se.disabled===!0)&&ih(),on.click(_r),xi.change(qf),xi.bind("paste",function(){setTimeout(qf,1)}),xi.keydown(function(Ue){Ue.keyCode==13&&qf()}),Yd.text(se.cancelText),Yd.bind("click.spectrum",function(Ue){Ue.stopPropagation(),Ue.preventDefault(),rh(),Gs()}),Hf.attr("title",se.clearText),Hf.bind("click.spectrum",function(Ue){Ue.stopPropagation(),Ue.preventDefault(),$s=!0,Rl(),Je&&za(!0)}),Kd.text(se.chooseText),Kd.bind("click.spectrum",function(Ue){Ue.stopPropagation(),Ue.preventDefault(),n&&xi.is(":focus")&&xi.trigger("change"),xi.hasClass("sp-validation-error")||(za(!0),Gs())}),zf.text(se.showPaletteOnly?se.togglePaletteMoreText:se.togglePaletteLessText),zf.bind("click.spectrum",function(Ue){Ue.stopPropagation(),Ue.preventDefault(),se.showPaletteOnly=!se.showPaletteOnly,se.showPaletteOnly||Je||on.css("left","-="+(ey.outerWidth(!0)+5)),Uf()}),ur(Gd,function(Ue,Dr,Ci){wi=Ue/_o,$s=!1,Ci.shiftKey&&(wi=Math.round(10*wi)/10),Rl()},$f,Gf),ur(Vf,function(Ue,Dr){Lr=parseFloat(Dr/Qr),$s=!1,se.showAlpha||(wi=1),Rl()},$f,Gf),ur(mp,function(Ue,Dr,Ci){if(Ci.shiftKey){if(!Ws){var qs=Ic*xr,Zs=$n-Nc*$n,Ua=Math.abs(Ue-qs)>Math.abs(Dr-Zs);Ws=Ua?"x":"y"}}else Ws=null;var Yf=!Ws||Ws==="y";(!Ws||Ws==="x")&&(Ic=parseFloat(Ue/xr)),Yf&&(Nc=parseFloat(($n-Dr)/$n)),$s=!1,se.showAlpha||(wi=1),Rl()},$f,Gf),zc?(Ha(zc),Fl(),Nl=se.preferredFormat||Ot(zc).getFormat(),Wf(zc)):Fl(),Je&&Zf();var Ge=n?"mousedown.spectrum":"click.spectrum touchstart.spectrum";qd.delegate(".sp-thumb-el",Ge,He),Zd.delegate(".sp-thumb-el:nth-child(1)",Ge,{ignore:!0},He)})();var _p={show:Zf,hide:Gs,toggle:th,reflow:Ba,option:function(Fe,He){return Fe===r?s.extend({},se):He===r?se[Fe]:(se[Fe]=He,Fe==="preferredFormat"&&(Nl=se.preferredFormat),void Uf())},enable:function(){Ff=!1,rr.attr("disabled",!1),Hc.removeClass("sp-disabled")},disable:ih,offset:function(Fe){se.offset=Fe,Ba()},set:function(Fe){Ha(Fe),za()},get:to,destroy:function(){rr.show(),Hc.unbind("click.spectrum touchstart.spectrum"),on.remove(),Ll.remove(),e[_p.id]=null},container:on};return _p.id=e.push(_p)-1,_p}function zn(){}function _r(Dt){Dt.stopPropagation()}function Ar(Dt,Xt){var Jt=Array.prototype.slice,ae=Jt.call(arguments,2);return function(){return Dt.apply(Xt,ae.concat(Jt.call(arguments)))}}function ur(Dt,Xt,Jt,ae){Xt=Xt||function(){},Jt=Jt||function(){},ae=ae||function(){};var Oe=document,se=!1,Je={},pn=0,ln=0,wo="ontouchstart"in window,pr={};function fn(wn){wn.stopPropagation&&wn.stopPropagation(),wn.preventDefault&&wn.preventDefault(),wn.returnValue=!1}function Le(wn){if(se){if(n&&Oe.documentMode<9&&!wn.button)return yn();var xr=wn&&wn.touches&&wn.touches[0],$n=xr&&xr.pageX||wn.pageX,Mr=xr&&xr.pageY||wn.pageY,Qr=Math.max(0,Math.min($n-Je.left,ln)),_o=Math.max(0,Math.min(Mr-Je.top,pn));wo&&fn(wn),Xt.apply(Dt,[Qr,_o,wn])}}function yn(){se&&(s(Oe).unbind(pr),s(Oe.body).removeClass("sp-dragging"),setTimeout(function(){ae.apply(Dt,arguments)},0)),se=!1}pr.selectstart=fn,pr.dragstart=fn,pr["touchmove mousemove"]=Le,pr["touchend mouseup"]=yn,s(Dt).bind("touchstart mousedown",function(wn){(wn.which?wn.which==3:wn.button==2)||se||Jt.apply(Dt,arguments)!==!1&&(se=!0,pn=s(Dt).height(),ln=s(Dt).width(),Je=s(Dt).offset(),s(Oe).bind(pr),s(Oe.body).addClass("sp-dragging"),Le(wn),fn(wn))})}function jr(){return s.fn.spectrum.inputTypeColorSupport()}function fo(Dt,Xt,Jt){Dt=Nn(Dt,255),Xt=Nn(Xt,255),Jt=Nn(Jt,255);var ae,Oe,se=bt(Dt,Xt,Jt),Je=pt(Dt,Xt,Jt),pn=(se+Je)/2;if(se==Je)ae=Oe=0;else{var ln=se-Je;switch(Oe=pn>.5?ln/(2-se-Je):ln/(se+Je),se){case Dt:ae=(Xt-Jt)/ln+(Xt<Jt?6:0);break;case Xt:ae=(Jt-Dt)/ln+2;break;case Jt:ae=(Dt-Xt)/ln+4}ae/=6}return{h:ae,s:Oe,l:pn}}function Mo(Dt,Xt,Jt){Dt=Nn(Dt,255),Xt=Nn(Xt,255),Jt=Nn(Jt,255);var ae,Oe,se=bt(Dt,Xt,Jt),Je=pt(Dt,Xt,Jt),pn=se,ln=se-Je;if(Oe=se===0?0:ln/se,se==Je)ae=0;else{switch(se){case Dt:ae=(Xt-Jt)/ln+(Xt<Jt?6:0);break;case Xt:ae=(Jt-Dt)/ln+2;break;case Jt:ae=(Dt-Xt)/ln+4}ae/=6}return{h:ae,s:Oe,v:pn}}function Ji(Dt,Xt,Jt,ae){var Oe=[Fa(st(Dt).toString(16)),Fa(st(Xt).toString(16)),Fa(st(Jt).toString(16))];return ae&&Oe[0].charAt(0)==Oe[0].charAt(1)&&Oe[1].charAt(0)==Oe[1].charAt(1)&&Oe[2].charAt(0)==Oe[2].charAt(1)?Oe[0].charAt(0)+Oe[1].charAt(0)+Oe[2].charAt(0):Oe.join("")}function Ud(Dt,Xt,Jt,ae){var Oe;return[Fa((Oe=ae,Math.round(255*parseFloat(Oe)).toString(16))),Fa(st(Dt).toString(16)),Fa(st(Xt).toString(16)),Fa(st(Jt).toString(16))].join("")}function Hv(Dt,Xt){Xt=Xt===0?0:Xt||10;var Jt=Ot(Dt).toHsl();return Jt.s-=Xt/100,Jt.s=dp(Jt.s),Ot(Jt)}function zv(Dt,Xt){Xt=Xt===0?0:Xt||10;var Jt=Ot(Dt).toHsl();return Jt.s+=Xt/100,Jt.s=dp(Jt.s),Ot(Jt)}function Bv(Dt){return Ot(Dt).desaturate(100)}function Uv(Dt,Xt){Xt=Xt===0?0:Xt||10;var Jt=Ot(Dt).toHsl();return Jt.l+=Xt/100,Jt.l=dp(Jt.l),Ot(Jt)}function Wv(Dt,Xt){Xt=Xt===0?0:Xt||10;var Jt=Ot(Dt).toRgb();return Jt.r=bt(0,pt(255,Jt.r-st(255*(-Xt/100)))),Jt.g=bt(0,pt(255,Jt.g-st(255*(-Xt/100)))),Jt.b=bt(0,pt(255,Jt.b-st(255*(-Xt/100)))),Ot(Jt)}function $v(Dt,Xt){Xt=Xt===0?0:Xt||10;var Jt=Ot(Dt).toHsl();return Jt.l-=Xt/100,Jt.l=dp(Jt.l),Ot(Jt)}function Gv(Dt,Xt){var Jt=Ot(Dt).toHsl(),ae=(st(Jt.h)+Xt)%360;return Jt.h=ae<0?360+ae:ae,Ot(Jt)}function qv(Dt){var Xt=Ot(Dt).toHsl();return Xt.h=(Xt.h+180)%360,Ot(Xt)}function Zv(Dt){var Xt=Ot(Dt).toHsl(),Jt=Xt.h;return[Ot(Dt),Ot({h:(Jt+120)%360,s:Xt.s,l:Xt.l}),Ot({h:(Jt+240)%360,s:Xt.s,l:Xt.l})]}function Yv(Dt){var Xt=Ot(Dt).toHsl(),Jt=Xt.h;return[Ot(Dt),Ot({h:(Jt+90)%360,s:Xt.s,l:Xt.l}),Ot({h:(Jt+180)%360,s:Xt.s,l:Xt.l}),Ot({h:(Jt+270)%360,s:Xt.s,l:Xt.l})]}function Kv(Dt){var Xt=Ot(Dt).toHsl(),Jt=Xt.h;return[Ot(Dt),Ot({h:(Jt+72)%360,s:Xt.s,l:Xt.l}),Ot({h:(Jt+216)%360,s:Xt.s,l:Xt.l})]}function Xv(Dt,Xt,Jt){Xt=Xt||6,Jt=Jt||30;var ae=Ot(Dt).toHsl(),Oe=360/Jt,se=[Ot(Dt)];for(ae.h=(ae.h-(Oe*Xt>>1)+720)%360;--Xt;)ae.h=(ae.h+Oe)%360,se.push(Ot(ae));return se}function Jv(Dt,Xt){Xt=Xt||6;for(var Jt=Ot(Dt).toHsv(),ae=Jt.h,Oe=Jt.s,se=Jt.v,Je=[],pn=1/Xt;Xt--;)Je.push(Ot({h:ae,s:Oe,v:se})),se=(se+pn)%1;return Je}function Wd(Dt){return Dt=parseFloat(Dt),(isNaN(Dt)||Dt<0||Dt>1)&&(Dt=1),Dt}function Nn(Dt,Xt){(function(ae){return typeof ae=="string"&&ae.indexOf(".")!=-1&&parseFloat(ae)===1})(Dt)&&(Dt="100%");var Jt=function(ae){return typeof ae=="string"&&ae.indexOf("%")!=-1}(Dt);return Dt=pt(Xt,bt(0,parseFloat(Dt))),Jt&&(Dt=parseInt(Dt*Xt,10)/100),nt.abs(Dt-Xt)<1e-6?1:Dt%Xt/parseFloat(Xt)}function dp(Dt){return pt(1,bt(0,Dt))}function yi(Dt){return parseInt(Dt,16)}function Fa(Dt){return Dt.length==1?"0"+Dt:""+Dt}function Dc(Dt){return Dt<=1&&(Dt=100*Dt+"%"),Dt}function Qv(Dt){return yi(Dt)/255}}(C.default);var Gi=function(s){var r=s.getFormat()==="name"&&s.toName(),t=s.getAlpha()==1?s.toHexString():s.toRgbString();return r||t.replace(/ /g,"")};const Vu=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Is(r,s),r.prototype.template=function(){var t=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(t,`field-colorp">
        <div class="`).concat(t,`field-colorp-c" data-colorp-c>
          <div class="`).concat(t,`checker-bg"></div>
        </div>
      </div>
    `)},r.prototype.inputClass=function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.remove=function(){return s.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},r.prototype.handleChange=function(t){t.stopPropagation();var e=t.target.value;(0,E.isUndefined)(e)||this.__onInputChange(e)},r.prototype.__onInputChange=function(t){var e=this.model,n=this.opts.onChange,i=t,l=this.getColorEl();if(l){l.spectrum("set",i);var f=l.spectrum("get"),d=i&&Gi(f);d&&(i=d)}n?n(i):e.set({value:i},{fromInput:1})},r.prototype.setValue=function(t,e){e===void 0&&(e={});var n=this.model,i=(0,E.isUndefined)(e.def)?n.get("defaults"):e.def,l=(0,E.isUndefined)(t)?(0,E.isUndefined)(i)?"":i:t,f=this.getInputEl(),d=this.getColorEl(),x=l!="none"?l:"";f.value=l,d.get(0).style.backgroundColor=x,(e.fromTarget||e.fromInput&&!e.avoidStore)&&(d.spectrum("set",x),this.noneColor=l=="none",this.movedColor=x)},r.prototype.getColorEl=function(){var t=this;if(!this.colorEl){var e=this,n=e.em,i=e.model,l=e.opts,f=this.ppfx,d=l.onChange,x=(0,C.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),b=x.get(0).style,G=n&&n.config?n.config.el:"",nt=n&&n.getConfig&&n.getConfig().colorPicker||{};this.movedColor="";var st,pt=!1;this.$el.find("[data-colorp-c]").append(x);var bt=function(Et,Ot){Ot===void 0&&(Ot=!0),d?d(Et,!Ot):(Ot&&i.setValueFromInput(0,!1),i.setValueFromInput(Et,Ot))};x.spectrum(Ns(Ns(Ns({color:i.getValue()||!1,containerClassName:"".concat(f,"one-bg ").concat(f,"two-color"),appendTo:G||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"⨯",palette:[]},nt),i.get("colorPicker")||{}),{move:function(Et){var Ot=Gi(Et);t.movedColor=Ot,b.backgroundColor=Ot,bt(Ot,!1)},change:function(Et){pt=!0;var Ot=Gi(Et);b.backgroundColor=Ot,bt(Ot),t.noneColor=!1},show:function(Et){pt=!1,t.movedColor="",st=d?i.getValue({noDefault:!0}):Gi(Et)},hide:function(){pt||!st&&!d||(t.noneColor&&(st=""),b.backgroundColor=st,x.spectrum("set",st),bt(st,!1))}})),n&&n.on&&this.listenTo(n,"component:selected",function(){t.movedColor&&bt(t.movedColor),pt=!0,t.movedColor="",x.spectrum("hide")}),this.colorEl=x}return this.colorEl},r.prototype.render=function(){return Sl.prototype.render.call(this),this.getColorEl(),this},r}(Sl);var af=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const lf=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return af(r,s),r.prototype.templateInput=function(){return""},r.prototype.getInputEl=function(){if(!this.input){var t=this.model,e=this.getModelValue(),n=new Vu({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render();n.setValue(e,{fromTarget:1}),this.input=n.el}return this.input},r}(qo);var kn=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hu=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return kn(r,s),r.prototype.templateInput=function(){return""},r.prototype.onChange=function(){this.handleClick()},r.prototype.handleClick=function(){var t=this.model,e=this.em,n=t.get("command");n&&((0,E.isString)(n)?e.Commands.run(n):n(e.Editor,t))},r.prototype.renderLabel=function(){this.model.get("label")&&qo.prototype.renderLabel.apply(this)},r.prototype.getInputEl=function(){var t=this.model,e=this.ppfx,n=t.props(),i=n.labelButton,l=n.text,f=n.full,d=i||l,x="".concat(e,"btn");return'<button type="button" class="'.concat(x,"-prim").concat(f?" ".concat(x,"--full"):"",'">').concat(d,"</button>")},r}(qo);const bc=Hu;Hu.prototype.eventCapture=["click button"];var Ma=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),co="trait",kl="".concat(co,":"),wc="".concat(kl,"custom"),zu={text:qo,number:Fu,select:nf,checkbox:of,color:lf,button:bc},Bu=function(s){function r(t){var e=s.call(this,t,"TraitManager",tf)||this;e.TraitsView=vc,e.events={all:co,custom:wc};var n=new h.Hn;e.model=n,e.types=zu;var i=(0,E.debounce)(function(){return e.__upSel()},0);n.listenTo(t,"component:toggled",i);var l=(0,E.debounce)(function(){return e.__onUp()},0);return n.listenTo(t,"trait:update",l),e}return Ma(r,s),r.prototype.__upSel=function(){this.select(this.em.getSelected())},r.prototype.__onUp=function(){this.select(this.getSelected())},r.prototype.select=function(t){var e=t?t.getTraits():[];this.model.set({component:t,traits:e}),this.__trgCustom()},r.prototype.getSelected=function(){return this.model.get("component")},r.prototype.getCurrent=function(){return this.model.get("traits")||[]},r.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},r.prototype.postRender=function(){this.__appendTo()},r.prototype.getTraitsViewer=function(){return this.view},r.prototype.addType=function(t,e){var n=this.getType("text");this.types[t]=n.extend(e)},r.prototype.getType=function(t){return this.getTypes()[t]},r.prototype.getTypes=function(){return this.types},r.prototype.render=function(){var t=this.view,e=this.em,n=this.getConfig(),i=t&&t.el;return t=new vc({el:i,collection:[],editor:e,config:n},this.getTypes()),this.view=t,t.el},r.prototype.destroy=function(){this.model.stopListening(),this.model.clear()},r}(k);const Uu=Bu,_c={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}};var Wu=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cf=function(s){function r(t){t===void 0&&(t={});var e=s.call(this,t)||this;e.items=[],e.opt=t;var n=t.config||{};e.config=n,e.parentView=t.parentView;var i=n.stylePrefix||"",l=n.pStylePrefix||"",f=e.collection;e.listenTo(f,"add",e.addTo),e.listenTo(f,"reset resetNavigator",e.render),e.listenTo(f,"remove",e.removeChildren),e.className="".concat(i,"layers");var d=n.em;if(n.sortable&&!e.opt.sorter){var x=d.Utils;e.opt.sorter=new x.Sorter({container:n.sortContainer||e.el,containerSel:".".concat(e.className),itemSel:".".concat(i,"layer"),ignoreViewChildren:1,onEndMove:function(b,G,nt){var st=G.getSourceModel();d.setSelected(st,{forceChange:1}),d.trigger("".concat(Vo,":end"),nt)},avoidSelectOnEnd:1,nested:1,ppfx:l,pfx:i})}return e.$el.data("collection",f),t.parent&&e.$el.data("model",t.parent),e}return Wu(r,s),r.prototype.removeChildren=function(t){var e=t.viewLayer;e&&(e.remove(),delete t.viewLayer)},r.prototype.addTo=function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},r.prototype.addToCollection=function(t,e,n){var i=this,l=i.parentView,f=i.opt,d=i.config,x=f.ItemView,b=f.opened,G=f.module,nt=e||null,st=new x({ItemView:x,level:f.level,model:t,parentView:l,config:d,sorter:f.sorter,opened:b,module:G}),pt=st.render().el;if(nt)nt.appendChild(pt);else if(n!==void 0){var bt="before";this.$el.children().length==n&&(n--,bt="after"),n<0?this.$el.append(pt):this.$el.children().eq(n)[bt](pt)}else this.$el.append(pt);return this.items.push(st),pt},r.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return h.G7.prototype.remove.apply(this,t),this.items.map(function(n){return n.remove()}),this},r.prototype.render=function(){var t=this,e=document.createDocumentFragment(),n=this.el;return n.innerHTML="",this.collection.each(function(i){return t.addToCollection(i,e)}),n.appendChild(e),n.className=this.className,this},r}(h.G7);const xc=cf;var $u=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hn="contentEditable",Gu=function(s){function r(t){var e=s.call(this,t)||this;(0,E.bindAll)(e,"__render"),e.opt=t,e.module=t.module,e.config=t.config||{},e.sorter=t.sorter||"",e.parentView=t.parentView;var n=e,i=n.model,l=n.pfx,f=n.ppfx,d=i.get("type")||"default";return e.className="".concat(l,"layer ").concat(l,"layer__t-").concat(d," no-select ").concat(f,"two-color"),e.inputNameCls="".concat(f,"layer-name"),e.clsTitleC="".concat(l,"layer-title-c"),e.clsTitle="".concat(l,"layer-title"),e.clsCaret="".concat(l,"layer-caret"),e.clsCount="".concat(l,"layer-count"),e.clsMove="".concat(l,"layer-move"),e.clsChildren="".concat(l,"layer-children"),e.clsNoChild="".concat(l,"layer-no-chld"),e.clsEdit="".concat(e.inputNameCls,"--edit"),e.clsNoEdit="".concat(e.inputNameCls,"--no-edit"),e.initComponent(),e}return $u(r,s),r.prototype.events=function(){return{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"}},r.prototype.template=function(t){var e=this,n=e.pfx,i=e.ppfx,l=e.config,f=e.clsNoEdit,d=e.module,x=e.opt,b=e.em,G=l.hidable,nt=d.getComponents(t).length,st=nt?"":this.clsNoChild,pt="".concat(this.clsTitle," ").concat(st),bt="".concat(this.clsTitleC," ").concat(i,"one-bg"),Et="".concat(this.inputNameCls," ").concat(f," ").concat(i,"no-app"),Ot=x.level+1,Zt="".concat(30+10*Ot,"px"),Qt=t.getName(),ve=t.getIcon(),ye="".concat(n,"layer"),Re=(b==null?void 0:b.getConfig()).icons,Be=Re.move,en=Re.eye,mn=Re.eyeOff,zn=Re.chevron;return`
      `.concat(G?'<i class="'.concat(n,`layer-vis" data-toggle-visible>
            <i class="`).concat(n,'layer-vis-on">').concat(en,`</i>
            <i class="`).concat(n,'layer-vis-off">').concat(mn,`</i>
          </i>`):"",`
      <div class="`).concat(bt,`">
        <div class="`).concat(pt,'" style="padding-left: ').concat(Zt,`" data-toggle-select>
          <div class="`).concat(n,'layer-title-inn" title="').concat(Qt,`">
            <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(zn,`</i>
            `).concat(ve?'<span class="'.concat(ye,'__icon">').concat(ve,"</span>"):"",`
            <span class="`).concat(Et,'" data-name>').concat(Qt,`</span>
          </div>
        </div>
      </div>
      <div class="`).concat(this.clsCount,'" data-count>').concat(nt||"",`</div>
      <div class="`).concat(this.clsMove,'" data-toggle-move>').concat(Be||"",`</div>
      <div class="`).concat(this.clsChildren,'"></div>')},Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),r.prototype.initComponent=function(){var t=this,e=this.model,n=this.config.onInit,i=e.components();this.listenTo(i,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(l){return t.listenTo(e,l[0],l[1])}),this.$el.data("model",e),this.$el.data("collection",i),e.viewLayer=this,n.bind(this)({component:e,render:this.__render,listenTo:this.listenTo})},r.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},r.prototype.getVisibilityEl=function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},r.prototype.updateVisibility=function(){var t=this,e=t.pfx,n=t.model,i=t.module,l="".concat(e,"layer-hidden"),f=i.isVisible(n)?"removeClass":"addClass";this.$el[f](l),this.getVisibilityEl()[f]("".concat(e,"layer-off"))},r.prototype.toggleVisibility=function(t){t==null||t.stopPropagation();var e=this.module,n=this.model;e.setVisible(n,!e.isVisible(n))},r.prototype.handleEdit=function(t){t==null||t.stopPropagation();var e=this,n=e.em,i=e.$el,l=e.clsNoEdit,f=e.clsEdit,d=this.getInputName();d[hn]="true",d.focus(),document.execCommand("selectAll",!1),n.setEditing(!0),i.find(".".concat(this.inputNameCls)).removeClass(l).addClass(f)},r.prototype.handleEditKey=function(t){t.stopPropagation(),((0,ue.kl)(t)||(0,ue.r$)(t))&&this.handleEditEnd(t)},r.prototype.handleEditEnd=function(t){t==null||t.stopPropagation();var e=this,n=e.em,i=e.$el,l=e.clsNoEdit,f=e.clsEdit,d=this.getInputName(),x=d.textContent;d.scrollLeft=0,d[hn]="false",this.setName(x,{component:this.model,propName:"custom-name"}),n.setEditing(!1),i.find(".".concat(this.inputNameCls)).addClass(l).removeClass(f),this.updateName()},r.prototype.setName=function(t,e){var n=e.propName;this.model.set(n,t)},r.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},r.prototype.updateOpening=function(){var t=this,e=t.$el,n=t.model,i=t.pfx,l="open",f="".concat(i,"layer-open"),d=this.getCaret();this.module.isOpen(n)?(e.addClass(l),d.addClass(f)):(e.removeClass(l),d.removeClass(f))},r.prototype.toggleOpening=function(t){var e=this.model,n=this.module;t==null||t.stopImmediatePropagation(),e.get("components").length&&n.setOpen(e,!n.isOpen(e))},r.prototype.handleSelect=function(t){t==null||t.stopPropagation();var e=this.module,n=this.model;e.setLayerData(n,{selected:!0},{event:t})},r.prototype.handleHover=function(t){t==null||t.stopPropagation();var e=this.module,n=this.model;e.setLayerData(n,{hovered:!0})},r.prototype.handleHoverOut=function(t){t==null||t.stopPropagation();var e=this.module,n=this.model;e.setLayerData(n,{hovered:!1})},r.prototype.startSort=function(t){t.stopPropagation();var e=this.em,n=this.sorter;t.button&&t.button!==0||n&&(n.onStart=function(i){return e.trigger("".concat(Vo,":start"),i)},n.onMoveClb=function(i){return e.trigger(Vo,i)},n.startSort(t.target))},r.prototype.updateStatus=function(){Tn.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},r.prototype.checkChildren=function(){var t=this,e=t.model,n=t.clsNoChild,i=t.$el,l=t.module,f=l.getComponents(e).length,d=i.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),x=this.cnt;x||(x=i.children("[data-count]").get(0),this.cnt=x),d[f?"removeClass":"addClass"](n),x&&(x.innerHTML=f||""),!f&&l.setOpen(e,!1)},r.prototype.getCaret=function(){return this.caret&&this.caret.length||(this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},r.prototype.setRoot=function(t){var e;t=(0,E.isString)(t)?(e=this.em.getWrapper())===null||e===void 0?void 0:e.find(t)[0]:t;var n=(0,K.getModel)(t,0);n&&(this.stopListening(),this.model=n,this.initComponent(),this._rendered&&this.render())},r.prototype.updateLayerable=function(){(this.parentView||this).render()},r.prototype.__clearItems=function(){var t;(t=this.items)===null||t===void 0||t.remove()},r.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return h.G7.prototype.remove.apply(this,t),this.__clearItems(),this},r.prototype.render=function(){var t=this,e=t.model,n=t.config,i=t.pfx,l=t.ppfx,f=t.opt,d=t.sorter;this.__clearItems();var x=f.opened,b=f.module,G=f.ItemView,nt=!b.__isLayerable(e),st=this.$el.empty(),pt=f.level+1;delete this.inputName,this.items=new xc({ItemView:G,collection:e.get("components"),config:n,sorter:d,opened:x,parentView:this,parent:e,level:pt,module:b});var bt=this.items.render().$el;return n.showWrapper||pt!==1?(st.html(this.template(e)),st.find(".".concat(this.clsChildren)).append(bt)):st.append(bt),e.get("draggable")&&n.sortable||st.children(".".concat(this.clsMove)).remove(),!b.isVisible(e)&&(this.className+=" ".concat(i,"hide")),nt&&(this.className+=" ".concat(l,"hidden")),st.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.__render(),this._rendered=!0,this},r.prototype.__render=function(){var t=this,e=t.model,n=t.config,i={component:e,el:t.el};n.onRender.bind(this)(i),this.em.trigger("layer:render",i)},r}(h.G7);const uf=Gu;var Rs=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cc=function(){return Cc=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Cc.apply(this,arguments)},La="layer",Sc="".concat(La,":"),jn="".concat(Sc,"root"),qu="".concat(Sc,"component"),pf="".concat(Sc,"custom"),ff={all:La,root:jn,component:qu,custom:pf},Fs={mediaText:""},o=["open","status","locked","custom-name","components","classes"].map(function(s){return"component:update:".concat(s)}).join(" "),a=function(s){function r(t){var e=s.call(this,t,"LayerManager",_c)||this;return e.events=ff,(0,E.bindAll)(e,"componentChanged","__onRootChange","__onComponent"),e.model=new R.Z(e,{opened:{}}),e.config.stylePrefix=e.config.pStylePrefix,e}return Rs(r,s),r.prototype.onLoad=function(){var t=this,e=this,n=e.em,i=e.config,l=e.model;l.listenTo(n,"component:selected",this.componentChanged),l.on("change:root",this.__onRootChange),l.listenTo(n,o,this.__onComponent),this.componentChanged(),l.listenToOnce(n,"load",function(){t.setRoot(i.root),t.__appendTo()})},r.prototype.setRoot=function(t){var e=this.em.getWrapper(),n=(0,K.isComponent)(t)?t:e;return t&&(0,E.isString)(t)&&(0,K.hasWin)()&&(n=e.find(t)[0]||e),this.model.set("root",n),n},r.prototype.getRoot=function(){return this.model.get("root")},r.prototype.getComponents=function(t){var e=this;return t.components().filter(function(n){return e.__isLayerable(n)})},r.prototype.setOpen=function(t,e){t.set("open",e)},r.prototype.isOpen=function(t){return!!t.get("open")},r.prototype.setVisible=function(t,e){var n="__prev-display",i=t.getStyle(Fs),l=i.display;if(e){var f=t.get(n);delete i.display,f&&(i.display=f,t.unset(n))}else l&&t.set(n,l),i.display="none";t.setStyle(i,Fs),this.updateLayer(t),this.em.trigger("component:toggled")},r.prototype.isVisible=function(t){return(e=t.getStyle(Fs))===void 0&&(e={}),(e.display||"").trim().indexOf("none")!==0;var e},r.prototype.setLocked=function(t,e){t.set("locked",e)},r.prototype.isLocked=function(t){return!!t.get("locked")},r.prototype.setName=function(t,e){t.set("custom-name",e)},r.prototype.getName=function(t){return t.getName()},r.prototype.getLayerData=function(t){var e=t.get("status");return{name:t.getName(),open:this.isOpen(t),selected:e==="selected",hovered:e==="hovered",visible:this.isVisible(t),locked:this.isLocked(t),components:this.getComponents(t)}},r.prototype.setLayerData=function(t,e,n){var i;n===void 0&&(n={});var l=this.em,f=this.config,d=e.open,x=e.selected,b=e.hovered,G=e.visible,nt=e.locked,st=e.name,pt=Cc({fromLayers:!0},n);if((0,K.isDef)(d)&&this.setOpen(t,d),(0,K.isDef)(x))if(x){l.setSelected(t,pt);var bt=f.scrollCanvas;bt&&((i=t.views)===null||i===void 0||i.forEach(function(Et){return Et.scrollIntoView(bt)}))}else l.removeSelected(t,pt);(0,K.isDef)(b)&&f.showHover&&(b?l.setHovered(t,pt):l.setHovered(null,pt)),(0,K.isDef)(G)&&G!==this.isVisible(t)&&this.setVisible(t,G),(0,K.isDef)(nt)&&this.setLocked(t,nt),(0,K.isDef)(st)&&this.setName(t,st)},r.prototype.componentChanged=function(t,e){var n;if(e===void 0&&(e={}),!e.fromLayers){var i=this.em,l=this.config.scrollLayers,f=this.model.get("opened"),d=i.getSelected(),x=d==null?void 0:d.parent();for(var b in f)f[b].set("open",!1),delete f[b];for(;x;)x.set("open",!0),f[x.cid]=x,x=x.parent();if(d&&l){var G=(n=d.viewLayer)===null||n===void 0?void 0:n.el;G==null||G.scrollIntoView(l)}}},r.prototype.getAll=function(){return this.view},r.prototype.render=function(){var t,e,n=this.config,i=this.model,l=uf.extend(n.extend);return this.view=new l({el:(t=this.view)===null||t===void 0?void 0:t.el,ItemView:l,level:0,config:n,opened:i.get("opened"),model:this.getRoot(),module:this}),(e=this.view)===null||e===void 0?void 0:e.render().el},r.prototype.destroy=function(){var t;(t=this.view)===null||t===void 0||t.remove()},r.prototype.__onRootChange=function(){var t,e=this.getRoot();(t=this.view)===null||t===void 0||t.setRoot(e),this.em.trigger(jn,e),this.__trgCustom()},r.prototype.__onComponent=function(t){this.updateLayer(t)},r.prototype.__isLayerable=function(t){var e=t.get("tagName");return(!this.config.hideTextnode||!t.is("textnode")&&e!=="br")&&t.get("layerable")},r.prototype.__trgCustom=function(t){var e=this,n=e.__ctn,i=e.em,l=e.events;this.__ctn=n||(t==null?void 0:t.container),i.trigger(l.custom,{container:this.__ctn,root:this.getRoot()})},r.prototype.updateLayer=function(t,e){this.em.trigger(qu,t,e)},r}(k);const u=a,c={assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""};var p=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return p(r,s),r.getDefaults=function(){return(0,E.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{type:"",src:""}},r.prototype.getType=function(){return this.get("type")},r.prototype.getSrc=function(){return this.get("src")},r.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},r.prototype.getExtension=function(){return this.getFilename().split(".").pop()},r}(h.Hn);const I=_;_.prototype.idAttribute="src";var B=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),et=function(){return et=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},et.apply(this,arguments)};const it=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return B(r,s),r.prototype.defaults=function(){return et(et({},I.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},r}(I);var Ct=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),St=function(s){function r(t){var e=s.call(this,t)||this;e.options=t,e.collection=t.collection;var n=t.config||{};e.config=n,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.em=n.em,e.className=e.pfx+"asset",e.listenTo(e.model,"destroy remove",e.remove),e.model.view=e;var i=e.init&&e.init.bind(e);return i&&i(t),e}return Ct(r,s),r.prototype.__getBhv=function(){var t=this.em,e=t==null?void 0:t.Assets;return(e==null?void 0:e.__getBehaviour())||{}},r.prototype.template=function(t,e){var n=this.pfx;return`
      <div class="`.concat(n,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(n,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(n,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},r.prototype.updateTarget=function(t){t&&t.set&&(t.set("attributes",(0,E.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},r.prototype.getPreview=function(){return""},r.prototype.getInfo=function(){return""},r.prototype.render=function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this},r}(h.G7);const Vt=St;var zt=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kt=function(s,r){return Object.defineProperty?Object.defineProperty(s,"raw",{value:r}):s.raw=r,s},ie=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return zt(r,s),r.prototype.getPreview=function(){var t=this,e=t.pfx,n=t.ppfx,i=t.model.get("src");return Z(we||(we=Kt([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),e,i,e,n)},r.prototype.getInfo=function(){var t=this.pfx,e=this.model,n=e.get("name"),i=e.get("width"),l=e.get("height"),f=e.get("unitDim"),d=i&&l?"".concat(i,"x").concat(l).concat(f):"";return n=n||e.getFilename(),Z(Ce||(Ce=Kt([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),t,n,t,d)},r.prototype.init=function(t){var e=this.pfx;this.className+=" ".concat(e,"asset-image")},r.prototype.onClick=function(){var t=this.model,e=this.pfx,n=this.__getBhv().select,i=this.config.onClick,l=this.collection;l.trigger("deselectAll"),this.$el.addClass(e+"highlight"),(0,E.isFunction)(n)?n(t,!1):(0,E.isFunction)(i)?i(t):this.updateTarget(l.target)},r.prototype.onDblClick=function(){var t=this.em,e=this.model,n=this.__getBhv().select,i=this.config.onDblClick,l=this.collection,f=l.target,d=l.onSelect;(0,E.isFunction)(n)?n(e,!0):(0,E.isFunction)(i)?i(e):(this.updateTarget(f),t==null||t.Modal.close()),(0,E.isFunction)(d)&&d(e)},r.prototype.onRemove=function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)},r}(Vt);const he=ie;var we,Ce;ie.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var me=function(){return me=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},me.apply(this,arguments)},Ae={types:[],initialize:function(s,r){var t=this;r===void 0&&(r={});var e=r.em;this.em=e,this.opts=r,this.model=function(i,l){var f,d,x;if(i===void 0&&(i={}),l===void 0&&(l={}),i&&i.type){var b=t.getBaseType();f=(x=t.getType(i.type))?x.model:b.model,d=x?x.view:b.view}else{var G=t.recognizeType(i);f=(x=G.type).model,d=x.view,i=G.attributes}var nt=new f(i,me(me({},l),{em:e}));return nt.typeView=d,nt};var n=this.init&&this.init.bind(this);n&&n()},recognizeType:function(s){for(var r=this.getTypes(),t=0;t<r.length;t++){var e=r[t],n=e.isType(s);if(n=typeof n=="boolean"&&n?{type:e.id}:n)return{type:e,attributes:n}}return{type:this.getBaseType(),attributes:s}},getBaseType:function(){var s=this.getTypes();return s[s.length-1]},getTypes:function(){return this.types},getType:function(s){for(var r=this.getTypes(),t=0;t<r.length;t++){var e=r[t];if(e.id===s)return e}},addType:function(s,r){var t=this.getType(s),e=this.getBaseType(),n=t?t.model:e.model,i=t?t.view:e.view,l=r.model,f=r.view,d=r.isType;l=l instanceof h.Hn||(0,E.isFunction)(l)?l:n.extend(l||{}),f=f instanceof h.G7||(0,E.isFunction)(f)?f:i.extend(f||{}),!this.extendViewApi||r.model||r.view||(f=f.extend(r)),t?(t.model=l,t.view=f,t.isType=d||t.isType):(r.id=s,r.model=l,r.view=f,r.isType=d||function(x){if(x&&x.type==s)return!0},this.getTypes().unshift(r))}};const Ee=Ae;var Ie=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vn=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Ie(r,s),r}(h.FE.extend(Ee));const gn=vn;vn.prototype.types=[{id:"image",model:it,view:he,isType:function(s){return typeof s=="string"?{type:"image",src:s}:s}}];var Hr=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_n=function(s){function r(t){t===void 0&&(t={});var e=s.call(this,t)||this;e.options=t,e.config=t.config,e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.em=e.config.em;var n=e.collection;return e.listenTo(n,"reset",e.renderAssets),e.listenTo(n,"add",e.addToAsset),e.listenTo(n,"remove",e.removedAsset),e.listenTo(n,"deselectAll",e.deselectAll),e}return Hr(r,s),r.prototype.template=function(t){var e=t.pfx,n=t.ppfx,i=t.em,l="";return this.config.showUrlInput&&(l=`
          <form class="`.concat(e,`add-asset">
            <div class="`).concat(n,"field ").concat(e,`add-field">
              <input placeholder="`).concat(i==null?void 0:i.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(n,'btn-prim">').concat(i==null?void 0:i.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(e,`assets-cont">
      <div class="`).concat(e,`assets-header">
        `).concat(l,`
      </div>
      <div class="`).concat(e,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},r.prototype.handleSubmit=function(t){t.preventDefault();var e=this.getAddInput(),n=e&&e.value.trim(),i=this.config.handleAdd;if(n){e.value="";var l=this.getAssetsEl();l&&(l.scrollTop=0),i?i.bind(this)(n):this.options.globalCollection.add(n,{at:0})}},r.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},r.prototype.getAddInput=function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},r.prototype.removedAsset=function(t){this.collection.length||this.toggleNoAssets()},r.prototype.addToAsset=function(t){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(t)},r.prototype.addAsset=function(t,e){e===void 0&&(e=null);var n=e,i=this.collection,l=this.config,f=new t.typeView({model:t,collection:i,config:l}).render().el;if(n)n.appendChild(f);else{var d=this.getAssetsEl();d&&d.insertBefore(f,d.firstChild)}return f},r.prototype.toggleNoAssets=function(t){t===void 0&&(t=!1);var e=this.$el.find(".".concat(this.pfx,"assets"));if(t)e.empty();else{var n=this.config.noAssets;n&&e.append(n)}},r.prototype.deselectAll=function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},r.prototype.renderAssets=function(){var t=this,e=document.createDocumentFragment(),n=this.$el.find(".".concat(this.pfx,"assets"));n.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(i){return t.addAsset(i,e)}),n.append(e)},r.prototype.render=function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},r}(h.G7);const uo=_n;_n.prototype.events={submit:"handleSubmit"};var zr=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mn=function(s,r){return Object.defineProperty?Object.defineProperty(s,"raw",{value:r}):s.raw=r,s},Pr=function(s){function r(t){t===void 0&&(t={});var e=s.call(this,t)||this;e.options=t;var n=t.config||{};e.module=t.module,e.config=n,e.em=e.config.em,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.target=e.options.globalCollection||{},e.uploadId=e.pfx+"uploadFile",e.disabled=n.disableUpload!==void 0?n.disableUpload:!n.upload&&!n.embedAsBase64,e.multiUpload=n.multiUpload===void 0||n.multiUpload;var i=n.uploadFile;return i?e.uploadFile=i.bind(e):!n.upload&&n.embedAsBase64&&(e.uploadFile=r.embedAsBase64),e.delegateEvents(),e}return zr(r,s),r.prototype.template=function(t){var e=t.pfx,n=t.title,i=t.uploadId,l=t.disabled,f=t.multiUpload;return Z(Dn||(Dn=Mn([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),e,n,i,l?"disabled":"",f?"multiple":"")},r.prototype.events=function(){return{"change [data-input]":"uploadFile"}},r.prototype.onUploadStart=function(){var t=this.module;t&&t.__propEv("asset:upload:start")},r.prototype.onUploadEnd=function(t){var e=this.$el,n=this.module;n&&n.__propEv("asset:upload:end",t);var i=e.find("input");i&&i.val("")},r.prototype.onUploadError=function(t){var e=this.module;console.error(t),this.onUploadEnd(t),e&&e.__propEv("asset:upload:error",t)},r.prototype.onUploadResponse=function(t,e){var n,i=this,l=i.module,f=i.config,d=i.target;try{n=typeof t=="string"?JSON.parse(t):t}catch{n=t}l&&l.__propEv("asset:upload:response",n),f.autoAdd&&d&&d.add(n.data,{at:0}),this.onUploadEnd(t),e==null||e(n)},r.prototype.uploadFile=function(t,e){var n=this,i=t.dataTransfer?t.dataTransfer.files:t.target.files,l=this.config,f=l.beforeUpload;if((f&&f(i))!==!1){var d=new FormData,x=l.params,b=l.customFetch,G=l.fetchOptions;for(var nt in x)d.append(nt,x[nt]);if(this.multiUpload)for(var st=0;st<i.length;st++)d.append("".concat(l.uploadName,"[]"),i[st]);else i.length&&d.append(l.uploadName,i[0]);var pt=l.upload,bt=l.headers,Et="X-Requested-With";if(bt[Et]===void 0&&(bt[Et]="XMLHttpRequest"),pt){this.onUploadStart();var Ot={method:"post",credentials:l.credentials||"include",headers:bt,body:d},Zt=(G==null?void 0:G(Ot))||Ot;return(b?b(pt,Zt):_l(pt,Zt).then(function(Qt){return(Qt.status/200|0)==1?Qt.text():Qt.text().then(function(ve){return Promise.reject(ve)})})).then(function(Qt){return n.onUploadResponse(Qt,e)}).catch(function(Qt){return n.onUploadError(Qt)})}}},r.prototype.initDrop=function(){var t=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var e=this.uploadForm;"draggable"in e&&(this.uploadForm.ondragover=function(){return e.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return e.className="",!1},this.uploadForm.ondrop=function(n){e.className="",n.preventDefault(),t.uploadFile(n)})}},r.prototype.initDropzone=function(t){var e=this,n=0,i=this.config,l=t.model,f=t.el,d=l.Editor,x=l.Canvas.getBody(),b=this.ppfx,G="".concat(b,"dropzone-active"),nt="".concat(b,"dropzone"),st=function(){f.className=f.className.replace(G,"").trim(),n=0},pt=function(){return n||(f.className+=" ".concat(G),n=1),!1},bt=function(){return st(),!1},Et=function(Ot){if(st(),Ot.preventDefault(),Ot.stopPropagation(),e.uploadFile(Ot),i.openAssetsOnDrop&&d){var Zt=d.getSelected();d.runCommand("open-assets",{target:Zt,onSelect:function(){d.Modal.close(),d.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(nt,'">').concat(i.dropzoneContent,"</div>")),st(),"draggable"in f&&[f,x].forEach(function(Ot){Ot.ondragover=pt,Ot.ondragleave=bt,Ot.ondrop=Et})},r.prototype.render=function(){var t=this,e=t.$el,n=t.pfx,i=t.em;return e.html(this.template({title:i&&i.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:n})),this.initDrop(),e.attr("class",n+"file-uploader"),this},r.embedAsBase64=function(t,e){var n=this,i=t.dataTransfer?t.dataTransfer.files:t.target.files,l={data:[]};if(FileReader){for(var f=[],d=/^(.+)\/(.+)$/,x=function(nt){var st=new Promise(function(pt,bt){var Et=new FileReader;Et.addEventListener("load",function(Ot){var Zt,Qt=nt.name,ve=d.exec(nt.type);if((Zt=ve?ve[1]:nt.type)==="image"){var ye={src:Et.result,name:Qt,type:Zt,height:0,width:0},Re=new Image;Re.addEventListener("error",function(Be){bt(Be)}),Re.addEventListener("load",function(){ye.height=Re.height,ye.width=Re.width,pt(ye)}),Re.src=ye.src}else pt(Zt?{src:Et.result,name:Qt,type:Zt}:Et.result)}),Et.addEventListener("error",function(Ot){bt(Ot)}),Et.addEventListener("abort",function(Ot){bt("Aborted")}),Et.readAsDataURL(nt)});f.push(st)},b=0,G=i;b<G.length;b++)x(G[b]);return Promise.all(f).then(function(nt){l.data=nt,n.onUploadResponse(l,e)},function(nt){n.onUploadError(nt)})}this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))},r}(h.G7);const yr=Pr;var Dn,In=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),On=function(){return On=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},On.apply(this,arguments)},br=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},Zo="asset",nr="".concat(Zo,":"),lr="".concat(nr,"select"),Hn="".concat(nr,"update"),Oc="".concat(nr,"add"),jo="".concat(nr,"remove"),qi="".concat(jo,":before"),Zi="".concat(nr,"custom"),wr="".concat(nr,"open"),Vs="".concat(nr,"close"),Hs="".concat(nr,"upload"),Ch="".concat(Hs,":start"),Sh="".concat(Hs,":end"),Oh="".concat(Hs,":error"),kh="".concat(Hs,":response"),kc="open-assets",Th={all:Zo,select:lr,update:Hn,add:Oc,remove:jo,removeBefore:qi,custom:Zi,open:wr,close:Vs,uploadStart:Ch,uploadEnd:Sh,uploadError:Oh,uploadResponse:kh},Eh=function(s){function r(t){var e=s.call(this,t,"AssetManager",new gn([],t),Th,c)||this;e.storageKey="assets",e.Asset=I,e.Assets=gn;var n=e,i=n.all,l=n.config;e.assetsVis=new gn([]);var f=l.pStylePrefix;return f&&(l.stylePrefix="".concat(f).concat(l.stylePrefix)),i.on("add",function(d){return e.getAllVisible().add(d)}),i.on("remove",function(d){return e.getAllVisible().remove(d)}),e.__onAllEvent=(0,E.debounce)(function(){return e.__trgCustom()},0),e}return In(r,s),r.prototype.__propEv=function(t){for(var e,n,i=[],l=1;l<arguments.length;l++)i[l-1]=arguments[l];(e=this.em).trigger.apply(e,br([t],i,!1)),(n=this.getAll()).trigger.apply(n,br([t],i,!1))},r.prototype.__trgCustom=function(){var t=this.__getBehaviour(),e=this.getConfig().custom;(t.container||e.open)&&this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:e.types||[],container:e.container,close:function(){return t.close()},remove:function(n,i){return t.remove(n,i)},select:function(n,i){var l=t.add(n);(0,E.isFunction)(e.select)&&e.select(l,i)},options:e.options||{}}},r.prototype.open=function(t){t===void 0&&(t={}),this.em.Commands.run(kc,On({types:["image"],select:function(){}},t))},r.prototype.close=function(){this.em.Commands.stop(kc)},r.prototype.isOpen=function(){var t=this.em.Commands;return!!(t!=null&&t.isActive(kc))},r.prototype.add=function(t,e){return e===void 0&&(e={}),e.at===void 0&&(e.at=0),this.all.add(t,e)},r.prototype.get=function(t){return this.all.where({src:t})[0]||null},r.prototype.getAll=function(){return this.all},r.prototype.getAllVisible=function(){return this.assetsVis},r.prototype.remove=function(t,e){return this.__remove(t,e)},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){return this.loadProjectData(t)},r.prototype.getContainer=function(){var t;return this.__getBehaviour().container||((t=this.am)===null||t===void 0?void 0:t.el)},r.prototype.getAssetsEl=function(){var t;return(t=this.am)===null||t===void 0?void 0:t.el.querySelector("[data-el=assets]")},r.prototype.render=function(t){if(!this.getConfig().custom){var e=t||this.getAll().models;if(!this.am){var n=this.__viewParams();n.fu=this.FileUploader(),this.am=new uo(On({},n)),this.am.render()}return this.assetsVis.reset(e),this.getContainer()}},r.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},r.prototype.addType=function(t,e){this.getAll().addType(t,e)},r.prototype.getType=function(t){return this.getAll().getType(t)},r.prototype.getTypes=function(){return this.getAll().getTypes()},r.prototype.AssetsView=function(){return this.am},r.prototype.FileUploader=function(){return this.fu||(this.fu=new yr(this.__viewParams())),this.fu},r.prototype.onLoad=function(){var t=this;this.getAll().reset(this.config.assets);var e=this.em,n=this.events;e.on("run:".concat(kc),function(){return t.__propEv(n.open)}),e.on("stop:".concat(kc),function(){return t.__propEv(n.close)})},r.prototype.postRender=function(t){var e;this.config.dropzone&&((e=this.fu)===null||e===void 0||e.initDropzone(t))},r.prototype.setTarget=function(t){this.assetsVis.target=t},r.prototype.onSelect=function(t){this.assetsVis.onSelect=t},r.prototype.onClick=function(t){this.config.onClick=t},r.prototype.onDblClick=function(t){this.config.onDblClick=t},r.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=On(On({},this._bhv||{}),t)},r.prototype.__getBehaviour=function(t){return this._bhv||{}},r.prototype.destroy=function(){var t,e;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(t=this.fu)===null||t===void 0||t.remove(),(e=this.am)===null||e===void 0||e.remove(),this._bhv={}},r}(M);const Ph=Eh;var df={placeholder:"eg. Text here"};const Ah={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:df,alt:df,title:df,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:void 0};var jh=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mh=function(s){function r(t){var e=s.call(this,t,"I18n",Ah)||this,n=e.config.messagesAdd;return n&&e.addMessages(n),e.config.detectLocale&&(e.config.locale=e._localLang()),e}return jh(r,s),r.prototype.setLocale=function(t){var e=this.em,n=this.config,i={value:t,valuePrev:n.locale};return e&&e.trigger("i18n:locale",i),n.locale=t,this},r.prototype.getLocale=function(){return this.config.locale},r.prototype.getMessages=function(t,e){e===void 0&&(e={});var n=this.config.messages;return t&&!n[t]&&this._debug("'".concat(t,"' i18n lang not found"),e),t?n[t]:n},r.prototype.setMessages=function(t){var e=this.em;return this.config.messages=t,e&&e.trigger("i18n:update",t),this},r.prototype.addMessages=function(t){var e=this.em,n=this.config.messages;return e&&e.trigger("i18n:add",t),this.setMessages((0,K.deepMerge)(n,t)),this},r.prototype.t=function(t,e){e===void 0&&(e={});var n=this.config,i=e.params||{},l=e.l||this.getLocale(),f=e.lFlb||n.localeFallback,d=this._getMsg(t,l,e);return d||(d=this._getMsg(t,f,e)),!d&&this._debug("'".concat(t,"' i18n key not found in '").concat(l,"' lang"),e),d=d&&(0,E.isString)(d)?this._addParams(d,i):d},r.prototype._localLang=function(){var t=(0,K.hasWin)()&&window.navigator||{},e=t.language||t.userLanguage;return e?e.split("-")[0]:"en"},r.prototype._addParams=function(t,e){var n=new RegExp("{([\\w\\d-]*)}","g");return t.replace(n,function(i,l){return e[l]||""}).trim()},r.prototype._getMsg=function(t,e,n){n===void 0&&(n={});var i=this.getMessages(e,n);if(i){var l=i[t];return!l&&t.indexOf(".")>0&&(l=t.split(".").reduce(function(f,d){if(!(0,E.isUndefined)(f))return f[d]},i)),l}},r.prototype._debug=function(t,e){e===void 0&&(e={});var n=this.em,i=this.config;(e.debug||i.debug)&&n&&n.logWarning(t)},r.prototype.destroy=function(){},r}(k);const Lh=Mh;var Dh=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mi=function(){return mi=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},mi.apply(this,arguments)},Ih=function(){},Xf={id:"sorter-target",type:Ke.q.Target},Nh=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Dh(r,s),r.prototype.initialize=function(t){t===void 0&&(t={}),this.opt=t||{},(0,E.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var e=t||{};this.elT=0,this.elL=0,this.borderOffset=e.borderOffset||10;var n=e.container;this.el=typeof n=="string"?document.querySelector(n):n,this.$el=(0,C.default)(this.el),this.containerSel=e.containerSel||"div",this.itemSel=e.itemSel||"div",this.draggable=e.draggable||!0,this.nested=!!e.nested,this.pfx=e.pfx||"",this.ppfx=e.ppfx||"",this.freezeClass=e.freezeClass||this.pfx+"freezed",this.onStart=e.onStart||Ih,this.onEndMove=e.onEndMove,this.customTarget=e.customTarget,this.onEnd=e.onEnd,this.direction=e.direction||"v",this.onMoveClb=e.onMove,this.relative=e.relative||!1,this.ignoreViewChildren=!!e.ignoreViewChildren,this.plh=e.placer,this.wmargin=e.wmargin||0,this.offTop=e.offsetTop||0,this.offLeft=e.offsetLeft||0,this.document=e.document||document,this.em=e.em,this.canvasRelative=!!e.canvasRelative,this.selectOnEnd=!e.avoidSelectOnEnd,this.scale=e.scale,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},r.prototype.getScale=function(){return(0,E.result)(this,"scale")||1},r.prototype.getContainerEl=function(t){if(t&&(this.el=t),!this.el){var e=this.opt.container;this.el=typeof e=="string"?document.querySelector(e):e,this.$el=(0,C.default)(this.el)}return this.el},r.prototype.getDocuments=function(t){var e=this.em,n=t?t.ownerDocument:e==null?void 0:e.Canvas.getBody().ownerDocument,i=[document];return n&&i.push(n),i},r.prototype.updateOffset=function(){var t,e=((t=this.em)===null||t===void 0?void 0:t.get("canvasOffset"))||{};this.offTop=e.top,this.offLeft=e.left},r.prototype.setDropContent=function(t){delete this.dropModel,this.dropContent=t},r.prototype.updateTextViewCursorPosition=function(t){var e=this.em;if(e){var n=e.get("Canvas"),i=n.getDocument(),l=null;if(i.caretRangeFromPoint){var f=(0,ue.VB)(t);l=i.caretRangeFromPoint(f.clientX,f.clientY)}else t.rangeParent&&(l=i.createRange()).setStart(t.rangeParent,t.rangeOffset);var d=n.getWindow().getSelection();n.getFrameEl().focus(),d.removeAllRanges(),l&&d.addRange(l),this.setContentEditable(this.activeTextModel,!0)}},r.prototype.setContentEditable=function(t,e){if(t){var n=t.getEl();n.contentEditable!=e&&(n.contentEditable=e)}},r.prototype.toggleSortCursor=function(t){var e=this.em,n=e&&e.get("Canvas");n&&(t?n.startAutoscroll():n.stopAutoscroll())},r.prototype.setDragHelper=function(t,e){for(var n=e||"",i=t.cloneNode(!0),l=t.getBoundingClientRect(),f=getComputedStyle(t),d="",x=0;x<f.length;x++){var b=f[x];d+="".concat(b,":").concat(f.getPropertyValue(b),";")}document.body.appendChild(i),i.className+=" ".concat(this.pfx,"bdrag"),i.setAttribute("style",d),this.dragHelper=i,i.style.width="".concat(l.width,"px"),i.style.height="".concat(l.height,"px"),n&&this.moveDragHelper(n),this.em&&(0,C.default)(this.em.Canvas.getBody().ownerDocument).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper),(0,C.default)(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},r.prototype.moveDragHelper=function(t){var e=t.target.ownerDocument;if(this.dragHelper&&e){var n=t.pageY,i=t.pageX,l=0,f=0,d=(e.defaultView||e.parentWindow).frameElement,x=this.dragHelper.style;if(d){var b=d.getBoundingClientRect();l=b.top+document.documentElement.scrollTop,f=b.left+document.documentElement.scrollLeft,n=t.clientY,i=t.clientX}x.top=n+l+"px",x.left=i+f+"px"}},r.prototype.matches=function(t,e){return K.matches.call(t,e)},r.prototype.closest=function(t,e){if(t)for(var n=t.parentNode;n&&n.nodeType===1;){if(this.matches(n,e))return n;n=n.parentNode}},r.prototype.offset=function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},r.prototype.createPlaceholder=function(){var t=this.pfx,e=document.createElement("div"),n=document.createElement("div");return e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",n.className=t+"placeholder-int",e.appendChild(n),e},r.prototype.startSort=function(t,e){var n,i;e===void 0&&(e={});var l,f=this,d=f.em,x=f.itemSel,b=f.containerSel,G=f.plh,nt=this.getContainerEl(e.container),st=this.getDocuments(t);delete this.dropModel,delete this.target,delete this.prevTarget,this.moved=!1,t&&!this.matches(t,"".concat(x,", ").concat(b))&&(t=this.closest(t,x)),this.sourceEl=t,G||(this.plh=this.createPlaceholder(),nt.appendChild(this.plh)),t&&((l=this.getSourceModel(t))!=null&&l.set&&l.set("status","freezed"),this.srcModel=l),(0,ue.on)(nt,"mousemove dragover",this.onMove),(0,ue.on)(st,"mouseup dragend touchend",this.endMove),(0,ue.on)(st,"keydown",this.rollback),this.onStart({sorter:this,target:l,parent:l&&((n=l.parent)===null||n===void 0?void 0:n.call(l)),index:l&&((i=l.index)===null||i===void 0?void 0:i.call(l))}),d==null||d.clearSelection(),this.toggleSortCursor(!0),d==null||d.trigger("sorter:drag:start",t,l)},r.prototype.getTargetModel=function(t){var e=t||this.target;return(0,C.default)(e).data("model")},r.prototype.getSourceModel=function(t,e){var n=this,i=e===void 0?{}:e,l=i.target,f=i.avoidChildren,d=f===void 0?1:f,x=this.em,b=this.sourceEl,G=t||b,nt=this.dropModel,st=this.dropContent,pt=function(Zt){return Zt&&l&&Zt.opt&&Zt.opt.avoidChildren&&n.isTextableActive(Zt,l)};if(st&&x){if(pt(nt)&&(nt=void 0),!nt){var bt=x.Components.getComponents(),Et={avoidChildren:d,avoidStore:1,avoidUpdateStyle:1},Ot=bt.add(st,mi(mi({},Et),{temporary:!0}));if(nt=(nt=bt.remove(Ot,Et))instanceof Array?nt[0]:nt,this.dropModel=nt,pt(nt))return this.getSourceModel(G,{target:l,avoidChildren:0})}return nt}return G&&(0,C.default)(G).data("model")},r.prototype.selectTargetModel=function(t,e){if(!(t instanceof h.FE||e&&e===t)){var n=this.targetModel;if(n&&n!==this.srcModel&&n.set("status",""),t==null?void 0:t.set){var i=this.em.Canvas;[Ke.q.Select,Ke.q.Hover,Ke.q.Spacing].forEach(function(l){return i.removeSpots({type:l})}),i.addSpot(mi(mi({},Xf),{component:t})),t.set("status","selected-parent"),this.targetModel=t}}},r.prototype.onMove=function(t){var e=t,n=this,i=n.em,l=n.onMoveClb,f=n.plh,d=n.customTarget;this.moved=!0;var x=f.style.display;x&&x!=="none"||(f.style.display="block");var b=this.offset(this.el);this.elT=this.wmargin?Math.abs(b.top):b.top,this.elL=this.wmargin?Math.abs(b.left):b.left;var G=t.pageY-this.elT+this.el.scrollTop,nt=t.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&i){var st=i.get("Canvas").getMouseRelativeCanvas(t,{noScroll:1});nt=st.x,G=st.y}this.rX=nt,this.rY=G,this.eventMove=t;var pt=this.getSourceModel(),bt=d?d({sorter:this,event:t}):t.target,Et=this.dimsFromTarget(bt,nt,G),Ot=this.target,Zt=Ot&&this.getTargetModel(Ot);if(this.selectTargetModel(Zt,pt),Zt||(f.style.display="none"),Ot){this.lastDims=Et;var Qt=this.findPosition(Et,nt,G);this.isTextableActive(pt,Zt)?(this.activeTextModel=Zt,f.style.display="none",this.lastPos=Qt,this.updateTextViewCursorPosition(e)):(this.disableTextable(),delete this.activeTextModel,this.lastPos&&this.lastPos.index==Qt.index&&this.lastPos.method==Qt.method||(this.movePlaceholder(this.plh,Et,Qt,this.prevTargetDim),this.$plh||(this.$plh=(0,C.default)(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=Qt)),(0,E.isFunction)(l)&&l({event:t,target:pt,parent:Zt,index:Qt.index+(Qt.method=="after"?1:0)}),i&&i.trigger("sorter:drag",{target:Ot,targetModel:Zt,sourceModel:pt,dims:Et,pos:Qt,x:nt,y:G})}},r.prototype.isTextableActive=function(t,e){var n;return((n=t==null?void 0:t.get)===null||n===void 0?void 0:n.call(t,"textable"))&&(e==null?void 0:e.isInstanceOf("text"))},r.prototype.disableTextable=function(){var t=this.activeTextModel;t==null||t.getView().disableEditing(),this.setContentEditable(t,!1)},r.prototype.isInFlow=function(t,e){if(!t)return!1;e=e||document.body;var n=t;return n.offsetHeight,!!this.styleInFlow(n,e)},r.prototype.styleInFlow=function(t,e){if(!(0,ue.BM)(t)){var n=t.style||{},i=(0,C.default)(t),l=e&&(0,C.default)(e);if(!n.overflow||n.overflow==="visible"){var f=i.css("float");if(!(f&&f!=="none"||l&&l.css("display")=="flex"&&l.css("flex-direction")!=="column")){switch(n.position){case"static":case"relative":case"":break;default:return}switch(t.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(i.css("display")){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}}}},r.prototype.validTarget=function(t,e){var n=this.getTargetModel(t),i=this.getSourceModel(e,{target:n}),l={valid:!0,src:e=i&&i.view&&i.view.el,srcModel:i,trg:t=n&&n.view&&n.view.el,trgModel:n,draggable:!1,droppable:!1,dragInfo:"",dropInfo:""};if(!e||!t)return l.valid=!1,l;var f=i.get("draggable");if((0,E.isFunction)(f)){var d=f(i,n);l.dragInfo=d,l.draggable=d,f=d}else f=f instanceof Array?f.join(", "):f,l.dragInfo=f,f=(0,E.isString)(f)?this.matches(t,f):f,l.draggable=f;var x=n.get("droppable");return(0,E.isFunction)(x)?(d=x(i,n),l.droppable=d,l.dropInfo=d,x=d):(x=(x=x instanceof h.FE?1:x)instanceof Array?x.join(", "):x,l.dropInfo=x,x=(0,E.isString)(x)?this.matches(e,x):x,x=f&&this.isTextableActive(i,n)?1:x,l.droppable=x),x&&f||(l.valid=!1),l},r.prototype.dimsFromTarget=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var i=this.em,l=[];if(!t||(this.matches(t,"".concat(this.itemSel,", ").concat(this.containerSel))||(t=this.closest(t,this.itemSel)),this.draggable instanceof Array&&(t=this.closest(t,this.draggable.join(","))),!t))return l;if(this.prevTarget&&this.prevTarget!=t&&delete this.prevTarget,!this.prevTarget){this.targetP=this.closest(t,this.containerSel);var f=this.validTarget(t);if(i&&i.trigger("sorter:drag:validation",f),!f.valid&&this.targetP)return this.dimsFromTarget(this.targetP,e,n);this.prevTarget=t,this.prevTargetDim=this.getDim(t),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(t)}if(this.prevTarget==t&&(l=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,e,n)||!this.nested&&!this.cacheDims.length){var d=this.targetP;d&&this.validTarget(d).valid&&(l=this.cacheDimsP,this.target=d)}return delete this.lastPos,l},r.prototype.getTargetFromEl=function(t){var e,n=t,i=this.targetPrev,l=this.em,f=this.containerSel,d=this.itemSel;if(this.matches(n,"".concat(d,", ").concat(f))||(n=this.closest(n,d)),this.draggable instanceof Array&&(n=this.closest(n,this.draggable.join(","))),i&&i!=n&&delete this.targetPrev,!this.targetPrev){e=this.closest(n,f);var x=this.validTarget(n);if(l&&l.trigger("sorter:drag:validation",x),!x.valid&&e)return this.getTargetFromEl(e);this.targetPrev=n}return this.nearElBorders(n)&&(e=this.closest(n,f))&&this.validTarget(e).valid&&(n=e),n},r.prototype.nearElBorders=function(t){var e=10,n=t.getBoundingClientRect(),i=t.ownerDocument.body,l=this.getCurrentPos(),f=l.x,d=l.y,x=n.top+i.scrollTop,b=n.left+i.scrollLeft,G=n.width,nt=n.height;if(d<x+e||d>x+nt-e||f<b+e||f>b+G-e)return 1},r.prototype.getCurrentPos=function(){var t=this.eventMove;return{x:(t==null?void 0:t.pageX)||0,y:(t==null?void 0:t.pageY)||0}},r.prototype.getDim=function(t){var e,n,i,l,f=this.em,d=this.canvasRelative,x=f==null?void 0:f.Canvas,b=x?x.getElementOffsets(t):{};if(d&&f){var G=x.getElementPos(t,{noScroll:1});e=G.top,n=G.left,i=G.height,l=G.width}else{var nt=this.offset(t);e=this.relative?t.offsetTop:nt.top-(this.wmargin?-1:1)*this.elT,n=this.relative?t.offsetLeft:nt.left-(this.wmargin?-1:1)*this.elL,i=t.offsetHeight,l=t.offsetWidth}return{top:e,left:n,height:i,width:l,offsets:b}},r.prototype.getChildrenDim=function(t){var e=this,n=[];if(!t)return n;var i=this.getTargetModel(t);if(i&&i.view&&!this.ignoreViewChildren){var l=i.getCurrentView?i.getCurrentView():i.view;t=l.getChildrenContainer()}return(0,E.each)(t.children,function(f,d){var x=f,b=(0,K.getModel)(x,C.default),G=b&&b.index?b.index():d;if((0,ue.BM)(x)||e.matches(x,e.itemSel)){var nt,st=e.getDim(x),pt=e.direction;nt=pt=="v"||pt!="h"&&e.isInFlow(x,t),st.dir=nt,st.el=x,st.indexEl=G,n.push(st)}}),n},r.prototype.nearBorders=function(t,e,n){var i=!1,l=this.borderOffset,f=e||0,d=n||0,x=t.top,b=t.left,G=t.height,nt=t.width;return(x+l>d||d>x+G-l||b+l>f||f>b+nt-l)&&(i=!0),i},r.prototype.findPosition=function(t,e,n){for(var i,l={index:0,indexEl:0,method:"before"},f=0,d=0,x=0,b=0,G=0,nt=0,st=0,pt=t.length;st<pt;st++){var bt=(i=t[st]).top,Et=i.left,Ot=i.height,Zt=i.width;if(nt=bt+Ot,b=Et+Zt/2,G=bt+Ot/2,!(d&&Et>d||x&&G>=x||f&&Et+Zt<f))if(l.index=st,l.indexEl=i.indexEl,i.dir){if(n<G){l.method="before";break}l.method="after"}else n<nt&&(x=nt),e<b?(d=b,l.method="before"):(f=b,l.method="after")}return l},r.prototype.movePlaceholder=function(t,e,n,i){var l=0,f=0,d=0,x="",b="",G="px",nt=5,st=n.method,pt=e[n.index];if(t.classList.remove("vertical"),t.classList.add("horizontal"),pt){var bt=pt.top,Et=pt.left,Ot=pt.height,Zt=pt.width;pt.dir?(x=Zt+G,b="auto",f=st=="before"?bt-l:bt+Ot-l,d=Et):(x="auto",b=Ot-2*l+G,f=bt+l,d=st=="before"?Et-l:Et+Zt-l,t.classList.remove("horizontal"),t.classList.add("vertical"))}else{if(!this.nested)return void(t.style.display="none");if(i){var Qt=i.offsets||{},ve=Qt.paddingTop||nt,ye=Qt.paddingLeft||nt;f=i.top+ve,d=i.left+ye,x=parseInt("".concat(i.width))-2*ye+G,b="auto"}}t.style.top=f+G,t.style.left=d+G,x&&(t.style.width=x),b&&(t.style.height=b)},r.prototype.parents=function(t){return t?[t].concat(this.parents(t.parent())):[]},r.prototype.sort=function(t,e){var n=t.parents.filter(function(l){return e.parents.includes(l)})[0];if(!n)return e.model.index()-t.model.index();var i=t.parents[t.parents.indexOf(n)-1];return e.parents[e.parents.indexOf(n)-1].index()-i.index()},r.prototype.endMove=function(){var t,e,n=this,i=this.sourceEl,l=[],f=this.getDocuments(),d=this.getContainerEl(),x=this.onEndMove,b=this.onEnd,G=this.target,nt=this.lastPos;if((0,ue.S1)(d,"mousemove dragover",this.onMove),(0,ue.S1)(f,"mouseup dragend touchend",this.endMove),(0,ue.S1)(f,"keydown",this.rollback),this.plh.style.display="none",i&&(e=this.getSourceModel(),this.selectOnEnd&&e&&e.set&&(e.set("status",""),e.set("status","selected"))),this.moved&&G){var st=this.toMove,pt=(0,E.isArray)(st)?st:st?[st]:[i],bt=0;pt.length===1?l.push(this.move(G,pt[0],nt)):pt.map(function(Zt){return{model:Zt,parents:n.parents(Zt)}}).sort(this.sort).forEach(function(Zt){var Qt=Zt.model,ve=Qt.index(),ye=Qt.parent().getEl();l.push(n.move(G,Qt,mi(mi({},nt),{indexEl:nt.indexEl-bt,index:nt.index-bt}))),ye===G&&ve<=nt.index&&bt++})}this.plh&&(this.plh.style.display="none");var Et=this.dragHelper;if(Et&&(Et.parentNode.removeChild(Et),delete this.dragHelper),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),(t=this.em)===null||t===void 0||t.Canvas.removeSpots(Xf),delete this.toMove,delete this.eventMove,delete this.dropModel,(0,E.isFunction)(x)){var Ot={target:e,parent:e&&e.parent(),index:e&&e.index()};l.length?l.forEach(function(Zt){return x(Zt,n,Ot)}):x(null,this,mi(mi({},Ot),{cancelled:1}))}(0,E.isFunction)(b)&&b({sorter:this})},r.prototype.move=function(t,e,n){var i,l,f=this.em,d=this.dropContent,x=(0,K.getElement)(e),b=[],G=n.method==="after"?n.indexEl+1:n.indexEl,nt=this.validTarget(t,x),st=(0,C.default)(t).data("collection"),pt=nt.trgModel,bt=nt.srcModel,Et=nt.draggable,Ot=pt instanceof h.FE?1:nt.droppable;if(st&&Ot&&Et){var Zt={at:G,action:"move-component"},Qt=this.isTextableActive(bt,pt);if(d)i=(0,E.isFunction)(d)?d():d,Zt.avoidUpdateStyle=!0,Zt.action="add-component";else{var ve=bt.collection.indexOf(bt),ye=st===bt.collection;(!ye||!(ve===G||ve===G-1)||Qt)&&(i=bt.collection.remove(bt,{temporary:!0}),ye&&G>ve&&(Zt.at=G-1))}i&&(Qt?(delete Zt.at,l=pt.getView().insertComponent(i,Zt)):l=st.add(i,Zt)),delete this.dropContent,delete this.prevTarget}else if(f){var Re=nt.dropInfo||(pt==null?void 0:pt.get("droppable")),Be=nt.dragInfo||(bt==null?void 0:bt.get("draggable"));!st&&b.push("Target collection not found"),!Ot&&Re&&b.push("Target is not droppable, accepts [".concat(Re,"]")),!Et&&Be&&b.push("Component not draggable, acceptable by [".concat(Be,"]")),f.logWarning("Invalid target position",{errors:b,model:bt,context:"sorter",target:pt})}return f==null||f.trigger("sorter:drag:end",{targetCollection:st,modelToDrop:i,warns:b,validResult:nt,dst:t,srcEl:x}),l},r.prototype.rollback=function(t){(0,ue.S1)(this.getDocuments(),"keydown",this.rollback),(t.which||t.keyCode)==27&&(this.moved=!1,this.endMove())},r}(h.G7);const Rh=Nh;var Da=function(){return Da=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Da.apply(this,arguments)},Fh=function(){function s(r){r===void 0&&(r={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=Da({},this.defOpts),this.setOptions(r),(0,E.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return s.prototype.getConfig=function(){return this.opts},s.prototype.setOptions=function(r,t){r===void 0&&(r={}),this.opts=Da(Da({},t?this.defOpts:this.opts),r),this.setup()},s.prototype.setup=function(){var r=this.opts,t=r.prefix||"",e=r.appendTo||document.body,n=this.container;for(n||((n=document.createElement("div")).className="".concat(t,"resizer-c"),e.appendChild(n),this.container=n);n.firstChild;)n.removeChild(n.firstChild);var i={};for(var l in["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(d){return i[d]=r[d]?function(x,b){b===void 0&&(b={});var G=b.prefix||"",nt=document.createElement("i");return nt.className=G+"resizer-h "+G+"resizer-h-"+x,nt.setAttribute("data-"+G+"handler",x),nt}(d,r):null}),i){var f=i[l];f&&n.appendChild(f)}this.handlers=i,this.mousePosFetcher=r.mousePosFetcher,this.updateTarget=r.updateTarget,this.posFetcher=r.posFetcher,this.onStart=r.onStart,this.onMove=r.onMove,this.onEnd=r.onEnd,this.onUpdateContainer=r.onUpdateContainer},s.prototype.toggleFrames=function(r){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,E.each)(t,function(e){return e.style.pointerEvents=r?"none":""})}},s.prototype.isHandler=function(r){var t=this.handlers;for(var e in t)if(t[e]===r)return!0;return!1},s.prototype.getFocusedEl=function(){return this.el},s.prototype.getParentEl=function(){var r;return(r=this.el)===null||r===void 0?void 0:r.parentElement},s.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},s.prototype.getElementPos=function(r,t){t===void 0&&(t={});var e=this.posFetcher;return e?e(r,t):function(n,i){var l=i||window,f=n.getBoundingClientRect();return{left:f.left+l.pageXOffset,top:f.top+l.pageYOffset,width:f.width,height:f.height}}(r)},s.prototype.focus=function(r){r&&r===this.el||(this.el=r,this.updateContainer({forceShow:!0}),(0,ue.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},s.prototype.blur=function(){this.container.style.display="none",this.el&&((0,ue.S1)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},s.prototype.start=function(r){var t=r;if(t.button===0){t.preventDefault(),t.stopPropagation();var e=this.el,n=this.getParentEl(),i=this.opts||{},l=this.mousePosFetcher,f="data-"+i.prefix+"handler",d=this.getElementPos(e,{avoidFrameZoom:!0,avoidFrameOffset:!0}),x=this.getElementPos(n),b=t.target;this.handlerAttr=b.getAttribute(f),this.clickedHandler=b,this.startDim={t:d.top,l:d.left,w:d.width,h:d.height},this.rectDim={t:d.top,l:d.left,w:d.width,h:d.height},this.startPos=l?l(t):{x:t.clientX,y:t.clientY},this.parentDim={t:x.top,l:x.left,w:x.width,h:x.height};var G=this.getDocumentEl();this.docs=G,(0,ue.on)(G,"pointermove",this.move),(0,ue.on)(G,"keydown",this.handleKeyDown),(0,ue.on)(G,"pointerup",this.stop),(0,E.isFunction)(this.onStart)&&this.onStart(t,{docs:G,config:i,el:e,resizer:this}),this.toggleFrames(!0),this.move(t)}},s.prototype.move=function(r){var t=r,e=this.onMove,n=this.mousePosFetcher,i=n?n(t):{x:t.clientX,y:t.clientY};this.currentPos=i,this.delta={x:i.x-this.startPos.x,y:i.y-this.startPos.y},this.keys={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey},this.rectDim=this.calc(this),this.updateRect(!1),e&&e(t)},s.prototype.stop=function(r){var t=this.el,e=this.opts,n=this.docs||this.getDocumentEl();(0,ue.S1)(n,"pointermove",this.move),(0,ue.S1)(n,"keydown",this.handleKeyDown),(0,ue.S1)(n,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,E.isFunction)(this.onEnd)&&this.onEnd(r,{docs:n,config:e,el:t,resizer:this}),delete this.docs},s.prototype.updateRect=function(r){var t=this.el,e=this.opts,n=this.rectDim,i=this.updateTarget,l=this.getSelectedHandler(),f=e.unitHeight,d=e.unitWidth,x=e.keyWidth,b=e.keyHeight;if((0,E.isFunction)(i))i(t,n,{store:r,selectedHandler:l,resizer:this,config:e});else{var G=t.style;G[x]=n.w+d,G[b]=n.h+f,G.top=n.t+f,G.left=n.l+d}this.updateContainer()},s.prototype.updateContainer=function(r){var t;r===void 0&&(r={});var e=this,n=e.opts,i=e.container,l=e.el,f=i.style;!n.avoidContainerUpdate&&l&&r.forceShow&&(f.display="block"),(t=this.onUpdateContainer)===null||t===void 0||t.call(this,{el:i,resizer:this,opts:Da(Da({},n),r)})},s.prototype.getSelectedHandler=function(){var r=this.handlers;if(this.selectedHandler){for(var t in r)if(r[t]===this.selectedHandler)return t}},s.prototype.handleKeyDown=function(r){r.keyCode===27&&(this.rectDim=this.startDim,this.stop(r))},s.prototype.handleMouseDown=function(r){var t=r.target;this.isHandler(t)?(this.selectedHandler=t,this.start(r)):t!==this.el&&(delete this.selectedHandler,this.blur())},s.prototype.calc=function(r){var t,e=this.opts||{},n=e.step,i=this.startDim,l=e.minDim,f=e.maxDim,d=r.delta.x,x=r.delta.y,b=this.parentDim.w,G=this.parentDim.h,nt=this.opts.unitWidth,st=this.opts.unitHeight,pt=nt==="%"?i.w/100*b:i.w,bt=st==="%"?i.h/100*G:i.h,Et={t:i.t,l:i.l,w:pt,h:bt};if(r){var Ot=r.handlerAttr;~Ot.indexOf("r")&&(t=nt==="%"?(0,K.normalizeFloat)((pt+d*n)/b*100,.01):(0,K.normalizeFloat)(pt+d*n,n),t=Math.max(l,t),f&&(t=Math.min(f,t)),Et.w=t),~Ot.indexOf("b")&&(t=st==="%"?(0,K.normalizeFloat)((bt+x*n)/G*100,.01):(0,K.normalizeFloat)(bt+x*n,n),t=Math.max(l,t),f&&(t=Math.min(f,t)),Et.h=t),~Ot.indexOf("l")&&(t=nt==="%"?(0,K.normalizeFloat)((pt-d*n)/b*100,.01):(0,K.normalizeFloat)(pt-d*n,n),t=Math.max(l,t),f&&(t=Math.min(f,t)),Et.w=t),~Ot.indexOf("t")&&(t=st==="%"?(0,K.normalizeFloat)((bt-x*n)/G*100,.01):(0,K.normalizeFloat)(bt-x*n,n),t=Math.max(l,t),f&&(t=Math.min(f,t)),Et.h=t);var Zt=e.ratioDefault?!r.keys.shift:r.keys.shift;if(Ot.indexOf("c")<0&&Zt){var Qt=i.w/i.h;Et.w/Et.h>Qt?Et.h=Math.round(Et.w/Qt):Et.w=Math.round(Et.h*Qt)}for(var ve in~Ot.indexOf("l")&&(Et.l+=i.w-Et.w),~Ot.indexOf("t")&&(Et.t+=i.h-Et.h),Et){var ye=ve;Et[ye]=parseInt("".concat(Et[ye]),10)}return Et}},s}();const Vh=Fh;var Hh=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hf=function(){return hf=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},hf.apply(this,arguments)};const zh=function(s){function r(t){var e=s.call(this,t,"Utils")||this;return e.Sorter=Rh,e.Resizer=Vh,e.Dragger=dr.Z,e.helpers=hf({},K),e}return Hh(r,s),r.prototype.destroy=function(){},r}(k);var po,bo={},Kr={16:!1,18:!1,17:!1,91:!1},Jf="all",Ia={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},Qf={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},gf=function(s){return Qf[s]||s.toUpperCase().charCodeAt(0)},Tl=[];for(po=1;po<20;po++)Qf["f"+po]=111+po;function Tc(s,r){for(var t=s.length;t--;)if(s[t]===r)return t;return-1}function Bh(s,r){if(s.length!=r.length)return!1;for(var t=0;t<s.length;t++)if(s[t]!==r[t])return!1;return!0}var Uh={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function Wh(s){for(po in Kr)Kr[po]=s[Uh[po]]}function $h(s){var r,t=s.keyCode,e=Tc(Tl,t);if(e>=0&&Tl.splice(e,1),t!=93&&t!=224||(t=91),t in Kr)for(r in Kr[t]=!1,Ia)Ia[r]==t&&(Xr[r]=!1)}function Gh(){for(po in Kr)Kr[po]=!1;for(po in Ia)Xr[po]=!1}function Xr(s,r,t){var e,n;e=td(s),t===void 0&&(t=r,r="all");for(var i=0;i<e.length;i++)n=[],(s=e[i].split("+")).length>1&&(n=ed(s),s=[s[s.length-1]]),s=s[0],(s=gf(s))in bo||(bo[s]=[]),bo[s].push({shortcut:e[i],scope:r,method:t,key:e[i],mods:n})}for(po in Ia)Xr[po]=!1;function mf(){return Jf||"all"}function td(s){var r;return(r=(s=s.replace(/\s/g,"")).split(","))[r.length-1]==""&&(r[r.length-2]+=","),r}function ed(s){for(var r=s.slice(0,s.length-1),t=0;t<r.length;t++)r[t]=Ia[r[t]];return r}function vf(s,r,t){s.addEventListener?s.addEventListener(r,t,!1):s.attachEvent&&s.attachEvent("on"+r,function(){t(window.event)})}Xr.setScope=function(s){Jf=s||"all"},Xr.getScope=mf,Xr.deleteScope=function(s){var r,t,e;for(r in bo)for(t=bo[r],e=0;e<t.length;)t[e].scope===s?t.splice(e,1):e++},Xr.filter=function(s){var r=(s.target||s.srcElement).tagName;return!(r=="INPUT"||r=="SELECT"||r=="TEXTAREA")},Xr.isPressed=function(s){return typeof s=="string"&&(s=gf(s)),Tc(Tl,s)!=-1},Xr.getPressedKeyCodes=function(){return Tl.slice(0)},Xr.unbind=function(s,r){var t,e,n,i,l,f=[];for(t=td(s),i=0;i<t.length;i++){if((e=t[i].split("+")).length>1&&(f=ed(e)),s=e[e.length-1],s=gf(s),r===void 0&&(r=mf()),!bo[s])return;for(n=0;n<bo[s].length;n++)(l=bo[s][n]).scope===r&&Bh(l.mods,f)&&(bo[s][n]={})}},Xr.handlers=bo,Xr.init=function(s){vf(s.document,"keydown",function(r){(function(t){var e,n,i,l,f,d;if(e=t.keyCode,Tc(Tl,e)==-1&&Tl.push(e),e!=93&&e!=224||(e=91),e in Kr)for(i in Kr[e]=!0,Ia)Ia[i]==e&&(Xr[i]=!0);else if(Wh(t),Xr.filter.call(this,t)&&e in bo){for(d=mf(),l=0;l<bo[e].length;l++)if((n=bo[e][l]).scope==d||n.scope=="all"){for(i in f=n.mods.length>0,Kr)(!Kr[i]&&Tc(n.mods,+i)>-1||Kr[i]&&Tc(n.mods,+i)==-1)&&(f=!1);(n.mods.length!=0||Kr[16]||Kr[18]||Kr[17]||Kr[91])&&!f||n.method(t,n)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}})(r)}),vf(s.document,"keyup",$h),vf(s,"focus",Gh)};const Ec=Xr,qh={defaults:{"core:undo":{keys:"⌘+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"⌘+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"⌘+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"⌘+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}};var Zh=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nd=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))};(0,K.hasWin)()&&Ec.init(window);var Yh=function(s){function r(t){var e=s.call(this,t,"Keymaps",qh)||this;return e.keymaster=Ec,e.keymaps={},e}return Zh(r,s),r.prototype.onLoad=function(){var t=this.config.defaults;for(var e in t){var n=t[e];this.add(e,n.keys,n.handler,n.opts||{})}},r.prototype.add=function(t,e,n,i){i===void 0&&(i={});var l=this.em,f=l.Commands,d=l.getEditor(),x=l.Canvas,b={id:t,keys:e,handler:n};return this.keymaps[t]&&this.remove(t),this.keymaps[t]=b,Ec(e,function(G,nt){var st={event:G,h:nt},pt=(0,E.isString)(n)?f.get(n):n;if(!l.isEditing()&&!d.Canvas.isInputFocused()||i.force){i.prevent&&x.getCanvasView().preventDefault(G),(0,E.isFunction)(pt)?pt(d,0,st):f.runCommand(pt,st);var bt=[t,nt.shortcut,G];l.trigger.apply(l,nd(["keymap:emit"],bt,!1)),l.trigger.apply(l,nd(["keymap:emit:".concat(t)],bt,!1))}},void 0),l.trigger("keymap:add",b),b},r.prototype.get=function(t){return this.keymaps[t]},r.prototype.getAll=function(){return this.keymaps},r.prototype.remove=function(t){var e=this.em,n=this.get(t);if(n)return delete this.keymaps[t],n.keys.split(", ").forEach(function(i){Ec.unbind(i.trim())}),e==null||e.trigger("keymap:remove",n),n},r.prototype.removeAll=function(){var t=this;return Object.keys(this.keymaps).forEach(function(e){return t.remove(e)}),Ec.handlers={},this},r.prototype.destroy=function(){this.removeAll(),this.keymaps={}},r}(k);const Kh=Yh,Xh={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};var Jh=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const Qh=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Jh(r,s),r.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},r.prototype.open=function(){this.set("open",!0)},r.prototype.close=function(){this.set("open",!1)},r}(R.Z);var tg=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zu=function(){return Zu=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Zu.apply(this,arguments)};const eg=function(s){function r(t){var e=s.call(this,t)||this,n=e.model;return e.listenTo(n,"change:open",e.updateOpen),e.listenTo(n,"change:title",e.updateTitle),e.listenTo(n,"change:content",e.updateContent),e}return tg(r,s),r.prototype.template=function(t){var e=t.pfx,n=t.ppfx,i=t.content,l=t.title;return'<div class="'.concat(e,"dialog ").concat(n,"one-bg ").concat(n,`two-color">
      <div class="`).concat(e,`header">
        <div class="`).concat(e,'title">').concat(l,`</div>
        <div class="`).concat(e,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(e,`content">
        <div id="`).concat(e,'c">').concat(i,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(e,'collector" style="display: none"></div>')},r.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},r.prototype.onClick=function(t){this.config.backdrop&&t.target===this.el&&this.hide()},r.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},r.prototype.getContent=function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},r.prototype.getTitle=function(t){return t===void 0&&(t={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),t.$?this.$title:this.$title.get(0)},r.prototype.updateContent=function(){var t=this.getContent(),e=t.children(),n=this.getCollector(),i=this.model.get("content");e.length&&n.append(e),t.empty().append(i)},r.prototype.updateTitle=function(){var t=this.getTitle({$:!0});t&&t.empty().append(this.model.get("title"))},r.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},r.prototype.hide=function(){this.model.close()},r.prototype.show=function(){this.model.open()},r.prototype.updateAttr=function(t){var e=this,n=e.pfx,i=e.$el,l=e.el,f=[].slice.call(l.attributes).map(function(d){return d.name});i.removeAttr(f.join(" ")),i.attr(Zu(Zu({},t||{}),{class:"".concat(n,"container ").concat(t&&t.class||"").trim()}))},r.prototype.render=function(){var t=this.$el,e=this.model.toJSON();return e.pfx=this.pfx,e.ppfx=this.ppfx,t.html(this.template(e)),this.updateAttr(),this.updateOpen(),this},r}(sn);var ng=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const rg=function(s){function r(t){var e=s.call(this,t,"Modal",Xh)||this;return e.model=new Qh(e),e.model.on("change:open",function(n,i){t.trigger("modal:".concat(i?"open":"close"))}),e.model.on("change",(0,E.debounce)(function(){var n=e._evData(),i=e.config.custom;(0,E.isFunction)(i)&&i(n),t.trigger("modal",n)},0)),e}return ng(r,s),r.prototype._evData=function(){var t=this,e=this.getTitle(),n=this.getContent(),i=this.model.attributes;return{open:i.open,attributes:i.attributes,title:(0,E.isString)(e)?(0,ue.rw)(e):e,content:(0,E.isString)(n)?(0,ue.rw)(n):n.get?n.get(0):n,close:function(){t.close()}}},r.prototype.postRender=function(t){var e=t.model.config.el||t.el,n=this.render();n&&(e==null||e.appendChild(n))},r.prototype.open=function(t){t===void 0&&(t={});var e=t.attributes||{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),this.model.set("attributes",e),this.model.open(),this.modal&&this.modal.updateAttr(e),this},r.prototype.close=function(){return this.model.close(),this},r.prototype.onceClose=function(t){return this.em.once("modal:close",t),this},r.prototype.onceOpen=function(t){return this.em.once("modal:open",t),this},r.prototype.isOpen=function(){return!!this.model.get("open")},r.prototype.setTitle=function(t){return this.model.set("title",t),this},r.prototype.getTitle=function(){return this.model.get("title")},r.prototype.setContent=function(t){return this.model.set("content"," "),this.model.set("content",t),this},r.prototype.getContent=function(){return this.model.get("content")},r.prototype.getContentEl=function(){var t;return(t=this.modal)===null||t===void 0?void 0:t.getContent().get(0)},r.prototype.getModel=function(){return this.model},r.prototype.render=function(){var t;if(!this.config.custom){var e=eg.extend(this.config.extend),n=this.modal&&this.modal.el;return this.modal=new e({el:n,model:this.model,config:this.config}),(t=this.modal)===null||t===void 0?void 0:t.render().el}},r.prototype.destroy=function(){var t;(t=this.modal)===null||t===void 0||t.remove()},r}(k);var rd="sw-visibility",od="export-template",id="open-sm",sd="open-tm",ad="open-layers",ld="open-blocks",yf="fullscreen",bf="preview";const wf={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:rd,className:"fa fa-square-o",command:"core:component-outline",context:rd,attributes:{title:"View components"}},{id:bf,className:"fa fa-eye",command:bf,context:bf,attributes:{title:"Preview"}},{id:yf,className:"fa fa-arrows-alt",command:yf,context:yf,attributes:{title:"Fullscreen"}},{id:od,className:"fa fa-code",command:od,attributes:{title:"View code"}}]},{id:"views",buttons:[{id,className:"fa fa-paint-brush",command:id,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:sd,className:"fa fa-cog",command:sd,togglable:!1,attributes:{title:"Settings"}},{id:ad,className:"fa fa-bars",command:ad,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:ld,className:"fa fa-th-large",command:ld,togglable:!1,attributes:{title:"Open Blocks"}}]}]};var og=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const cd=function(s){function r(t,e){var n=s.call(this,t,e)||this;return n.get("buttons").length&&n.set("buttons",new pd(n.module,n.get("buttons"))),n}return og(r,s),r.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(r.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"active",{get:function(){return this.get("active")},set:function(t){this.set("active",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),r}(R.Z);var ig=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ud=function(s){function r(t,e){return s.call(this,t,e,cd)||this}return ig(r,s),r.prototype.deactivateAllExceptOne=function(t,e){this.forEach(function(n,i){n!==t&&(n.set("active",!1),e&&n.get("buttons").length&&n.get("buttons").deactivateAllExceptOne(t,e))})},r.prototype.deactivateAll=function(t,e){var n=t||"";this.forEach(function(i){i.get("context")==n&&i!==e&&i.set("active",!1,{fromCollection:!0})})},r.prototype.disableAllButtons=function(t){var e=t||"";this.forEach(function(n,i){n.get("context")==e&&n.set("disable",!0)})},r.prototype.disableAllButtonsExceptOne=function(t,e){this.forEach(function(n,i){n!==t&&(n.set("disable",!0),e&&n.get("buttons").length&&n.get("buttons").disableAllButtonsExceptOne(t,e))})},r}(re);const pd=ud;ud.prototype.model=cd;var sg=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const fd=function(s){function r(t,e){var n=s.call(this,t,e)||this,i=n.get("buttons")||[];return n.buttons=new pd(t,i),n}return sg(r,s),r.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(r.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(t){this.set("buttons",t)},enumerable:!1,configurable:!0}),r}(R.Z);var ag=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dd=function(s){function r(t,e){return s.call(this,t,e,fd)||this}return ag(r,s),r}(re);const lg=dd;dd.prototype.model=fd;var cg=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),El=function(){return El=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},El.apply(this,arguments)},ug=function(s){function r(t){var e=s.call(this,t)||this,n=e,i=n.model,l=n.em,f=n.pfx,d=n.ppfx,x=i.className,b=i.attributes,G=b.command,nt=b.listen;if(e.id=f+i.get("id"),e.activeCls="".concat(f,"active ").concat(d,"four-color"),e.disableCls="".concat(d,"disabled"),e.btnsVisCls="".concat(f,"visible"),e.className=f+"btn"+(x?" "+x:""),e.listenTo(i,"change",e.render),e.listenTo(i,"change:active updateActive",e.updateActive),e.listenTo(i,"checkActive",e.checkActive),e.listenTo(i,"change:bntsVis",e.updateBtnsVis),e.listenTo(i,"change:attributes",e.updateAttributes),e.listenTo(i,"change:className",e.updateClassName),e.listenTo(i,"change:disable",e.updateDisable),l&&(0,E.isString)(G)&&nt){var st={fromListen:!0};e.listenTo(l,"run:".concat(G),function(){return i.set("active",!0,st)}),e.listenTo(l,"stop:".concat(G),function(){return i.set("active",!1,st)})}return l&&l.get&&(e.commands=l.get("Commands")),e}return cg(r,s),r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.events=function(){return{click:"clicked"}},r.prototype.updateClassName=function(){var t=this.model,e=this.pfx,n=t.className,i=t.get("attributes").class,l="".concat(i||""," ").concat(e,"btn ").concat(n||"");this.$el.attr("class",l.trim())},r.prototype.updateAttributes=function(){var t=this,e=t.em,n=t.model,i=t.$el,l=n.get("attributes")||{},f=e&&e.t&&e.t("panels.buttons.titles.".concat(n.id));i.attr(l),f&&i.attr({title:f}),this.updateClassName()},r.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},r.prototype.updateActive=function(t,e,n){var i;n===void 0&&(n={});var l=this,f=l.model,d=l.commands,x=l.$el,b=l.activeCls,G=n.fromCollection,nt=n.fromListen,st=f.get("context"),pt=f.get("options"),bt=f.command,Et={};bt&&(d&&(0,E.isString)(bt)?Et=d.get(bt)||{}:(0,E.isFunction)(bt)?Et=d.create({run:bt}):bt!==null&&(0,E.isObject)(bt)&&(Et=d.create(bt)),f.active?(!G&&((i=f.collection)===null||i===void 0||i.deactivateAll(st,f)),f.set("active",!0,{silent:!0}).trigger("checkActive"),!nt&&d.runCommand(Et,El(El({},pt),{sender:f})),Et.noStop&&f.set("active",!1)):(x.removeClass(b),!nt&&d.stopCommand(Et,El(El({},pt),{sender:f,force:1}))))},r.prototype.updateDisable=function(){var t=this.disableCls,e=this.model.disable;this.$el[e?"addClass":"removeClass"](t)},r.prototype.checkActive=function(){var t=this,e=t.model,n=t.$el,i=t.activeCls;e.active?n.addClass(i):n.removeClass(i)},r.prototype.clicked=function(t){var e=this.model;e.get("bntsVis")||e.disable||!e.command||this.toggleActive()},r.prototype.toggleActive=function(){var t=this.model,e=this.em,n=t.active,i=t.togglable;n&&!i||(t.active=!n,n?t.runDefaultCommand&&e.runDefault():t.stopDefaultCommand&&e.stopDefault())},r.prototype.render=function(){var t=this.model,e=t.get("label"),n=this.$el;return!t.get("el")&&n.empty(),this.updateAttributes(),e&&n.append(e),this.checkActive(),this.updateDisable(),this},r}(sn);const pg=ug;var fg=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const dg=function(s){function r(t){var e=s.call(this,{collection:t})||this;return e.listenTo(e.collection,"add",e.addTo),e.listenTo(e.collection,"reset remove",e.render),e.className=e.pfx+"buttons",e}return fg(r,s),r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){var n=e||null,i=t.get("el"),l=new pg({el:i,model:t}).render().el;return n?n.appendChild(l):this.$el.append(l),l},r.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(n){return t.addToCollection(n,e)}),this.$el.append(e),this.$el.attr("class",(0,E.result)(this,"className")),this},r}(sn);var hg=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_f=function(){return _f=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},_f.apply(this,arguments)},gg=function(s){function r(t){var e=s.call(this,{model:t,el:t.get("el")})||this;return e.className=e.pfx+"panel",e.id=e.pfx+t.get("id"),e.listenTo(t,"change:appendContent",e.appendContent),e.listenTo(t,"change:content",e.updateContent),e.listenTo(t,"change:visible",e.toggleVisible),t.view=e,e}return hg(r,s),r.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},r.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},r.prototype.toggleVisible=function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))},r.prototype.attributes=function(){return this.model.get("attributes")},r.prototype.initResize=function(){var t=this.em,e=t==null?void 0:t.Editor,n=this.model.get("resizable");if(e&&n){var i=n===!0?[!0,!0,!0,!0]:n,l=i.length,f=void 0,d=void 0,x=void 0,b=!1;if(l==2)f=(G=i)[0],x=G[0],d=G[1],b=G[1];else if(l==4){var G;f=(G=i)[0],d=G[1],x=G[2],b=G[3]}var nt=new e.Utils.Resizer(_f({tc:f,cr:d,bc:x,cl:b,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:e.getConfig().stylePrefix,onEnd:function(){t&&t.trigger("change:canvasOffset")},posFetcher:function(st,pt){var bt=pt.target,Et=st.style,Ot=nt.getConfig(),Zt=Ot.keyWidth,Qt=Ot.keyHeight,ve=st.getBoundingClientRect(),ye=bt=="container",Re=Et[Zt],Be=Et[Qt];return{left:0,top:0,width:Re&&!ye?parseFloat(Re):ve.width,height:Be&&!ye?parseFloat(Be):ve.height}}},n&&typeof n!="boolean"?n:{}));nt.blur=function(){},nt.focus(this.el)}},r.prototype.render=function(){var t=this.model.buttons,e=this.$el,n=this.ppfx,i="".concat(this.className," ").concat(this.id," ").concat(n,"one-bg ").concat(n,"two-color");if(e.addClass(i),this.toggleVisible(),t.length){var l=new dg(t);e.append(l.render().el)}return e.append(this.model.get("content")),this},r}(sn);const mg=gg;var vg=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const yg=function(s){function r(t){var e=s.call(this,{collection:t})||this;return e.listenTo(t,"add",e.addTo),e.listenTo(t,"reset",e.render),e.listenTo(t,"remove",e.onRemove),e.className=e.pfx+"panels",e}return vg(r,s),r.prototype.onRemove=function(t){var e=t.view;e&&e.remove()},r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){var n=e||null,i=t.get("el"),l=new mg(t),f=l.render().el,d=t.get("appendTo");if(!i)if(d){var x=document.querySelector(d);x==null||x.appendChild(f)}else n?n.appendChild(f):this.$el.append(f);return l.initResize(),f},r.prototype.render=function(){var t=this,e=this.$el,n=document.createDocumentFragment();return e.empty(),this.collection.each(function(i){return t.addToCollection(i,n)}),e.append(n),e.attr("class",this.className),this},r}(sn);var bg=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const wg=function(s){function r(t){var e=s.call(this,t,"Panels",wf)||this;for(var n in e.panels=new lg(e,e.config.defaults),wf)n in e.config||(e.config[n]=wf[n]);return e}return bg(r,s),r.prototype.getPanels=function(){return this.panels},r.prototype.getPanelsEl=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0?void 0:t.el},r.prototype.addPanel=function(t){return this.panels.add(t)},r.prototype.removePanel=function(t){return this.panels.remove(t)},r.prototype.getPanel=function(t){var e=this.panels.where({id:t});return e.length?e[0]:null},r.prototype.addButton=function(t,e){var n=this.getPanel(t);return n?n.buttons.add(e):null},r.prototype.removeButton=function(t,e){var n=this.getPanel(t);return n&&n.buttons.remove(e)},r.prototype.getButton=function(t,e){var n=this.getPanel(t);if(n){var i=n.buttons.where({id:e});return i.length?i[0]:null}return null},r.prototype.render=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0||t.remove(),this.PanelsViewObj=new yg(this.panels),this.PanelsViewObj.render().el},r.prototype.active=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("active")&&e.trigger("updateActive")})})},r.prototype.disableButtons=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("disable")&&e.trigger("change:disable")})})},r.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},r}(k),_g={stylePrefix:"cm-",optsCodeViewer:{}};var xg=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cg=function(s,r){var t={};for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&r.indexOf(e)<0&&(t[e]=s[e]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(e=Object.getOwnPropertySymbols(s);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(s,e[n])&&(t[e[n]]=s[e[n]])}return t};const Sg=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return xg(r,s),r.prototype.build=function(t,e){e===void 0&&(e={});var n=e.em,i=Cg(e,["em"]);if(e.cleanId&&n){var l=n.Css.getAll().toJSON().map(function(f){var d=f.selectors,x=d&&d.length===1&&d.models[0];return x&&x.isId()&&x.get("name")}).filter(Boolean);i.attributes||(i.attributes=function(f,d){var x=d.id;return x&&x[0]==="i"&&!f.get("script")&&!f.get("attributes").id&&l.indexOf(x)<0&&delete d.id,d})}return t.toHTML(i)},r}(h.Hn);var Og=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kg=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Og(r,s),r.prototype.build=function(t){var e=this,n=t.toJSON();return this.beforeEach(n),(0,E.each)(n,function(i,l){var f=n[l];if(f instanceof h.Hn)n[l]=e.build(f);else if(f instanceof h.FE){var d=f;n[l]=[],d.length&&d.forEach(function(x,b){n[l][b]=e.build(x)})}}),n},r.prototype.beforeEach=function(t){delete t.status},r}(h.Hn);const Tg=kg;var Eg=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pg=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Eg(r,s),r.prototype.mapModel=function(t){var e,n=this,i="",l=t.get("script-export")||t.get("script"),f=t.get("type"),d=t.get("components"),x=t.getId();if(l){var b=t.get("attributes");b=(0,E.extend)({},b,{id:x}),t.set("attributes",b,{silent:!0});var G=t.getScriptString(l),nt=t.get("script-props");if(t.get("scriptUpdated")&&!nt)this.mapJs[f+"-"+x]={ids:[x],code:G};else{var st=void 0,pt=this.mapJs[f];if(nt&&(st=t.__getScriptProps()),pt)pt.ids.push(x),st&&(pt.props[x]=st);else{var bt={ids:[x],code:G};st&&(bt.props=((e={})[x]=st,e)),this.mapJs[f]=bt}}}return d.forEach(function(Et){i+=n.mapModel(Et)}),i},r.prototype.build=function(t){this.mapJs={},this.mapModel(t);var e,n,i="";for(var l in this.mapJs){var f=this.mapJs[l];if(f.code)if(f.props){if(e=f.code,n=void 0,(((n=e.toString().match(/\{([\s\S]*)\}/m))===null||n===void 0?void 0:n[1])||"").replace(/^\s*\/\/.*$/gm,"").trim().length===0)continue;i+=`
          var props = `.concat(JSON.stringify(f.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(f.code,`.bind(el))(props[el.id]);
          }`)}else{var d="#"+f.ids.join(", #");i+=`
          var items = document.querySelectorAll('`.concat(d,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(f.code,`
}.bind(items[i]))();
          }`)}}return i},r}(h.Hn);const Ag=Pg;var Pc,jg=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xf=function(){return xf=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},xf.apply(this,arguments)};(0,K.hasWin)()&&(Pc=Lt(631),Lt(531),Lt(629),Lt(210));var hd=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return jg(r,s),r.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},r.prototype.init=function(t){return(0,E.bindAll)(this,"onChange"),this.editor=Pc.fromTextArea(t,xf({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},r.prototype.onChange=function(){this.trigger("update",this)},r.prototype.getEditor=function(){return this.editor},r.prototype.getElement=function(){return this.element},r.prototype.setElement=function(t){return this.element=t,this},r.prototype.refresh=function(){return this.getEditor().refresh(),this},r.prototype.focus=function(){return this.getEditor().focus(),this},r.prototype.getContent=function(){var t=this.getEditor();return t&&t.getValue()},r.prototype.setContent=function(t,e){var n=this;e===void 0&&(e={});var i=this.editor;if(i){i.setValue(t);var l=this.get("autoFormat");i.autoFormatRange&&(l===!0||Array.isArray(l)&&l.includes(this.get("codeName")))&&(Pc.commands.selectAll(i),i.autoFormatRange(i.getCursor(!0),i.getCursor(!1)),Pc.commands.goDocStart(i)),!e.noRefresh&&setTimeout(function(){return n.refresh()})}},r}(h.Hn);const Mg=hd;hd.prototype.CodeMirror=Pc;var Lg=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dg=function(s,r){return Object.defineProperty?Object.defineProperty(s,"raw",{value:r}):s.raw=r,s};const Ig=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Lg(r,s),r.prototype.template=function(t){var e=t.pfx,n=t.codeName,i=t.label;return Z(gd||(gd=Dg([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),e,e,n,e,i,e)},r.prototype.initialize=function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},r.prototype.render=function(){var t,e,n=this,i=n.model,l=n.pfx,f=n.$el,d=i.toJSON(),x=i.get("input")||((e=(t=i).getElement)===null||e===void 0?void 0:e.call(t));return d.pfx=l,f.html(this.template(d)),f.attr("class","".concat(l,"editor-c")),f.find("#".concat(l,"code")).append(x),this},r}(h.G7);var gd,Ng=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yu=function(){return Yu=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Yu.apply(this,arguments)},Rg="CodeMirror",Fg=function(s){function r(t){var e=s.call(this,t,"CodeManager",_g)||this;e.EditorView=Ig;var n=e.config,i=n.pStylePrefix;return i&&(n.stylePrefix=i+n.stylePrefix),e.generators={},e.viewers={},e.defGenerators={html:new Sg,css:new ga,json:new Tg,js:new Ag},e.defViewers={CodeMirror:new Mg},e.loadDefaultGenerators().loadDefaultViewers(),e}return Ng(r,s),r.prototype.addGenerator=function(t,e){return this.generators[t]=e,this},r.prototype.getGenerator=function(t){return this.generators[t]},r.prototype.getGenerators=function(){return this.generators},r.prototype.addViewer=function(t,e){return this.viewers[t]=e,this},r.prototype.getViewer=function(t){return this.viewers[t]},r.prototype.getViewers=function(){return this.viewers},r.prototype.createViewer=function(t){t===void 0&&(t={});var e=(0,E.isUndefined)(t.type)?Rg:t.type,n=this.getViewer(e)&&this.getViewer(e).clone(),i=document.createElement("div"),l=document.createElement("textarea");return i.appendChild(l),n.set(Yu(Yu({},this.config.optsCodeViewer),t)),n.init(l),n.setElement(i),n},r.prototype.updateViewer=function(t,e){t.setContent(e)},r.prototype.getCode=function(t,e,n){n===void 0&&(n={}),n.em=this.em;var i=this.getGenerator(e);return i?i.build(t,n):""},r.prototype.loadDefaultGenerators=function(){for(var t in this.defGenerators)this.addGenerator(t,this.defGenerators[t]);return this},r.prototype.loadDefaultViewers=function(){for(var t in this.defViewers)this.addViewer(t,this.defViewers[t]);return this},r.prototype.destroy=function(){},r}(k);const Vg=Fg;var Hg=Lt(410),zg=Lt.n(Hg);const Bg={maximumStackLength:500,trackSelection:!0};var Ug=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yi=function(){return Yi=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Yi.apply(this,arguments)},Wg=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},Ku=function(s){return s.avoidStore||s.noUndo},md=function(s){return Object.keys(s.changedAttributes())},$g=function(s){function r(t){var e=s.call(this,t,"UndoManager",Bg)||this;e.config._disable&&(e.config.maximumStackLength=0);var n=!0;return e.um=new(zg())(Yi({track:!0,register:[]},e.config)),e.um.changeUndoType("change",{condition:function(i){var l=i.get("_undo");if(l){var f=i.get("_undoexc");if((0,E.isArray)(f)&&md(i).some(function(d){return f.indexOf(d)>=0}))return!1;if((0,E.isBoolean)(l)||(0,E.isArray)(l)&&md(i).some(function(d){return l.indexOf(d)>=0}))return!0}return!1},on:function(i,l,f){var d=this;!this.beforeCache&&(this.beforeCache=i.previousAttributes());var x=f||l||{};if(x.noUndo&&setTimeout(function(){d.beforeCache=null}),!Ku(x)){var b=i.toJSON({fromUndo:n}),G={object:i,before:this.beforeCache,after:b};if(this.beforeCache=null,!(0,E.isEmpty)(b))return G}}}),e.um.changeUndoType("add",{on:function(i,l,f){if(f===void 0&&(f={}),!Ku(f)&&e.isRegistered(l))return{object:l,before:void 0,after:i,options:Yi(Yi({},f),{fromUndo:n})}}}),e.um.changeUndoType("remove",{on:function(i,l,f){if(f===void 0&&(f={}),!Ku(f)&&e.isRegistered(l))return{object:l,before:i,after:void 0,options:Yi(Yi({},f),{fromUndo:n})}}}),e.um.changeUndoType("reset",{undo:function(i,l){i.reset(l,{fromUndo:n})},redo:function(i,l,f){i.reset(f,{fromUndo:n})},on:function(i,l){if(l===void 0&&(l={}),!Ku(l)&&e.isRegistered(i))return{object:i,before:l.previousModels,after:Wg([],i.models,!0),options:Yi(Yi({},l),{fromUndo:n})}}}),e.um.on("undo redo",function(){t.trigger("change:canvasOffset"),t.getSelectedAll().map(function(i){return i.trigger("rerender:layer")})}),["undo","redo"].forEach(function(i){return e.um.on(i,function(){return t.trigger(i)})}),e}return Ug(r,s),r.prototype.postLoad=function(){var t=this.config,e=this.em;t.trackSelection&&e&&this.add(e.get("selected"))},r.prototype.add=function(t){return this.um.register(t),this},r.prototype.remove=function(t){return this.um.unregister(t),this},r.prototype.removeAll=function(){return this.um.unregisterAll(),this},r.prototype.start=function(){return this.um.startTracking(),this},r.prototype.stop=function(){return this.um.stopTracking(),this},r.prototype.undo=function(t){t===void 0&&(t=!0);var e=this.em,n=this.um;return!e.isEditing()&&n.undo(t),this},r.prototype.undoAll=function(){return this.um.undoAll(),this},r.prototype.redo=function(t){t===void 0&&(t=!0);var e=this.em,n=this.um;return!e.isEditing()&&n.redo(t),this},r.prototype.redoAll=function(){return this.um.redoAll(),this},r.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},r.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},r.prototype.isRegistered=function(t){return!!this.getInstance().objectRegistry.isRegistered(t)},r.prototype.getStack=function(){return this.um.stack},r.prototype.getStackGroup=function(){var t=[],e=[];return this.getStack().forEach(function(n){var i=n.get("magicFusionIndex");e.indexOf(i)<0&&(e.push(i),t.push(n))}),t},r.prototype.skip=function(t){this.stop(),t(),this.start()},r.prototype.getGroupedStack=function(){var t={},e=this.getStack();return e.forEach(function(n,i){var l=n.get("magicFusionIndex"),f=function(d,x){var b=d.attributes,G=b.type,nt=b.after,st=b.before,pt=b.object,bt=b.options;return{index:x,type:G,after:nt,before:st,object:pt,options:bt===void 0?{}:bt}}(n,i);t[l]?t[l].push(f):t[l]=[f]}),Object.keys(t).map(function(n){var i=t[n];return{index:i[i.length-1].index,actions:i,labels:(0,E.unique)(i.reduce(function(l,f){var d,x=(d=f.options)===null||d===void 0?void 0:d.action;return x&&l.push(x),l},[]))}})},r.prototype.goToGroup=function(t){var e=this;if(t){var n=this.getPointer(),i=t.index-n;(0,E.times)(Math.abs(i),function(){e[i<0?"undo":"redo"](!1)})}},r.prototype.getPointer=function(){return this.getStack().pointer},r.prototype.clear=function(){return this.um.clear(),this},r.prototype.getInstance=function(){return this.um},r.prototype.destroy=function(){this.clear().removeAll()},r}(k);const Gg=$g,qg={stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1};var Xu,Pl=function(){return Pl=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Pl.apply(this,arguments)};(function(s){s[s.ACTIVE=1]="ACTIVE",s[s.INACTIVE=0]="INACTIVE",s[s.DISABLED=-1]="DISABLED"})(Xu||(Xu={}));var Cf="_rte",vd=1,Sf=0,yd=-1,Ju=function(s,r){r===void 0&&(r="A");var t=s.selection()||{},e=t.anchorNode,n=t.focusNode,i=e==null?void 0:e.parentNode,l=n==null?void 0:n.parentNode;return(i==null?void 0:i.nodeName)==r||(l==null?void 0:l.nodeName)==r},Qu="data-selectme",Ac={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(s){return s.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(s){return s.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(s){return s.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(s){return s.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(s){return s&&s.selection()&&Ju(s)?vd:Sf},result:function(s){Ju(s)?s.exec("unlink"):s.insertHTML('<a href="" '.concat(Qu,">").concat(s.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(s){return s!=null&&s.selection()&&Ju(s,"SPAN")?yd:Sf},result:function(s){!Ju(s,"SPAN")&&s.insertHTML("<span ".concat(Qu,">").concat(s.selection(),"</span>"),{select:!0})}}},Zg=function(){function s(r,t,e){var n=this;if(e===void 0&&(e={}),this.em=r,this.settings=e,t[Cf])return t[Cf];t[Cf]=this,this.setEl(t),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var i=(e.actions||[]).map(function(b){var G=b;return(0,E.isString)(b)?G=Pl({},Ac[b]):Ac[b.name]&&(G=Pl(Pl({},Ac[b.name]),b)),G}),l=i.length?i:Object.keys(Ac).map(function(b){return Ac[b]});e.classes=Pl({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},e.classes);var f=e.classes,d=e.actionbar;if(this.actionbar=d,this.classes=f,this.actions=l,!d){if(!this.isCustom(e.module)){var x=e.actionbarContainer;(d=document.createElement("div")).className=f.actionbar,x==null||x.appendChild(d),this.actionbar=d}l.forEach(function(b){return n.addAction(b)})}return e.styleWithCSS&&this.exec("styleWithCSS"),this}return s.prototype.isCustom=function(r){var t=r||this.em.RichTextEditor;return!(!(t!=null&&t.config.custom)&&!(t!=null&&t.customRte))},s.prototype.destroy=function(){},s.prototype.setEl=function(r){this.el=r,this.doc=r.ownerDocument},s.prototype.updateActiveActions=function(){var r=this,t=this.getActions();t.forEach(function(e){var n=e.update,i=e.btn,l=r.classes,f=l.active,d=l.inactive,x=l.disabled,b=e.state,G=e.name,nt=r.doc,st=Xu.INACTIVE;if(i&&(i.className=i.className.replace(f,"").trim(),i.className=i.className.replace(d,"").trim(),i.className=i.className.replace(x,"").trim()),b){var pt=b(r,nt);if(st=pt,i)switch(pt){case vd:i.className+=" ".concat(f);break;case Sf:i.className+=" ".concat(d);break;case yd:i.className+=" ".concat(x)}}else nt.queryCommandSupported(G)&&nt.queryCommandState(G)&&(i&&(i.className+=" ".concat(f)),st=Xu.ACTIVE);e.currentState=st,n==null||n(r,e)}),t.length&&this.em.RichTextEditor.__dbdTrgCustom()},s.prototype.enable=function(r){return this.enabled?this:this.__toggleEffects(!0,r)},s.prototype.disable=function(){return this.__toggleEffects(!1)},s.prototype.__toggleEffects=function(r,t){r===void 0&&(r=!1),t===void 0&&(t={});var e=r?ue.on:ue.S1,n=this.el,i=this.doc,l=this.actionbarEl();if(l&&(l.style.display=r?"":"none"),n.contentEditable="".concat(!!r),e(n,"mouseup keyup",this.updateActiveActions),e(i,"keydown",this.__onKeydown),e(i,"paste",this.__onPaste),this.enabled=r,r){var f=t.event;if(this.syncActions(),this.updateActiveActions(),f){var d=null;if(i.caretRangeFromPoint){var x=(0,ue.VB)(f);d=i.caretRangeFromPoint(x.clientX,x.clientY)}else f.rangeParent&&(d=i.createRange()).setStart(f.rangeParent,f.rangeOffset);var b=i.getSelection();b==null||b.removeAllRanges(),d&&(b==null||b.addRange(d))}n.focus()}return this},s.prototype.__onKeydown=function(r){var t=r,e=this.doc;t.key!=="Enter"||["insertOrderedList","insertUnorderedList"].some(function(n){return e.queryCommandState(n)})||(e.execCommand("insertLineBreak"),t.preventDefault())},s.prototype.__onPaste=function(r){var t=r.clipboardData||window.clipboardData,e=t.getData("text"),n=t.getData("text/html");if(e&&!n){r.preventDefault();var i=e.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,i)}},s.prototype.syncActions=function(){var r=this;this.getActions().forEach(function(t){if(r.actionbar&&(!t.state||t.state&&t.state(r,r.doc)>=0)){var e=t.event||"click",n=t.btn;n&&(n["on".concat(e)]=function(){t.result(r,t),r.updateActiveActions()})}})},s.prototype.addAction=function(r,t){t===void 0&&(t={});var e=t.sync,n=this.actionbarEl();if(n){var i=r.icon,l=r.attributes,f=l===void 0?{}:l,d=document.createElement("span");for(var x in d.className=this.classes.button,r.btn=d,f)d.setAttribute(x,f[x]);typeof i=="string"?d.innerHTML=i:d.appendChild(i),n.appendChild(d)}e&&(this.actions.push(r),this.syncActions())},s.prototype.getActions=function(){return this.actions},s.prototype.selection=function(){return this.doc.getSelection()},s.prototype.exec=function(r,t){this.doc.execCommand(r,!1,t)},s.prototype.actionbarEl=function(){return this.actionbar},s.prototype.insertHTML=function(r,t){var e=(t===void 0?{}:t).select,n=this,i=n.em,l=n.doc,f=n.el,d=l.getSelection();if(d&&d.rangeCount){var x=(0,K.getModel)(f),b=l.createElement("div"),G=d.getRangeAt(0);G.deleteContents(),(0,E.isString)(r)?b.innerHTML=r:r&&b.appendChild(r),Array.prototype.slice.call(b.childNodes).forEach(function(nt){G.insertNode(nt)}),d.removeAllRanges(),d.addRange(G),f.focus(),e&&x&&(x.once("rte:disable",function(){var nt=x.find("[".concat(Qu,"]"))[0];nt&&(i.setSelected(nt),nt.removeAttributes(Qu))}),x.trigger("disable"))}},s}();const Yg=Zg;var Kg=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bd=function(s,r,t,e){return new(t||(t=Promise))(function(n,i){function l(x){try{d(e.next(x))}catch(b){i(b)}}function f(x){try{d(e.throw(x))}catch(b){i(b)}}function d(x){var b;x.done?n(x.value):(b=x.value,b instanceof t?b:new t(function(G){G(b)})).then(l,f)}d((e=e.apply(s,r||[])).next())})},wd=function(s,r){var t,e,n,i,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function f(d){return function(x){return function(b){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,b[0]&&(l=0)),l;)try{if(t=1,e&&(n=2&b[0]?e.return:b[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,b[1])).done)return n;switch(e=0,n&&(b=[2&b[0],n.value]),b[0]){case 0:case 1:n=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,e=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(n=l.trys,!((n=n.length>0&&n[n.length-1])||b[0]!==6&&b[0]!==2)){l=0;continue}if(b[0]===3&&(!n||b[1]>n[0]&&b[1]<n[3])){l.label=b[1];break}if(b[0]===6&&l.label<n[1]){l.label=n[1],n=b;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(b);break}n[2]&&l.ops.pop(),l.trys.pop();continue}b=r.call(s,l)}catch(G){b=[6,G],e=0}finally{t=n=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([d,x])}}},Xg=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},Of="change:canvasOffset frame:scroll component:update",Jg={enable:"rte:enable",disable:"rte:disable",custom:"rte:custom"},Qg=function(s){function r(t){var e=s.call(this,t,"RichTextEditor",qg)||this;e.events=Jg;var n=e.config,i=n.pStylePrefix;i&&(n.stylePrefix=i+n.stylePrefix),e.pfx=n.stylePrefix,e.actions=n.actions||[];var l=new h.Hn;return e.model=l,l.on("change:currentView",e.__trgCustom,e),e.__dbdTrgCustom=(0,E.debounce)(function(){return e.__trgCustom()},0),e}return Kg(r,s),r.prototype.onLoad=function(){if((0,K.hasWin)()){var t=this.config,e=t.pStylePrefix,n=t.custom,i=(0,ue.ut)("div",{class:(0,ue.cx)("".concat(e,"rte-toolbar"),!n&&"".concat(e,"one-bg ").concat(e,"rte-toolbar-ui"))});this.toolbar=i,this.initRte((0,ue.ut)("div")),(0,ue.on)(i,"mousedown",function(l){return l.stopPropagation()})}},r.prototype.__trgCustom=function(){var t=this,e=t.model,n=t.em,i=t.events;n.trigger(i.custom,{enabled:!!e.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},r.prototype.destroy=function(){var t,e,n;(t=this.globalRte)===null||t===void 0||t.destroy(),(n=(e=this.customRte)===null||e===void 0?void 0:e.destroy)===null||n===void 0||n.call(e),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,ue.L_)(this.toolbar)},r.prototype.postRender=function(t){var e=t.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),e.getToolsEl().appendChild(this.toolbar)},r.prototype.initRte=function(t){var e=this.globalRte,n=this,i=n.em,l=n.pfx,f=n.actionbar,d=n.config,x=this.actions||Xg([],d.actions,!0),b={actionbar:"".concat(l,"actionbar"),button:"".concat(l,"action"),active:"".concat(l,"active"),inactive:"".concat(l,"inactive"),disabled:"".concat(l,"disabled")};return e?(e.em=i,e.setEl(t)):(e=new Yg(i,t,{classes:b,actions:x,actionbar:f,actionbarContainer:this.toolbar,module:this}),this.globalRte=e),e.actionbar&&(this.actionbar=e.actionbar),e.actions&&(this.actions=e.actions),e},r.prototype.add=function(t,e){var n;e===void 0&&(e={}),e.name=t,(n=this.globalRte)===null||n===void 0||n.addAction(e,{sync:!0})},r.prototype.get=function(t){var e,n;return(e=this.globalRte)===null||e===void 0||e.getActions().forEach(function(i){i.name==t&&(n=i)}),n},r.prototype.getAll=function(){var t;return((t=this.globalRte)===null||t===void 0?void 0:t.getActions())||[]},r.prototype.remove=function(t){var e,n=this.getAll(),i=this.get(t);if(i){var l=i.btn,f=n.indexOf(i);(e=l==null?void 0:l.parentNode)===null||e===void 0||e.removeChild(l),n.splice(f,1)}return i},r.prototype.run=function(t){var e=this.globalRte,n=(0,E.isString)(t)?this.get(t):t;e&&n&&(n.result(e,n),e.updateActiveActions())},r.prototype.getToolbarEl=function(){return this.toolbar},r.prototype.updatePosition=function(){var t=this.em,e=this.toolbar,n="px",i=t.Canvas,l=e.style,f=i.getTargetToElementFixed(this.lastEl,e,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(d){var x=f[d];(0,K.isDef)(x)&&(l[d]=(0,E.isString)(x)?x:(x||0)+n)})},r.prototype.enable=function(t,e,n){return n===void 0&&(n={}),bd(this,void 0,void 0,function(){var i,l,f,d,x;return wd(this,function(b){switch(b.label){case 0:return this.lastEl=t.el,l=(i=this).customRte,f=i.em,d=t.getChildrenContainer(),this.toolbar.style.display="",[4,l?l.enable(d,e):this.initRte(d).enable(n)];case 1:return x=b.sent(),f&&(setTimeout(this.updatePosition.bind(this),0),f.off(Of,this.updatePosition,this),f.on(Of,this.updatePosition,this),f.trigger("rte:enable",t,x)),this.model.set({currentView:t}),[2,x]}})})},r.prototype.getContent=function(t,e){return bd(this,void 0,void 0,function(){var n;return wd(this,function(i){switch(i.label){case 0:return(n=this.customRte)&&e&&(0,E.isFunction)(n.getContent)?[4,n.getContent(t.el,e)]:[3,2];case 1:return[2,i.sent()];case 2:return[2,t.getChildrenContainer().innerHTML]}})})},r.prototype.hideToolbar=function(){var t=this.toolbar.style,e="-1000px";t.top=e,t.left=e,t.display="none"},r.prototype.disable=function(t,e){var n=this.em,i=this.customRte,l=t.getChildrenContainer();i?i.disable(l,e):e&&e.disable(),this.hideToolbar(),n&&(n.off(Of,this.updatePosition,this),n.trigger("rte:disable",t,e)),this.model.unset("currentView")},r}(k);const tm=Qg;var kf=Lt(790);const em={stylePrefix:"com-",defaults:{},strict:!0};var nm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tp=function(){return tp=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},tp.apply(this,arguments)},_d=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},xd=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],rm=function(s){function r(t){var e=s.call(this,t,"Commands",em)||this;e.CommandAbstract=kf.default,e.defaultCommands={},e.commands={},e.active={};var n=e.config,i=n.pStylePrefix,l=e.defaultCommands;for(var f in i&&(n.stylePrefix=i+n.stylePrefix),Object.keys(n.defaults).forEach(function(d){var x=n.defaults[d];x.id&&e.add(x.id,x)}),l["tlb-delete"]={run:function(d){return d.runCommand("core:component-delete")}},l["tlb-clone"]={run:function(d){d.runCommand("core:copy"),d.runCommand("core:paste",{action:"clone-component"})}},l["tlb-move"]={run:function(d,x,b){b===void 0&&(b={});var G=d.getModel(),nt=b&&b.event,st=b.target,pt=st||d.getSelected(),bt=st?[st]:_d([],d.getSelectedAll(),!0),Et=nt&&nt.type=="dragstart",Ot={preserveSelected:1};if(!pt||!pt.get("draggable"))return G.logWarning("The element is not draggable");var Zt=pt.get("dmode")||G.get("dmode"),Qt=function(){return G.stopDefault(Ot)},ve=(0,E.includes)(["absolute","translate"],Zt);bt.forEach(function(mn){return mn.trigger("disable")}),Et?setTimeout(Qt,0):Qt();var ye=function(mn){G.trigger("".concat(Vo,":start"),mn)},Re=function(mn){G.trigger(Vo,mn)},Be=function(mn,zn,_r){bt.forEach(function(Ar){return Ar.set("status","selected")}),d.select(bt),pt.emitUpdate(),G.trigger("".concat(Vo,":end"),_r),setTimeout(function(){return G.runDefault(Ot)}),(ve||_r.cancelled)&&G.set("_cmpDrag",1)};if(ve)d.runCommand("core:component-drag",{guidesInfo:1,mode:Zt,target:pt,onStart:ye,onDrag:Re,onEnd:Be,event:nt});else{Et&&nt.dataTransfer.setDragImage(pt.view.el,0,0);var en=d.Commands.get("move-comp");en.onStart=ye,en.onDrag=Re,en.onEndMoveFromModel=Be,en.initSorterFromModels(bt)}bt.forEach(function(mn){return mn.set("status","freezed-selected")})}},l["core:undo"]=function(d){return d.UndoManager.undo()},l["core:redo"]=function(d){return d.UndoManager.redo()},xd.forEach(function(d){var x=d[2],b=Lt(828)("./".concat(d[1])).default,G="core:".concat(d[0]);l[G]=b,x&&(l[x]=b,["run","stop"].forEach(function(nt){t.on("".concat(nt,":").concat(x),function(){for(var st=[],pt=0;pt<arguments.length;pt++)st[pt]=arguments[pt];return t.trigger.apply(t,_d(["".concat(nt,":").concat(G)],st,!1))})}))}),n.model=t.Canvas,l)e.add(f,l[f]);return e}return nm(r,s),r.prototype.add=function(t,e){var n=(0,E.isFunction)(e)?{run:e}:e;return n.stop||(n.noStop=!0),delete n.initialize,n.id=t,this.commands[t]=kf.default.extend(n),this},r.prototype.get=function(t){var e=this.commands[t];return(0,E.isFunction)(e)?(e=new e(this.config),this.commands[t]=e):e||this.em.logWarning("'".concat(t,"' command not found")),e},r.prototype.extend=function(t,e){e===void 0&&(e={});var n=this.get(t);if(n){var i=tp(tp({},n.constructor.prototype),e);this.add(t,i);var l=xd.filter(function(f){return"core:".concat(f[0])===t&&f[2]})[0];l&&this.add(l[2],i)}return this},r.prototype.has=function(t){return!!this.commands[t]},r.prototype.getAll=function(){return this.commands},r.prototype.run=function(t,e){return e===void 0&&(e={}),this.runCommand(this.get(t),e)},r.prototype.stop=function(t,e){return e===void 0&&(e={}),this.stopCommand(this.get(t),e)},r.prototype.isActive=function(t){return this.getActive().hasOwnProperty(t)},r.prototype.getActive=function(){return this.active},r.prototype.runCommand=function(t,e){var n;if(e===void 0&&(e={}),t&&t.run){var i=this.em,l=this.config,f=t.id,d=i.Editor;this.isActive(f)&&!e.force&&l.strict||(n=d&&t.callRun(d,e),f&&t.stop&&!t.noStop&&!e.abort&&(this.active[f]=n))}return n},r.prototype.stopCommand=function(t,e){var n;if(e===void 0&&(e={}),t&&t.run){var i=this.em,l=this.config,f=t.id,d=i.Editor;(this.isActive(f)||e.force||!l.strict)&&(f&&delete this.active[f],n=t.callStop(d,e))}return n},r.prototype.create=function(t){return t.stop||(t.noStop=!0),new(kf.default.extend(t))(this.config)},r.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},r}(k);const om=rm,im={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var sm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jr=function(){return Jr=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Jr.apply(this,arguments)},am=function(s,r){var t={};for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&r.indexOf(e)<0&&(t[e]=s[e]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(e=Object.getOwnPropertySymbols(s);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(s,e[n])&&(t[e[n]]=s[e[n]])}return t},Cd=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},Tf=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return sm(r,s),r.getDefaults=function(){return(0,E.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.em=e.em;var n=this.getId()||"",i=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(i||n).replace(/ /g,"-"));var l=this.get("property");!this.get("id")&&this.set("id",l),!i&&this.set("name",(0,K.capitalize)(l).replace(/-/g," ")),this.on("change",this.__upTargets),r.callInit(this,t,e)},r.prototype.__getParentProp=function(){var t,e;return(e=(t=this.collection)===null||t===void 0?void 0:t.opts)===null||e===void 0?void 0:e.parentProp},r.prototype.__upTargets=function(t,e){var n,i=this;e===void 0&&(e={});var l=this.em.Styles,f=this.getName(),d=e.__clear,x=d?"":this.__getFullValue(e),b=this.__getParentProp(),G=this.changedAttributes(),nt=(0,E.keys)(G).reduce(function(Zt,Qt){return Zt[Qt]=i.previous(Qt),Zt},{}),st=Cd(Cd([],(0,E.keys)(this.__getClearProps()),!0),["__p"],!1),pt=(0,E.keys)(G),bt=!e.__up&&!b&&(d||st.some(function(Zt){return pt.indexOf(Zt)>=0})),Et=this.get("onChange"),Ot={property:this,from:nt,to:G,value:x,opts:e};l.__trgEv(l.events.propertyUpdate,Ot),Et&&Et(Ot),bt&&this.__upTargetsStyle(((n={})[f]=x,n),e)},r.prototype.__upTargetsStyle=function(t,e){var n,i=(n=this.em)===null||n===void 0?void 0:n.get("StyleManager");i==null||i.addStyleTargets(Jr(Jr({},t),{__p:!!e.avoidStore}),e)},r.prototype._up=function(t,e){e===void 0&&(e={}),e.noTarget&&(e.__up=!0);var n=e.partial,i=am(e,["partial"]);return t.__p=!(!i.avoidStore&&!n),this.set(t,Jr(Jr({},i),{avoidStore:t.__p}))},r.prototype.up=function(t,e){e===void 0&&(e={}),this.set(t,Jr(Jr({},e),{__up:!0}))},r.prototype.init=function(){},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("property")},r.prototype.getLabel=function(t){var e;t===void 0&&(t={});var n=t.locale,i=n===void 0||n,l=this.getId(),f=this.get("name")||this.get("label");return i&&((e=this.em)===null||e===void 0?void 0:e.t("styleManager.properties.".concat(l)))||f},r.prototype.getValue=function(t){t===void 0&&(t={});var e=t.noDefault,n=this.get("value");return this.hasValue()||e?n:this.getDefaultValue()},r.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent&&this.getParentTarget(),n=this.get("value");return!(0,E.isUndefined)(n)&&n!==""&&!e},r.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},r.prototype.getStyle=function(t){var e;t===void 0&&(t={});var n=this.getName();return(e={})[t.camelCase?(0,K.camelCase)(n):n]=this.__getFullValue(t),e},r.prototype.getDefaultValue=function(){var t=this.get("default");return"".concat((0,E.isUndefined)(t)?this.get("defaults"):t)},r.prototype.upValue=function(t,e){e===void 0&&(e={});var n=t===null||t===""?this.__getClearProps():this.__parseValue(t,e);return this._up(n,e)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.clear=function(t){return t===void 0&&(t={}),this._up(this.__getClearProps(),Jr(Jr({},t),{__clear:!0})),this},r.prototype.canClear=function(){var t=this.getParent();return t?t.__canClearProp(this):this.hasValue({noParent:!0})},r.prototype.getParent=function(){return this.__getParentProp()},r.prototype.isFull=function(){return!!this.get("full")},r.prototype.__parseValue=function(t,e){return this.parseValue(t,e)},r.prototype.__getClearProps=function(){return{value:""}},r.prototype.setValue=function(t,e,n){e===void 0&&(e=!0),n===void 0&&(n={});var i=this.parseValue(t),l=!e;!l&&this.set({value:void 0},{avoidStore:l,silent:!0}),this.set(i,Jr({avoidStore:l},n))},r.prototype.setValueFromInput=function(t,e,n){n===void 0&&(n={}),this.setValue(t,e,Jr(Jr({},n),{fromInput:1}))},r.prototype.parseValue=function(t,e){e===void 0&&(e={});var n={value:t},i="!important";if((0,E.isString)(t)&&t.indexOf(i)!==-1&&(n.value=t.replace(i,"").trim(),n.important=!0),!this.get("functionName")&&!e.complete)return n;var l=[],f="".concat(n.value),d=f.indexOf("(")+1,x=f.lastIndexOf(")"),b=f.substring(0,d-1);if(b&&(n.functionName=b),l.push(d),x>=0&&l.push(x),n.value=String.prototype.substring.apply(f,l),e.numeric){var G=parseFloat(n.value);n.unit=n.value.replace(G,""),n.value=G}return n},r.prototype.__getFullValue=function(t){var e=(t===void 0?{}:t).withDefault;return!this.hasValue()&&e?this.getDefaultValue():this.getFullValue()},r.prototype.getFullValue=function(t,e){e===void 0&&(e={});var n=this.get("functionName"),i=this.getDefaultValue(),l=(0,E.isUndefined)(t)?this.get("value"):t,f=!(0,E.isUndefined)(l)&&l!=="";if(l&&i&&l===i)return i;if(n&&f){var d=n==="url"?"'".concat(l.replace(/'|"/g,""),"'"):l;l="".concat(n,"(").concat(d,")")}return f&&this.get("important")&&!e.skipImportant&&(l="".concat(l," !important")),l||""},r.prototype.__setParentTarget=function(t){this.up({parentTarget:t})},r.prototype.getParentTarget=function(){return this.get("parentTarget")||null},r.prototype.__parseFn=function(t){t===void 0&&(t="");var e=t.indexOf("(")+1,n=t.lastIndexOf(")");return{name:t.substring(0,e-1).trim(),value:String.prototype.substring.apply(t,[e,n>=0?n:void 0]).trim()}},r.prototype.__checkVisibility=function(t){var e=t.target,n=t.component,i=t.sectors,l=n||e;if(!l)return!1;var f=this.getId(),d=this.getName(),x=this.get("toRequire"),b=this.get("requires"),G=this.get("requiresParent"),nt=l.get("unstylable"),st=l.get("stylable-require"),pt=l.get("stylable");if((0,E.isArray)(pt)&&(pt=pt.indexOf(d)>=0),(0,E.isArray)(nt)&&(pt=nt.indexOf(d)<0),x&&(pt=!e||st&&(st.indexOf(f)>=0||st.indexOf(d)>=0)),i&&b){var bt=(0,E.keys)(b);i.forEach(function(Qt){Qt.getProperties().forEach(function(ve){if((0,E.includes)(bt,ve.id)){var ye=b[ve.id];pt=pt&&(0,E.includes)(ye,ve.get("value"))}})})}if(G){var Et=n&&n.parent(),Ot=Et&&Et.getEl();if(Ot){var Zt=(0,K.hasWin)()?window.getComputedStyle(Ot):{};(0,E.each)(G,function(Qt,ve){pt=pt&&Zt[ve]&&(0,E.includes)(Qt,Zt[ve])})}else pt=!1}return!!pt},r}(h.Hn);const Ln=Tf;Tf.callParentInit=function(s,r,t,e){e===void 0&&(e={}),s.prototype.initialize.apply(r,[t,Jr(Jr({},e),{skipInit:1})])},Tf.callInit=function(s,r,t){t===void 0&&(t={}),!t.skipInit&&s.init(r,t)};var lm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ep=function(){return ep=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},ep.apply(this,arguments)},cm=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return lm(r,s),r.prototype.defaults=function(){return{values:{}}},r.prototype.initialize=function(){var t=this.collection;this.prop=t==null?void 0:t.prop},r.prototype.getId=function(){return this.cid},r.prototype.getIndex=function(){var t=this.collection;return t?t.indexOf(this):-1},r.prototype.getValues=function(t){t===void 0&&(t={});var e=this.get("values");return t.camelCase?Object.keys(e).reduce(function(n,i){return n[(0,K.camelCase)(i)]=e[i],n},{}):e},r.prototype.getLabel=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.getLayerLabel(this)},r.prototype.isSelected=function(){var t;return((t=this.prop)===null||t===void 0?void 0:t.getSelectedLayer())===this},r.prototype.select=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.selectLayer(this)},r.prototype.remove=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.removeLayer(this)},r.prototype.move=function(t){var e;return(e=this.prop)===null||e===void 0?void 0:e.moveLayer(this,t)},r.prototype.getStylePreview=function(t){var e;return t===void 0&&(t={}),(e=this.prop)===null||e===void 0?void 0:e.getStylePreview(this,t)},r.prototype.hasPreview=function(){var t;return!!(!((t=this.prop)===null||t===void 0)&&t.get("preview"))},r.prototype.upValues=function(t){return t===void 0&&(t={}),this.set("values",ep(ep({},this.getValues()),t))},r}(h.Hn);const um=cm;var pm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sd=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return pm(r,s),r.prototype.initialize=function(t,e){e===void 0&&(e={}),this.prop=e.prop},r}(h.FE);const fm=Sd;Sd.prototype.model=um;var dm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Al=function(){return Al=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Al.apply(this,arguments)},Od=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},kd=function(s){return s==="integer"||s==="number"},hm=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return dm(r,s),r.prototype.defaults=function(){return Al(Al({},Ln.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Ln.callParentInit(Ln,this,t,e);var n=this.em,i=new jf(this.get("properties")||[],{em:n,parentProp:this});this.set("properties",i,{silent:!0}),this.listenTo(i,"change",this.__upProperties),Ln.callInit(this,t,e)},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),r.prototype.getProperties=function(){return Od([],this.get("properties").models,!0)},r.prototype.getProperty=function(t){return this.properties.filter(function(e){return e.getId()===t||e.getName()===t})[0]},r.prototype.getPropertyAt=function(t){return this.get("properties").at(t)},r.prototype.isDetached=function(){return!!this.get("detached")},r.prototype.getValues=function(t){var e=(t===void 0?{}:t).byName;return this.getProperties().reduce(function(n,i){return n[e?i.getName():i.getId()]="".concat(i.__getFullValue()),n},{})},r.prototype.getSeparator=function(){return this.getSplitSeparator()},r.prototype.getJoin=function(){return this.__getJoin()},r.prototype.getStyleFromProps=function(t){var e;t===void 0&&(t={});var n=this.getName(),i=this.__getJoin(),l=this.get("toStyle"),f=this.getValues(),d={};if(l)d=l(f,{join:i,name:n,property:this});else if(f=this.getValues({byName:!0}),this.isDetached())d=f;else{var x=this.getProperties().map(function(b){return b.__getFullValue({withDefault:1})}).filter(Boolean).join(i);(e={})[n]=x,d=e}return this.isDetached()?d[n]="":(d[n]=d[n]||"",d=Al(Al({},d),this.getProperties().reduce(function(b,G){return b[G.getName()]="",b},{}))),t.camelCase?Object.keys(d).reduce(function(b,G){return b[(0,K.camelCase)(G)]=d[G],b},{}):d},r.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},r.prototype.__upProperties=function(t,e){if(e===void 0&&(e={}),!e.__up&&!e.__clearIn){var n=this.__getParentProp();if(n)return n.__upProperties(this,e);this.__upTargetsStyleProps(e,t)}},r.prototype.__upTargetsStyleProps=function(t,e){var n;t===void 0&&(t={});var i=this.getStyleFromProps();if(this.isDetached()&&e){var l=e.getName();(n={})[l]=i[l],i=n}this.__upTargetsStyle(i,t)},r.prototype._up=function(t,e){return e===void 0&&(e={}),this.__setProperties(this.__getSplitValue(t.value),e),Ln.prototype._up.call(this,t,e),this},r.prototype.getStyle=function(t){return this.getStyleFromProps(t)},r.prototype.__getFullValue=function(t){if(t===void 0&&(t={}),this.isDetached()||t.__clear)return"";var e=this.getStyleFromProps()[this.getName()]||"";return mo(e)},r.prototype.__getJoin=function(){var t=this.get("join");return(0,E.isString)(t)?t:this.get("separator")},r.prototype.__styleHasProps=function(t){t===void 0&&(t={});var e=this.getName(),n=this.getProperties().map(function(i){return i.getName()});return Od([e],n,!0).some(function(i){return!(0,E.isUndefined)(t[i])&&t[i]!==""})},r.prototype.__splitValue=function(t,e){return mo(t).split(e).map(function(n){return n.trim()}).filter(Boolean)},r.prototype.__splitStyleName=function(t,e,n){return this.__splitValue(t[e]||"",n)},r.prototype.__getSplitValue=function(t,e){t===void 0&&(t="");var n=(e===void 0?{}:e).byName,i=this.getProperties(),l=i.length===4&&i.every(function(x){return kd(x.getType())}),f=this.__splitValue(t,this.getSplitSeparator()),d={};return i.forEach(function(x,b){var G=f[b],nt=(0,E.isUndefined)(G)?"":G;if(l){var st=f.length;nt=f[b]||f[b%st+(st!=1&&st%2?1:0)]||nt}var pt=n?x.getName():x.getId();d[pt]=nt||""}),d},r.prototype.__getPropsFromStyle=function(t,e){if(t===void 0&&(t={}),e===void 0&&(e={}),!this.__styleHasProps(t))return null;var n=e.byName,i=this.getName(),l=this.getProperties(),f=this.getSplitSeparator(),d=this.get("fromStyle"),x=d?d(t,{property:this,name:i,separator:f}):{};return d||(x=this.__getSplitValue(t[i]||"",{byName:n}),l.forEach(function(b){var G=t[b.getName()],nt=n?b.getName():b.getId();(0,E.isUndefined)(G)||G===""||(x[nt]=G)})),x},r.prototype.__setProperties=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.getProperties().forEach(function(i){var l=t[i.getId()];i.__getFullValue()!==l&&i.upValue(l,e)});var n=(0,E.keys)(t).map(function(i){return t[i]}).join(" ");this.set("value",n,{silent:!0})},r.prototype.clear=function(){var t=this;return this.getProperties().map(function(e){return e.clear({__clearIn:!t.isDetached()})}),Ln.prototype.clear.call(this),this},r.prototype.hasValue=function(t){return this.getProperties().some(function(e){return e.hasValue(t)})},r.prototype.getFullValue=function(){return this.__getFullValue()},r.prototype.__canClearProp=function(t){return this.isDetached()&&t.hasValue({noParent:!0})},r}(Ln);const jl=hm;var gm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vi=function(){return vi=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},vi.apply(this,arguments)},mm=function(s,r){var t={};for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&r.indexOf(e)<0&&(t[e]=s[e]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(e=Object.getOwnPropertySymbols(s);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(s,e[n])&&(t[e[n]]=s[e[n]])}return t},vm=/,(?![^\(]*\))/,ym=/\s(?![^(]*\))/,bm=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return gm(r,s),r.prototype.defaults=function(){return vi(vi({},jl.getDefaults()),{layers:[],layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),jl.callParentInit(jl,this,t,e);var n=this.get("layers"),i=new fm(n,{prop:this});i.property=this,i.properties=this.get("properties"),this.set("layers",i,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(i,"add remove",this.__upLayers),jl.callInit(this,t,e)},r.prototype.getLayers=function(){return this.__getLayers().models},r.prototype.__getLayers=function(){return this.get("layers")},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.__getLayers().at(t)||void 0},r.prototype.getSelectedLayer=function(){var t=this.get("selectedLayer");return t&&t.getIndex()>=0?t:void 0},r.prototype.selectLayer=function(t){return this.set("selectedLayer",t,{__select:!0})},r.prototype.selectLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e&&this.selectLayer(e)},r.prototype.moveLayer=function(t,e){e===void 0&&(e=0);var n=t?t.getIndex():-1;n>=0&&(0,E.isNumber)(e)&&e>=0&&e<this.getLayers().length&&n!==e&&(this.removeLayer(t),this.__getLayers().add(t,{at:e}))},r.prototype.addLayer=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n={};return this.getProperties().forEach(function(i){var l=i.getId(),f=t[l];n[l]=(0,E.isUndefined)(f)?i.getDefaultValue():f}),this.__getLayers().push({values:n},e)},r.prototype.removeLayer=function(t){return this.__getLayers().remove(t)},r.prototype.removeLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e?this.removeLayer(e):null},r.prototype.getLayerLabel=function(t){var e="";if(t){var n=this.get("layerLabel"),i=t.getValues(),l=t.getIndex();if(n)e=n(t,{index:l,values:i,property:this});else{var f=[];this.getProperties().map(function(d){f.push(i[d.getId()])}),e=f.filter(Boolean).join(" ")}}return e},r.prototype.getStyleFromLayer=function(t,e){var n;e===void 0&&(e={});var i,l=this.__getJoin(),f=this.__getJoinLayers(),d=this.get("toStyle"),x=this.getName(),b=t.getValues();if(d)i=d(b,{join:l,joinLayers:f,name:x,layer:t,property:this});else{var G=this.getProperties().map(function(nt){var st=nt.getName(),pt=b[nt.getId()],bt=(0,E.isUndefined)(pt)?nt.getDefaultValue():pt;if(e.number&&kd(nt.getType())){var Et=nt.parseValue(pt,e.number);bt="".concat(Et.value).concat(Et.unit)}return{name:st,value:bt}});i=this.isDetached()?G.reduce(function(nt,st){return nt[st.name]=st.value,nt},{}):((n={})[this.getName()]=G.map(function(nt){return nt.value}).join(l),n)}return e.camelCase?Object.keys(i).reduce(function(nt,st){return nt[(0,K.camelCase)(st)]=i[st],nt},{}):i},r.prototype.getStylePreview=function(t,e){e===void 0&&(e={});var n={};return this.get("preview")&&(n=this.getStyleFromLayer(t,e)),n},r.prototype.getLayerSeparator=function(){var t=this.get("layerSeparator");return(0,E.isString)(t)?new RegExp("".concat(t,"(?![^\\(]*\\))")):t},r.prototype.__upProperties=function(t,e){var n;e===void 0&&(e={});var i=this.getSelectedLayer();i&&(i.upValues(((n={})[t.getId()]=t.__getFullValue(),n)),e.__up||this.__upTargetsStyleProps(e))},r.prototype.__upLayers=function(t,e,n){this.__upTargetsStyleProps(n||e)},r.prototype.__upTargets=function(t,e){if(e===void 0&&(e={}),!e.__select)return Ln.prototype.__upTargets.call(this,t,e)},r.prototype.__upTargetsStyleProps=function(t){t===void 0&&(t={}),this.__upTargetsStyle(this.getStyleFromLayers(),t)},r.prototype.__upTargetsStyle=function(t,e){return Ln.prototype.__upTargetsStyle.call(this,t,e)},r.prototype.__upSelected=function(t,e){var n=(t===void 0?{}:t).noEvent;e===void 0&&(e={});var i=this.em.Styles,l=this.getSelectedLayer(),f=l==null?void 0:l.getValues();f&&this.getProperties().forEach(function(d){var x,b=(x=f[d.getId()])!==null&&x!==void 0?x:"";d.__getFullValue()!==b&&d.upValue(b,vi(vi({},e),{__up:!0}))}),!n&&i.__trgEv(i.events.layerSelect,{property:this})},r.prototype._up=function(t,e){e===void 0&&(e={});var n=t.__layers,i=n===void 0?[]:n,l=mm(t,["__layers"]);return!this.isDetached()&&this.__setLayers(i),this.__upSelected({noEvent:!0},e),Ln.prototype._up.call(this,l,e),this},r.prototype.__setLayers=function(t){t===void 0&&(t=[]);var e=this.__getLayers(),n=t.map(function(i){return{values:i}});e.length===n.length?n.map(function(i,l){var f;return(f=e.at(l))===null||f===void 0?void 0:f.upValues(i.values)}):this.__getLayers().reset(n),this.__upSelected({noEvent:!0})},r.prototype.__parseValue=function(t){var e=this,n=this.parseValue(t);return n.__layers=t.split(vm).map(function(i){return i.trim()}).map(function(i){return e.__parseLayer(i)}).filter(Boolean),n},r.prototype.__parseLayer=function(t){var e=this.get("parseLayer"),n=t.split(ym),i=this.getProperties();return e?e({value:t,values:n}):i.reduce(function(l,f,d){var x=n[d];return l[f.getId()]=(0,E.isUndefined)(x)?f.getDefaultValue():x,l},{})},r.prototype.__getLayersFromStyle=function(t){var e=this;if(t===void 0&&(t={}),!this.__styleHasProps(t))return null;var n=this.getName(),i=this.getProperties(),l=this.getLayerSeparator(),f=this.get("fromStyle"),d=f?f(t,{property:this,name:n,separatorLayers:l}):[];if(!f){var x=this.__splitStyleName(t,n,l).map(function(b){return b.split(e.getSplitSeparator())}).map(function(b){var G={};return i.forEach(function(nt,st){var pt=b[st];G[nt.getId()]=(0,E.isUndefined)(pt)?nt.getDefaultValue():pt}),G});i.forEach(function(b){var G=b.getId();e.__splitStyleName(t,b.getName(),l).map(function(nt){var st;return(st={})[G]=nt||b.getDefaultValue(),st}).forEach(function(nt,st){x[st]=x[st]?vi(vi({},x[st]),nt):nt})}),d=x}return(0,E.isArray)(d)?d:[d]},r.prototype.getStyle=function(t){return t===void 0&&(t={}),this.getStyleFromLayers(t)},r.prototype.getStyleFromLayers=function(t){var e=this;t===void 0&&(t={});var n={},i=this.getName(),l=this.getLayers(),f=this.getProperties();if(l.map(function(x){return e.getStyleFromLayer(x,t)}).forEach(function(x){(0,E.keys)(x).map(function(b){n[b]||(n[b]=[]),n[b].push(x[b])})}),(0,E.keys)(n).map(function(x){n[x]=n[x].join(e.__getJoinLayers())}),this.isDetached())n[i]="",!l.length&&f.map(function(x){n[x.getName()]=""});else{var d=f.reduce(function(x,b){return x[b.getName()]="",x},{});n[i]=n[i]||"",n=vi(vi({},n),d)}return n},r.prototype.__getJoinLayers=function(){var t=this.get("layerJoin"),e=this.get("layerSeparator");return t||((0,E.isString)(e)?e:t)},r.prototype.__getFullValue=function(){if(this.get("detached"))return"";var t=this.getStyleFromLayers();return mo(t[this.getName()])},r.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent&&this.getParentTarget();return this.getLayers().length>0&&!e},r.prototype.clear=function(t){return t===void 0&&(t={}),this.__getLayers().reset(),this.__upTargetsStyleProps(t),Ln.prototype.clear.call(this),this},r.prototype.__canClearProp=function(){return!1},r}(jl);const wm=bm;var _m=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),np=function(){return np=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},np.apply(this,arguments)},xm=function(s,r){var t={};for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&r.indexOf(e)<0&&(t[e]=s[e]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(e=Object.getOwnPropertySymbols(s);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(s,e[n])&&(t[e[n]]=s[e[n]])}return t},Cm=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},Ef="data-clear-style",Sm=function(s){function r(t){t===void 0&&(t={});var e=s.call(this,t)||this;(0,E.bindAll)(e,"__change","__updateStyle");var n=t.config||{},i=n.em;e.config=n,e.em=i,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.__destroyFn=e.destroy?e.destroy.bind(e):function(){};var l=e.model;l.view=e,e.onValueChange=(0,E.debounce)(e.onValueChange.bind(e),10),e.updateStatus=(0,E.debounce)(e.updateStatus.bind(e),0),e.listenTo(l,"destroy remove",e.remove),e.listenTo(l,"change:visible",e.updateVisibility),e.listenTo(l,"change:name change:className change:full",e.render),e.listenTo(l,"change:value",e.onValueChange),e.listenTo(l,"change:parentTarget",e.updateStatus),e.listenTo(i,"change:device",e.onValueChange);var f=e.init&&e.init.bind(e);return f&&f(),e}return _m(r,s),r.prototype.events=function(){var t;return(t={change:"inputValueChanged"})["click [".concat(Ef,"]")]="clear",t},r.prototype.template=function(t){var e=this.pfx,n=this.ppfx;return`
      <div class="`.concat(e,`label" data-sm-label></div>
      <div class="`).concat(n,`fields" data-sm-fields></div>
    `)},r.prototype.templateLabel=function(t){var e=this.pfx,n=this.em,i=t.parent,l=t.attributes,f=l.icon,d=f===void 0?"":f,x=l.info,b=x===void 0?"":x,G=n==null?void 0:n.getConfig().icons,nt=(G==null?void 0:G.close)||"";return`
      <span class="`.concat(e,"icon ").concat(d,'" title="').concat(b,`">
        `).concat(t.getLabel(),`
      </span>
      `).concat(i?"":'<div class="'.concat(e,'clear" style="display: none" ').concat(Ef,">").concat(nt,"</div>"),`
    `)},r.prototype.templateInput=function(t){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(t.getDefaultValue(),`"/>
      </div>
    `)},r.prototype.remove=function(){var t=this;return h.G7.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(e){return t[e]=null}),this.__destroyFn(this._getClbOpts()),this},r.prototype.updateStatus=function(){var t,e=this,n=e.model,i=e.pfx,l=e.ppfx,f=e.config,d="".concat(l,"four-color"),x="".concat(l,"color-warn"),b=this.$el.children(".".concat(i,"label")),G=this.getClearEl(),nt=G?G.style:{};b.removeClass("".concat(d," ").concat(x)),nt.display="none",n.hasValue({noParent:!0})&&f.highlightChanged?(b.addClass(d),f.clearProperties&&(nt.display="")):n.hasValue()&&f.highlightComputed&&b.addClass(x),(t=this.parent)===null||t===void 0||t.updateStatus()},r.prototype.clear=function(t){t&&t.stopPropagation(),this.model.clear()},r.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(Ef,"]"))),this.clearEl},r.prototype.inputValueChanged=function(t){t&&t.stopPropagation(),this.emit||this.model.upValue(t.target.value)},r.prototype.onValueChange=function(t,e,n){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},r.prototype.setValue=function(t){var e=this.model,n=(0,E.isUndefined)(t)||t===""?e.getDefaultValue():t;if(this.update)return this.__update(n);this.__setValueInput(n)},r.prototype.__setValueInput=function(t){var e=this.getInputEl();e&&(e.value=t)},r.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},r.prototype.__unset=function(){var t=this.unset&&this.unset.bind(this);t&&t(this._getClbOpts())},r.prototype.__update=function(t){var e=this.update&&this.update.bind(this);e&&e(np(np({},this._getClbOpts()),{value:t}))},r.prototype.__change=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.emit&&this.emit.bind(this);n&&n.apply(void 0,Cm([this._getClbOpts()],t,!1))},r.prototype.__updateStyle=function(t,e){e===void 0&&(e={});var n=e.complete,i=e.partial,l=(xm(e,["complete","partial"]),this.model),f=n!==!1&&i!==!0;(0,K.isObject)(t)?l.__upTargetsStyle(t,{avoidStore:!f}):l.upValue(t,{partial:!f})},r.prototype._getClbOpts=function(){var t=this,e=t.model;return{el:t.el,createdEl:t.createdEl,property:e,props:e.attributes,change:this.__change,updateStyle:this.__updateStyle}},r.prototype.render=function(){this.clearCached();var t=this,e=t.pfx,n=t.model,i=t.el,l=t.$el,f=n.getName(),d=n.getType(),x=n.get("className")||"",b="".concat(e,"property"),G=d==="number"?"".concat(e).concat(d," ").concat(e,"integer"):"".concat(e).concat(d);this.createdEl&&this.__destroyFn(this._getClbOpts()),l.empty().append(this.template(n)),l.find("[data-sm-label]").append(this.templateLabel(n));var nt=this.create&&this.create.bind(this);this.createdEl=nt&&nt(this._getClbOpts()),l.find("[data-sm-fields]").append(this.createdEl||this.templateInput(n)),i.className="".concat(b," ").concat(G," ").concat(b,"__").concat(f," ").concat(x).trim(),i.className+=n.isFull()?" ".concat(b,"--full"):"";var st=this.onRender&&this.onRender.bind(this);return st&&st(),this.setValue(n.getValue()),this},r.prototype.onRender=function(){},r}(h.G7);const Ki=Sm;var Om=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),km=function(s){function r(t){var e=s.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.properties=[],e.parent=t.parent;var n=e.collection;return e.listenTo(n,"add",e.addTo),e.listenTo(n,"reset",e.render),e}return Om(r,s),r.prototype.addTo=function(t,e,n){this.add(t,null,n)},r.prototype.add=function(t,e,n){n===void 0&&(n={});var i=this.parent,l=this.config,f=e||this.el,d=new t.typeView({model:t,config:l});i&&(d.parent=i),d.render();var x=d.el;this.properties.push(d),(0,ue.$Q)(f,x,n.at)},r.prototype.remove=function(){return h.G7.prototype.remove.apply(this,arguments),this.clearItems(),this},r.prototype.clearItems=function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]},r.prototype.render=function(){var t=this,e=this.$el,n=this.pfx;this.clearItems();var i=document.createDocumentFragment();return this.collection.forEach(function(l){return t.add(l,i)}),e.empty(),e.append(i),e.attr("class","".concat(n,"properties")),this},r}(h.G7);const Pf=km;var Tm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rp=function(){return rp=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},rp.apply(this,arguments)};const jc=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Tm(r,s),r.prototype.templateInput=function(){var t=this.pfx;return`
      <div class="`.concat(t,"field ").concat(t,`composite">
        <span id="`).concat(t,`input-holder"></span>
      </div>
    `)},r.prototype.remove=function(){var t;return(t=this.props)===null||t===void 0||t.remove(),Ki.prototype.remove.apply(this,arguments),this},r.prototype.onValueChange=function(){},r.prototype.onRender=function(){var t=this.pfx,e=this.model,n=e.get("properties");if(n.length&&!this.props){var i=e.isDetached(),l=new Pf({config:rp(rp({},this.config),{highlightComputed:i,highlightChanged:i}),collection:n,parent:this});l.render(),this.$el.find("#".concat(t,"input-holder")).append(l.el),this.props=l}},r.prototype.clearCached=function(){Ki.prototype.clearCached.apply(this,arguments),delete this.props},r}(Ki);var Em=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pm=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Em(r,s),r.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},r.prototype.template=function(){var t=this,e=t.pfx,n=t.ppfx,i=t.em,l=i==null?void 0:i.getConfig().icons,f=(l==null?void 0:l.close)||"",d=(l==null?void 0:l.move)||"";return`
      <div class="`.concat(e,`label-wrp">
        <div id="`).concat(e,'move" class="').concat(n,`no-touch-actions" data-move-layer>
          `).concat(d,`
        </div>
        <div id="`).concat(e,`label" data-label></div>
        <div id="`).concat(e,'preview-box" class="').concat(e,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(e,'preview" class="').concat(e,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(e,'close-layer" class="').concat(e,`btn-close" data-close-layer>
          `).concat(f,`
        </div>
      </div>
      <div id="`).concat(e,`inputs" data-properties></div>
    `)},r.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,n=t.config||{};this.em=n.em,this.config=n,this.sorter=t.sorter,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.propertyView=t.propertyView;var i=this.propertyView.model;this.listenTo(e,"destroy remove",this.remove),this.listenTo(e,"change:values",this.updateLabel),this.listenTo(i,"change:selectedLayer",this.updateVisibility),e.view=this,e.set({droppable:0,draggable:1}),this.$el.data("model",e)},r.prototype.initSorter=function(){var t;(t=this.sorter)===null||t===void 0||t.startSort(this.el)},r.prototype.removeItem=function(t){t&&t.stopPropagation(),this.model.remove()},r.prototype.select=function(){this.model.select()},r.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},r.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},r.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},r.prototype.updateLabel=function(){var t=this.model,e=t.getLabel();if(this.getLabelEl().innerHTML=e,t.hasPreview()){var n=this.getPreviewEl(),i=t.getStylePreview({number:{min:-3,max:3}}),l=(0,E.keys)(i).map(function(f){return"".concat(f,":").concat(i[f])}).join(";");n.setAttribute("style",l)}},r.prototype.updateVisibility=function(){var t,e=this,n=e.pfx,i=e.model,l=e.propertyView,f=this.getPropertiesWrapper(),d=i.isSelected();f.style.display=d?"":"none",this.$el[d?"addClass":"removeClass"]("".concat(n,"active")),d&&f.appendChild((t=l.props)===null||t===void 0?void 0:t.el)},r.prototype.render=function(){var t=this,e=t.el,n=t.pfx,i=t.model;return e.innerHTML=this.template(),e.className="".concat(n,"layer"),i.hasPreview()&&(e.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},r}(h.G7);const Am=Pm;var jm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mm=function(s){function r(t){var e=s.call(this,t)||this,n=e.collection,i=t.config||{},l=i.em,f=i.stylePrefix||"",d=i.pStylePrefix||"";e.config=i,e.pfx=f,e.ppfx=d,e.propertyView=t.propertyView,e.className="".concat(f,"layers ").concat(d,"field"),e.listenTo(n,"add",e.addTo),e.listenTo(n,"reset",e.reset),e.items=[];var x=l==null?void 0:l.Utils;return e.sorter=x?new x.Sorter({container:e.el,ignoreViewChildren:1,containerSel:".".concat(f,"layers"),itemSel:".".concat(f,"layer"),pfx:i.pStylePrefix}):"",n.view=e,e.$el.data("model",n),e.$el.data("collection",n),e}return jm(r,s),r.prototype.addTo=function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},r.prototype.addToCollection=function(t,e,n){var i=e||null,l=this,f=l.propertyView,d=l.config,x=l.sorter,b=l.$el,G=new Am({model:t,config:d,sorter:x,propertyView:f}),nt=G.render().el;if(this.items.push(G),i)i.appendChild(nt);else if(n!==void 0){var st="before";b.children().length===n&&(n--,st="after"),n<0?b.append(nt):b.children().eq(n)[st](nt)}else b.append(nt);return nt},r.prototype.reset=function(t,e){this.clearItems(),this.render()},r.prototype.remove=function(){return this.clearItems(),h.G7.prototype.remove.apply(this,arguments),this},r.prototype.clearItems=function(){this.items.forEach(function(t){return t.remove()}),this.items=[]},r.prototype.render=function(){var t=this,e=this.$el,n=this.sorter,i=document.createDocumentFragment();return e.empty(),this.collection.forEach(function(l){return t.addToCollection(l,i)}),e.append(i),e.attr("class",this.className),n&&(n.plh=null),this},r}(h.G7);const Lm=Mm;var Dm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ml=function(){return Ml=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Ml.apply(this,arguments)},Im=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Dm(r,s),r.prototype.events=function(){return Ml(Ml({},jc.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},r.prototype.templateInput=function(){var t=this.pfx,e=this.em,n=e==null?void 0:e.getConfig().icons,i=(n==null?void 0:n.plus)||"+";return`
      <div class="`.concat(t,"field ").concat(t,`stack">
        <button type="button" id="`).concat(t,`add" data-add-layer>
          `).concat(i,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},r.prototype.init=function(){var t=this.model;this.listenTo(t.__getLayers(),"change reset",this.updateStatus)},r.prototype.addLayer=function(){this.model.addLayer({},{at:0})},r.prototype.setValue=function(){},r.prototype.remove=function(){var t;return(t=this.layersView)===null||t===void 0||t.remove(),jc.prototype.remove.apply(this,arguments),this},r.prototype.clearCached=function(){jc.prototype.clearCached.apply(this,arguments),delete this.layersView},r.prototype.onRender=function(){var t=this,e=t.model,n=t.el,i=t.config,l=e.get("properties");if(l.length&&!this.props){var f=new Pf({config:Ml(Ml({},i),{highlightComputed:!1,highlightChanged:!1}),collection:l,parent:this});f.render();var d=new Lm({collection:e.__getLayers(),config:i,propertyView:this});d.render(),n.querySelector("[data-layers-wrapper]").appendChild(d.el),this.props=f,this.layersView=d}},r}(jc);const Nm=Im;var Rm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),op=function(){return op=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},op.apply(this,arguments)};const Fm=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Rm(r,s),r.prototype.events=function(){return op(op({},Ki.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},r.prototype.templateInput=function(){var t,e=this.pfx,n=this.em,i=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,l=i==null?void 0:i.close;return`
      <div class="`.concat(e,"field ").concat(e,`file">
        <div id='`).concat(e,`input-holder'>
          <div class="`).concat(e,`btn-c">
            <button class="`).concat(e,'btn" id="').concat(e,`images" type="button" data-open-assets>
              `).concat(n.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(e,'preview-box" class="').concat(e,`preview-file" data-preview-box>
          <div id="`).concat(e,'preview-file" class="').concat(e,`preview-file-cnt" data-preview></div>
          <div id="`).concat(e,'close" class="').concat(e,'preview-file-close" data-clear-asset>').concat(l,`</div>
        </div>
      </div>
    `)},r.prototype.__setValueInput=function(t){var e=this.model,n=this.el,i=e.getDefaultValue(),l=n.querySelector("[data-preview-box]"),f=n.querySelector("[data-preview]");l.style.display=t&&t!==i?"":"none",f.style.backgroundImage=t||e.getDefaultValue()},r.prototype.openAssetManager=function(){var t,e=this,n=(t=this.em)===null||t===void 0?void 0:t.Assets;n==null||n.open({select:function(i,l){var f=(0,E.isString)(i)?i:i.get("src");e.model.upValue(f,{partial:!l}),l&&n.close()},types:["image"],accept:"image/*"})},r}(Ki);var Vm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const Xi=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Vm(r,s),r.prototype.templateInput=function(t){return""},r.prototype.init=function(){var t=this.model;this.listenTo(t,"change:unit",this.onValueChange),this.listenTo(t,"change:units",this.render)},r.prototype.setValue=function(t){},r.prototype.onRender=function(){var t=this,e=t.ppfx,n=t.model,i=t.el;if(!this.inputInst){var l=n.input;l.ppfx=e,l.render(),i.querySelector(".".concat(e,"fields")).appendChild(l.el),this.input=l.inputEl.get(0),this.inputInst=l}},r.prototype.clearCached=function(){Ki.prototype.clearCached.apply(this,arguments),this.inputInst=null},r}(Ki);var Hm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const zm=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Hm(r,s),r.prototype.setValue=function(t){var e;(e=this.inputInst)===null||e===void 0||e.setValue(t,{fromTarget:1,def:this.model.getDefaultValue()})},r.prototype.remove=function(){var t=this;Xi.prototype.remove.apply(this,arguments);var e=this.inputInst;return e&&e.remove&&e.remove(),["inputInst","$color"].forEach(function(n){return t[n]=null}),this},r.prototype.__handleChange=function(t,e){this.model.upValue(t,{partial:e})},r.prototype.onRender=function(){var t;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var e=this,n=e.ppfx,i=e.model,l=e.em,f=e.el,d=new Vu({target:l,model:i,ppfx:n,onChange:this.__handleChange}).render();f.querySelector(".".concat(n,"fields")).appendChild(d.el),this.input=(t=d.inputEl)===null||t===void 0?void 0:t.get(0),this.inputInst=d}},r}(Xi);var Bm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ip=function(){return ip=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},ip.apply(this,arguments)},Td=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))};const Af=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Bm(r,s),r.prototype.defaults=function(){return ip(ip({},Ln.getDefaults()),{options:[],full:0})},r.prototype.getOptions=function(){var t=this.attributes,e=t.options,n=t.list;return(e&&e.length?e:n)||[]},r.prototype.getOption=function(t){var e=this,n=(0,K.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(i){return e.getOptionId(i)===n})[0]||null},r.prototype.setOptions=function(t){return t===void 0&&(t=[]),this.set("options",t),this},r.prototype.addOption=function(t){if(t){var e=this.getOptions();this.setOptions(Td(Td([],e,!0),[t],!1))}return this},r.prototype.getOptionId=function(t){return(0,K.isDef)(t.id)?t.id:t.value},r.prototype.getOptionLabel=function(t,e){var n;e===void 0&&(e={});var i=e.locale,l=i===void 0||i,f=((0,E.isString)(t)?this.getOption(t):t)||{},d=this.getOptionId(f),x=f.label||f.name||d,b=e.property||this.getId();return l&&((n=this.em)===null||n===void 0?void 0:n.t("styleManager.options.".concat(b,".").concat(d)))||x},r.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Ln.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)},r.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},r}(Ln);var Um=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const Ed=function(s){function r(t){var e=s.call(this,t)||this;return e.listenTo(e.model,"change:options",e.updateOptions),e}return Um(r,s),r.prototype.templateInput=function(){var t=this.pfx,e=this.ppfx;return`
      <div class="`.concat(e,"field ").concat(e,`select">
        <span id="`).concat(t,`input-holder"></span>
        <div class="`).concat(e,`sel-arrow">
          <div class="`).concat(e,`d-s-arrow"></div>
        </div>
      </div>
    `)},r.prototype.updateOptions=function(){delete this.input,this.onRender()},r.prototype.onRender=function(){var t=this.pfx,e=this.model,n=e.getOptions();if(!this.input){var i=[];n.forEach(function(f){var d=e.getOptionId(f),x=e.getOptionLabel(d),b=f.style?f.style.replace(/"/g,"&quot;"):"",G=b?'style="'.concat(b,'"'):"",nt=d.replace(/"/g,"&quot;");i.push('<option value="'.concat(nt,'" ').concat(G,">").concat(x,"</option>"))});var l=this.el.querySelector("#".concat(t,"input-holder"));l.innerHTML="<select>".concat(i.join(""),"</select>"),this.input=l.firstChild}},r.prototype.__setValueInput=function(t){var e=this.model,n=this.getInputEl(),i=e.getOptions()[0],l=i?e.getOptionId(i):"";n&&(n.value=t||l)},r}(Ki);var Wm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sp=function(){return sp=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},sp.apply(this,arguments)};const $m=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Wm(r,s),r.prototype.defaults=function(){return sp(sp({},Af.getDefaults()),{full:1})},r}(Af);var Gm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();const qm=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Gm(r,s),r.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(t,"field ").concat(t,'field-radio"></div>')},r.prototype.onRender=function(){var t=this.pfx,e=this.ppfx,n=this.model,i="".concat(e,"radio-item-label"),l=n.getName(),f=n.getOptions(),d="".concat(t,"radio ").concat(t,"radio-").concat(l),x=n.cid;if(!this.input){var b=[];f.forEach(function(nt){var st=nt.className?"".concat(nt.className," ").concat(t,"icon ").concat(i):"",pt=n.getOptionId(nt),bt="".concat(l,"-").concat(pt,"-").concat(x),Et=st?"":n.getOptionLabel(pt),Ot=nt.title?'title="'.concat(nt.title,'"'):"",Zt=n.getValue()===pt?"checked":"";b.push(`
          <div class="`.concat(e,`radio-item">
            <input type="radio" class="`).concat(d,'" id="').concat(bt,'" name="').concat(l,"-").concat(x,'" value="').concat(pt,'" ').concat(Zt,`/>
            <label class="`).concat(st||i,'" ').concat(Ot,' for="').concat(bt,'">').concat(Et,`</label>
          </div>
        `))});var G=this.el.querySelector(".".concat(e,"field"));G.innerHTML='<div class="'.concat(e,'radio-items">').concat(b.join(""),"</div>"),this.input=G.firstChild}},r.prototype.__setValueInput=function(t){var e,n=this.model,i=t||n.getDefaultValue(),l=(e=this.getInputEl())===null||e===void 0?void 0:e.querySelector('[value="'.concat(i,'"]'));l&&(l.checked=!0)},r}(Ed);var Zm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Na=function(){return Na=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Na.apply(this,arguments)};const ap=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Zm(r,s),r.prototype.defaults=function(){return Na(Na({},Ln.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},r.prototype.getUnits=function(){return this.get("units")||[]},r.prototype.getUnit=function(){return this.get("unit")},r.prototype.getMin=function(){return this.get("min")},r.prototype.getMax=function(){return this.get("max")},r.prototype.getStep=function(){return this.get("step")},r.prototype.upUnit=function(t,e){return e===void 0&&(e={}),this._up({unit:t},e)},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Ln.callParentInit(Ln,this,t,e);var n=this.get("unit"),i=this.getUnits();this.input=(0,K.hasWin)()?new yc({model:this}):void 0,i.length&&!n&&this.set("unit",i[0],{silent:!0}),Ln.callInit(this,t,e)},r.prototype.__getClearProps=function(){return Na(Na({},Ln.prototype.__getClearProps()),{unit:""})},r.prototype.parseValue=function(t,e){e===void 0&&(e={});var n=Ln.prototype.parseValue.apply(this,arguments),i=this.input.validateInputValue(n.value,Na({deepCheck:1},e)),l=i.value,f=i.unit;return n.value=l,n.unit=f,n},r.prototype.getFullValue=function(){var t=this.get("value"),e=this.get("unit"),n=(0,E.isUndefined)(t)?"":"".concat(t),i=!(0,E.isUndefined)(e)&&n?e:"",l="".concat(n).concat(i);return Ln.prototype.getFullValue.apply(this,[l])},r}(Ln);var Ym=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lp=function(){return lp=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},lp.apply(this,arguments)};const Km=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Ym(r,s),r.prototype.defaults=function(){return lp(lp({},ap.getDefaults()),{showInput:1})},r}(ap);var Xm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cp=function(){return cp=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},cp.apply(this,arguments)};const Jm=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return Xm(r,s),r.prototype.events=function(){return cp(cp({},Xi.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},r.prototype.templateInput=function(t){var e=this.ppfx;return`
      <div class="`.concat(e,"field ").concat(e,`field-range">
        <input type="range" min="`).concat(t.get("min"),'" max="').concat(t.get("max"),'" step="').concat(t.get("step"),`"/>
      </div>
    `)},r.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},r.prototype.inputValueChanged=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value)},r.prototype.inputValueChangedSoft=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},r.prototype.setValue=function(t){var e=this.model,n=e.parseValue(t);this.getSliderEl().value=t===""?e.getDefaultValue():parseFloat(n.value),Xi.prototype.setValue.apply(this,arguments)},r.prototype.onRender=function(){Xi.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},r.prototype.clearCached=function(){Xi.prototype.clearCached.apply(this,arguments),delete this.slider},r}(Xi),jf=h.FE.extend(Ee).extend({extendViewApi:1,init:function(){var s=this.opts,r=this.em,t=s.module||(r==null?void 0:r.get("StyleManager"));t&&(t.__listenAdd(this,t.events.propertyAdd),t.__listenRemove(this,t.events.propertyRemove))},types:[{id:"stack",model:wm,view:Nm,isType:function(s){if(s&&s.type=="stack")return s}},{id:"composite",model:jl,view:jc,isType:function(s){if(s&&s.type=="composite")return s}},{id:"file",model:Ln,view:Fm,isType:function(s){if(s&&s.type=="file")return s}},{id:"color",model:Ln,view:zm,isType:function(s){if(s&&s.type=="color")return s}},{id:"select",model:Af,view:Ed,isType:function(s){if(s&&s.type=="select")return s}},{id:"radio",model:$m,view:qm,isType:function(s){if(s&&s.type=="radio")return s}},{id:"slider",model:Km,view:Jm,isType:function(s){if(s&&s.type=="slider")return s}},{id:"integer",model:ap,view:Xi,isType:function(s){if(s&&s.type=="integer")return s}},{id:"number",model:ap,view:Xi,isType:function(s){if(s&&s.type=="number")return s}},{id:"base",model:Ln,view:Ki,isType:function(s){return s.type="base",s}}]});var Qm=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),up=function(){return up=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},up.apply(this,arguments)},tv=function(s,r){var t={};for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&r.indexOf(e)<0&&(t[e]=s[e]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(e=Object.getOwnPropertySymbols(s);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(s,e[n])&&(t[e[n]]=s[e[n]])}return t},ev=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))};const Pd=function(s){function r(t,e){e===void 0&&(e={});var n=s.call(this,t)||this,i=e.em;n.em=i;var l=t||{},f=n.buildProperties(l.buildProps),d=n.get("name")||"",x=[];!n.get("id")&&n.set("id",d.replace(/ /g,"_").toLowerCase()),x=(x=f?n.extendProperties(f):n.get("properties").map(function(G){return(0,E.isString)(G)?n.buildProperties(G)[0]:G}).filter(Boolean)).map(function(G){return n.checkExtend(G)});var b=new jf(x,{em:i});return b.sector=n,n.set("properties",b),n}return Qm(r,s),r.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.get("id")},r.prototype.getName=function(){var t,e=this.getId();return((t=this.em)===null||t===void 0?void 0:t.t("styleManager.sectors.".concat(e)))||this.get("name")},r.prototype.setName=function(t){return this.set("name",t)},r.prototype.isOpen=function(){return!!this.get("open")},r.prototype.setOpen=function(t){return this.set("open",t)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.getProperties=function(t){t===void 0&&(t={});var e=this.get("properties");return(e.models?ev([],e.models,!0):e).filter(function(n){var i=!0;return t.withValue&&(i=n.hasValue({noParent:!0})),t.withParentValue&&(i=!n.hasValue({noParent:!0})&&n.hasValue()),i})},r.prototype.getProperty=function(t){return this.getProperties().filter(function(e){return e.get("id")===t})[0]||void 0},r.prototype.addProperty=function(t,e){return this.get("properties").add(this.checkExtend(t),e)},r.prototype.extendProperties=function(t,e,n){n===void 0&&(n=!1);for(var i=t.length,l=e||this.get("properties"),f=this.get("extendBuilded"),d=[],x=0,b=l.length;x<b;x++){for(var G=l[x],nt=0,st=0;st<i;st++){var pt=t[st];if(!(G.property!=pt.property&&G.id!=pt.property)){var bt=G.properties;bt&&bt.length&&(G.properties=this.extendProperties(pt.properties||[],bt,1)),t[st]=f?(0,E.extend)(pt,G):G,d[st]=t[st],nt=1}}nt||(t.push(G),d.push(G))}return n?d.filter(function(Et){return Et}):t},r.prototype.checkExtend=function(t){var e=((0,E.isString)(t)?{extend:t}:t)||{},n=e.extend,i=tv(e,["extend"]);return n?up(up({},this.buildProperties([n])[0]||{}),i):t},r.prototype.buildProperties=function(t){var e,n=t||[];if(!n.length)return[];var i=(e=this.em)===null||e===void 0?void 0:e.get("StyleManager").builtIn;return i==null?void 0:i.build(n)},r}(h.Hn);var nv=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pp=function(){return pp=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},pp.apply(this,arguments)};const rv=function(s){function r(){return s!==null&&s.apply(this,arguments)||this}return nv(r,s),r.prototype.initialize=function(t,e){e===void 0&&(e={});var n=e.module,i=e.em;this.em=i,this.module=n,this.listenTo(this,"reset",this.onReset)},r.prototype.model=function(t,e){e===void 0&&(e={});var n=e.collection.em;return new Pd(t,pp(pp({},e),{em:n}))},r.prototype.onReset=function(t,e){e===void 0&&(e={}),(e.previousModels||[]).forEach(function(n){return n.get("properties").reset()})},r}(h.FE);var zs=function(){return zs=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},zs.apply(this,arguments)},ov=function(s,r){var t={};for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&r.indexOf(e)<0&&(t[e]=s[e]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(e=Object.getOwnPropertySymbols(s);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(s,e[n])&&(t[e[n]]=s[e[n]])}return t},Ra=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},cr=function(s){return s.map(function(r){return{id:r}})},iv=function(){function s(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var r=", sans-serif",t=["flex-start","flex-end","center"],e=Ra(Ra([],t,!0),["baseline","stretch"],!1);this.optsBgSize=cr(["auto","cover","contain"]),this.optsBgAttach=cr(["scroll","fixed","local"]),this.optsBgRepeat=cr(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=cr(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=cr(["visible","hidden","scroll","auto"]),this.optsDir=cr(["row","row-reverse","column","column-reverse"]),this.opstDisplay=cr(["block","inline","inline-block","flex","none"]),this.optsTransitFn=cr(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=cr(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=cr(["none","left","right"]),this.optsPos=cr(["static","relative","absolute","fixed"]),this.optsTextAlign=cr(["left","center","right","justify"]),this.optsFlexAlign=cr(e),this.optsJustCont=cr(Ra(Ra([],t,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=cr(Ra(Ra([],t,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=cr(Ra(["auto"],e,!0)),this.optsTransitProp=cr(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=cr(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=cr(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+r,"Arial Black, Gadget"+r,"Brush Script MT"+r,"Comic Sans MS, cursive"+r,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+r,"Impact, Charcoal"+r,"Lucida Sans Unicode, Lucida Grande"+r,"Tahoma, Geneva"+r,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+r,"Verdana, Geneva"+r].map(function(n){return{id:n,label:n.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return s.prototype.__sub=function(r){var t=this;return function(){return r.map(function(e){if((0,E.isString)(e))return t.get(e);var n=e.extend,i=ov(e,["extend"]);return zs(zs({},t.get(n)),i)})}},s.prototype.init=function(){var r=this,t=this,e=t.fixedValues,n=t.requireFlex,i=t.typeNumber;this.props={};var l=[["text-shadow-h",{type:i,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:e},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:n},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:i,default:"0",requiresParent:n}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:n},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:n},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(f,d){var x=d.values,b=x["box-shadow-h"],G=x["box-shadow-v"],nt=x["box-shadow-blur"],st=x["box-shadow-spread"];return"".concat(b," ").concat(G," ").concat(nt," ").concat(st)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(f,d){var x=d.values,b=x["text-shadow-h"],G=x["text-shadow-v"],nt=x["text-shadow-blur"];return"".concat(b," ").concat(G," ").concat(nt)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(f,d){var x=d.values;return[x["background-repeat-sub"]||"",x["background-position-sub"]||"",x["background-attachment-sub"]||"",x["background-size-sub"]||""].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(f,d){var x=d.property,b=f[d.name]||"",G=x.getLayerSeparator();return b?b.split(G).map(function(nt){var st=x.__parseFn(nt);return{"transform-type":st.name,"transform-value":st.value}}):[]},toStyle:function(f,d){var x;return(x={})[d.name]="".concat(f["transform-type"],"(").concat(f["transform-value"],")"),x},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(f){var d=f.property;if(f.to.value){var x=d.getOption(),b=zs({},x.propValue||{}),G=d.getParent().getProperty("transform-value"),nt=G.getUnit();(!nt||(b==null?void 0:b.units.indexOf(nt))<0)&&(b.unit=(b==null?void 0:b.units[0])||""),G.up(b)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return l.forEach(function(f){var d=f[0],x=f[1],b=f[2];r.add(d,x||{},{from:b})}),this},s.prototype.add=function(r,t,e){t===void 0&&(t={}),e===void 0&&(e={});var n=e.from||"",i=this.props[n||r]||{},l=zs(zs(zs({},i),{property:r}),t);return l.properties&&(0,E.isFunction)(l.properties)&&(l.properties=l.properties()),this.props[r]=l,l},s.prototype.get=function(r){return this.props[r]},s.prototype.build=function(r){var t=this,e=[];return((0,E.isString)(r)?[r]:r).forEach(function(n){e.push(t.get(n)||{property:n})}),e},s}();const sv=iv;var av=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lv=function(s,r){return Object.defineProperty?Object.defineProperty(s,"raw",{value:r}):s.raw=r,s},cv=function(s){function r(t){var e=s.call(this,t)||this,n=t.config||{},i=e.model,l=n.em;return e.config=n,e.em=l,e.pfx=n.stylePrefix||"",e.listenTo(i,"destroy remove",e.remove),e.listenTo(i,"change:open",e.updateOpen),e.listenTo(i,"change:visible",e.updateVisibility),e}return av(r,s),r.prototype.template=function(t){var e,n=t.pfx,i=t.label,l=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,f=(l==null?void 0:l.caret)||"",d="".concat(n,"sector-");return Z(Ad||(Ad=lv([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),d,d,f,d,i)},r.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},r.prototype.updateOpen=function(){var t=this,e=t.$el,n=t.model,i=t.pfx,l=n.isOpen();e[l?"addClass":"removeClass"]("".concat(i,"open")),this.getPropertiesEl().style.display=l?"":"none"},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.getPropertiesEl=function(){var t=this.$el,e=this.pfx;return t.find(".".concat(e,"properties")).get(0)},r.prototype.toggle=function(){var t=this.model;t.setOpen(!t.get("open"))},r.prototype.renderProperties=function(){var t=this.model,e=this.config,n=t.get("properties");if(n){var i=new Pf({collection:n,config:e});this.$el.append(i.render().el)}},r.prototype.render=function(){var t=this,e=t.pfx,n=t.model,i=t.$el,l=n.getId(),f=n.getName();return i.html(this.template({pfx:e,label:f})),this.renderProperties(),i.attr("class","".concat(e,"sector ").concat(e,"sector__").concat(l," no-select")),this.updateOpen(),this},r}(h.G7);const uv=cv;var Ad,pv=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fv=function(s){function r(t){t===void 0&&(t={});var e=s.call(this,t)||this,n=t.module,i=t.config,l=e.collection;return e.pfx=(i==null?void 0:i.stylePrefix)||"",e.ppfx=(i==null?void 0:i.pStylePrefix)||"",e.config=i,e.module=n,e.listenTo(l,"add",e.addTo),e.listenTo(l,"reset",e.render),e}return pv(r,s),r.prototype.remove=function(){var t=this;return h.G7.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(e){return t[e]={}}),this},r.prototype.addTo=function(t,e,n){n===void 0&&(n={}),this.addToCollection(t,null,n)},r.prototype.addToCollection=function(t,e,n){n===void 0&&(n={});var i=this.config,l=this.el,f=e||l,d=new uv({model:t,config:i}).render().el;return(0,ue.$Q)(f,d,n.at),d},r.prototype.render=function(){var t=this,e=this,n=e.$el,i=e.pfx,l=e.ppfx;n.empty();var f=document.createDocumentFragment();return this.collection.each(function(d){return t.addToCollection(d,f)}),n.append(f),n.addClass("".concat(i,"sectors ").concat(l,"one-bg ").concat(l,"two-color")),this},r}(h.G7);const dv=fv;var hv=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bs=function(){return Bs=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Bs.apply(this,arguments)},jd=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},Md="style",Mc="".concat(Md,":"),Mf="".concat(Mc,"sector"),gv="".concat(Mf,":add"),mv="".concat(Mf,":remove"),vv="".concat(Mf,":update"),Lf="".concat(Mc,"property"),yv="".concat(Lf,":add"),bv="".concat(Lf,":remove"),wv="".concat(Lf,":update"),Ld="".concat(Mc,"layer:select"),Df="".concat(Mc,"target"),_v="".concat(Mc,"custom"),Dd=function(s){return s||s===0},xv={all:Md,sectorAdd:gv,sectorRemove:mv,sectorUpdate:vv,propertyAdd:yv,propertyRemove:bv,propertyUpdate:wv,layerSelect:Ld,target:Df,custom:_v},Cv=function(s){function r(t){var e=s.call(this,t,"StyleManager",new rv([],{em:t}),xv,im)||this;e.Sector=Pd,e.storageKey="",(0,E.bindAll)(e,"__clearStateTarget");var n=e.config,i=n.pStylePrefix;i&&(n.stylePrefix=i+n.stylePrefix),e.builtIn=new sv,e.properties=new jf([],{em:t,module:e}),e.sectors=e.all;var l=new h.Hn({targets:[]});e.model=l,e.upAll=(0,E.debounce)(function(){return e.__upSel()},0),l.listenTo(t,"component:toggled component:update:classes change:state change:device frame:resized selector:type",e.upAll),l.listenTo(t,"component:toggled",e.__clearStateTarget);var f=(0,E.debounce)(function(){e.__upProps(),e.__trgCustom()},0);l.listenTo(t,"styleable:change undo redo",f);var d=(0,E.debounce)(function(){return e.__trgCustom()},0);return l.listenTo(t,"".concat(Ld," ").concat(Df),d),l.on("change:lastTarget",function(){return t.trigger(Df,e.getSelected())}),e}return hv(r,s),r.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},r.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},r.prototype.__trgEv=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];(e=this.em).trigger.apply(e,jd([t],n,!1))},r.prototype.__clearStateTarget=function(){var t=this,e=this.em,n=this.__getStateTarget();n&&(e==null||e.skip(function(){e.Css.remove(n),t.model.set({stateTarget:null})}))},r.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},r.prototype.postRender=function(){this.__appendTo()},r.prototype.addSector=function(t,e,n){n===void 0&&(n={});var i=this.getSector(t);return i||(e.id=t,i=this.sectors.add(e,n)),i},r.prototype.getSector=function(t,e){e===void 0&&(e={});var n=this.sectors.where({id:t})[0];return!n&&e.warn&&this._logNoSector(t),n||null},r.prototype.getSectors=function(t){t===void 0&&(t={});var e=this.sectors,n=e&&e.models?t.array?jd([],e.models,!0):e:[];return t.visible?n.filter(function(i){return i.isVisible()}):n},r.prototype.removeSector=function(t){return this.getSectors().remove(this.getSector(t,{warn:!0}))},r.prototype.addProperty=function(t,e,n){n===void 0&&(n={});var i=this.getSector(t,{warn:!0}),l=null;return i&&(l=i.addProperty(e,n)),l},r.prototype.getProperty=function(t,e){var n,i=this.getSector(t,{warn:!0});return i&&(n=i.properties.filter(function(l){return l.get("property")===e||l.get("id")===e})[0]),n},r.prototype.getProperties=function(t){var e,n=this.getSector(t,{warn:!0});return n&&(e=n.properties),e},r.prototype.removeProperty=function(t,e){var n=this.getProperties(t);return n?n.remove(this.getProperty(t,e)):null},r.prototype.select=function(t,e){var n=this;e===void 0&&(e={});var i=this.em,l=(0,E.isArray)(t)?t:[t],f=e.stylable,d=i.Css,x=[];l.filter(Boolean).forEach(function(bt){var Et=bt;if((0,E.isString)(bt)){var Ot=d.getRule(bt)||d.setRule(bt);!(0,E.isUndefined)(f)&&Ot.set({stylable:f}),Et=Ot}x.push(Et)});var b=e.component||x.filter(function(bt){return(0,K.isComponent)(bt)}).reverse()[0];x=x.map(function(bt){return n.getModelToStyle(bt)});var G=i.getState(),nt=x.slice().reverse()[0],st=this.getParentRules(nt,{state:G,component:b}),pt=this.__getStateTarget();return i.skip(function(){var bt;if(G&&(!((bt=nt==null?void 0:nt.getState)===null||bt===void 0)&&bt.call(nt))){var Et=nt.getStyle();pt?pt.setStyle(Et):pt=d.getAll().add({selectors:"gjs-selected",style:Et,shallow:!0,important:!0})}else pt&&(d.remove(pt),pt=void 0)}),this.model.set({targets:x,lastTarget:nt,lastTargetParents:st,stateTarget:pt,component:b}),this.__upProps(e),x},r.prototype.getSelected=function(){return this.model.get("lastTarget")},r.prototype.getSelectedAll=function(){return this.model.get("targets")},r.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},r.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},r.prototype.addStyleTargets=function(t,e){this.getSelectedAll().map(function(l){return l.addStyle(t,e)});var n=this.getSelected();n&&this.__emitCmpStyleUpdate(t);var i=this.__getStateTarget();n&&(i==null||i.setStyle(n.getStyle(),e))},r.prototype.getBuiltIn=function(t){return this.builtIn.get(t)},r.prototype.getBuiltInAll=function(){return this.builtIn.props},r.prototype.addBuiltIn=function(t,e){return this.builtIn.add(t,e)},r.prototype.getModelToStyle=function(t,e){e===void 0&&(e={});var n=this.em,i=e.skipAdd;if(n&&(t!=null&&t.toHTML)){var l=n.getConfig(),f=n.UndoManager,d=n.Css,x=n.Selectors,b=x?x.getConfig():{},G=l.devicePreviewMode?"":n.get("state"),nt=t.get("classes").getStyleable(),st=nt.length,pt=!b.componentFirst||e.useClasses,bt={noCount:1},Et={state:G,addOpts:bt},Ot=void 0;if(f.stop(),st&&pt){var Zt=n.getCurrentMedia();(Ot=d.get(nt,G,Zt))||i||(Ot=d.add(nt,G,Zt,{},bt))}else if(l.avoidInlineStyle){var Qt=t.getId();!(Ot=d.getIdRule(Qt,Et))&&!i&&(Ot=d.setIdRule(Qt,{},Et)),t.is("wrapper")&&Ot.set("wrapper",1,bt)}Ot&&(t=Ot),f.start()}return t},r.prototype.getParentRules=function(t,e){var n=e===void 0?{}:e,i=n.state,l=n.component,f=this.em,d=[];if(f&&t){var x=l,b=f.Css,G=f.CodeManager.getGenerator("css"),nt=t.toHTML?t:t.getComponent(),st={combination:!0,array:!0},pt=[],bt=[],Et=[];nt?(pt=b.getRules("#".concat(nt.getId())),Et=(bt=x?b.getRules(x.getSelectors().getFullName(st)):[]).concat(pt)):(pt=x?b.getRules("#".concat(x.getId())):[],bt=b.getRules(t.getSelectors().getFullName(st)),Et=pt.concat(bt));var Ot=Et.filter(function(Zt){return(0,E.isUndefined)(i)?1:Zt.get("state")===i}).sort(G.sortRules).reverse();d=Ot.slice(Ot.indexOf(t)+1)}return d},r.prototype.addType=function(t,e){this.properties.addType(t,e)},r.prototype.getType=function(t){return this.properties.getType(t)},r.prototype.getTypes=function(){return this.properties.getTypes()},r.prototype.createType=function(t,e){var n=e===void 0?{}:e,i=n.model,l=i===void 0?{}:i,f=n.view,d=f===void 0?{}:f,x=this.config,b=this.getType(t);if(b)return new b.view(Bs({model:new b.model(l),config:x},d))},r.prototype.render=function(){var t=this,e=t.config,n=t.em,i=t.SectView,l=i&&i.el;return this.SectView=new dv({el:l,em:n,config:e,module:this,collection:this.sectors}),this.SectView.render().el},r.prototype._logNoSector=function(t){var e=this.em;e&&e.logWarning("'".concat(t,"' sector not found"))},r.prototype.__emitCmpStyleUpdate=function(t,e){e===void 0&&(e={});var n=this.em,i="component:styleUpdate";if(!t.__p){var l=e.components||n.getSelectedAll(),f=Array.isArray(l)?l:[l],d=Bs({},t);delete d.__p;var x=Object.keys(d),b={style:d};f.forEach(function(G){n.trigger(i,G,b),x.forEach(function(nt){return n.trigger("".concat(i,":").concat(nt),G,b)})})}},r.prototype.__upProps=function(t){var e=this;t===void 0&&(t={});var n=this.getSelected();if(n){var i=this.sectors,l=this.model.get("component"),f=this.getSelectedParents(),d=n.getStyle(),x=f.map(function(b){return{target:b,style:b.getStyle()}});i.map(function(b){b.getProperties().map(function(G){e.__upProp(G,d,x,t)})}),i.forEach(function(b){var G=b.getProperties();G.forEach(function(st){var pt=st.__checkVisibility({target:n,component:l,sectors:i});st.set("visible",pt)});var nt=G.some(function(st){return st.isVisible()});b.set("visible",nt)})}},r.prototype.__upProp=function(t,e,n,i){var l=this,f=t.getName(),d=e[f],x=Dd(d),b=t.getType()==="stack",G=t.getType()==="composite",nt=Bs(Bs({},i),{__up:!0}),st=!G&&!b,pt=b?t.__getLayersFromStyle(e):[],bt=G?t.__getPropsFromStyle(e):{},Et=x?d:null,Ot=null;if(b&&pt===null||G&&bt===null){var Zt=b?"__getLayersFromStyle":"__getPropsFromStyle";if(ve=n.filter(function(en){return t[Zt](en.style)!==null})[0]){Et=ve.style[f],Ot=ve.target;var Qt=t[Zt](ve.style);b?pt=Qt:bt=Qt}}else if(!x){var ve;Et=null,(ve=n.filter(function(en){return Dd(en.style[f])})[0])&&(Et=ve.style[f],Ot=ve.target)}if(t.__setParentTarget(Ot),st&&t.__getFullValue()!==Et&&t.upValue(Et,nt),b&&t.__setLayers(pt||[]),G){var ye=t.getProperties();if(t.isDetached()){var Re=t.__getPropsFromStyle(e,{byName:!0})||{},Be=n.map(function(en){return Bs(Bs({},en),{style:t.__getPropsFromStyle(en.style,{byName:!0})||{}})});ye.map(function(en){return l.__upProp(en,Re,Be,i)})}else t.__setProperties(bt||{},nt),t.getProperties().map(function(en){return en.__setParentTarget(Ot)})}},r.prototype.destroy=function(){var t;[this.properties,this.sectors].forEach(function(e){e.reset(),e.stopListening()}),(t=this.SectView)===null||t===void 0||t.remove(),this.model.stopListening(),this.upAll.cancel()},r}(M);const Sv=Cv;var Ov=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Br=function(){return Br=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Br.apply(this,arguments)},If=function(s,r,t,e){return new(t||(t=Promise))(function(n,i){function l(x){try{d(e.next(x))}catch(b){i(b)}}function f(x){try{d(e.throw(x))}catch(b){i(b)}}function d(x){var b;x.done?n(x.value):(b=x.value,b instanceof t?b:new t(function(G){G(b)})).then(l,f)}d((e=e.apply(s,r||[])).next())})},Nf=function(s,r){var t,e,n,i,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function f(d){return function(x){return function(b){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,b[0]&&(l=0)),l;)try{if(t=1,e&&(n=2&b[0]?e.return:b[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,b[1])).done)return n;switch(e=0,n&&(b=[2&b[0],n.value]),b[0]){case 0:case 1:n=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,e=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(n=l.trys,!((n=n.length>0&&n[n.length-1])||b[0]!==6&&b[0]!==2)){l=0;continue}if(b[0]===3&&(!n||b[1]>n[0]&&b[1]<n[3])){l.label=b[1];break}if(b[0]===6&&l.label<n[1]){l.label=n[1],n=b;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(b);break}n[2]&&l.ops.pop(),l.trys.pop();continue}b=r.call(s,l)}catch(G){b=[6,G],e=0}finally{t=n=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([d,x])}}},kv=function(s,r){var t={};for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&r.indexOf(e)<0&&(t[e]=s[e]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(e=Object.getOwnPropertySymbols(s);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(s,e[n])&&(t[e[n]]=s[e[n]])}return t},Tv=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))};j().$=C.default;var Ev=[zh,Lh,Kh,Gg,ju,Ht,Kp,Sv,vu,rg,Vg,wg,tm,Uu,u,Te,om,$p],Pv=[Ph,Jl,le,Np];(function(s){var r=s.$;if(r&&r.prototype&&r.prototype.constructor.name!=="jQuery"){var t=r.fn;t.hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var i=this.get(0);return i&&i.focus(),this},t.bind=function(i,l){return this.on(i,l)},t.unbind=function(i,l){if((0,E.isObject)(i)){for(var f in i)i.hasOwnProperty(f)&&this.off(f,i[f]);return this}return this.off(i,l)},t.click=function(i){return i?this.on("click",i):this.trigger("click")},t.change=function(i){return i?this.on("change",i):this.trigger("change")},t.keydown=function(i){return i?this.on("keydown",i):this.trigger("keydown")},t.delegate=function(i,l,f,d){return d||(d=f),this.on(l,i,function(x){x.data=f,d(x)})},t.scrollLeft=function(){var i=this.get(0),l=(i=i.nodeType==9?i.defaultView:i)instanceof Window?i:null;return l?l.pageXOffset:i.scrollLeft||0},t.scrollTop=function(){var i=this.get(0),l=(i=i.nodeType==9?i.defaultView:i)instanceof Window?i:null;return l?l.pageYOffset:i.scrollTop||0};var e=r.prototype.offset;t.offset=function(i){var l,f;return i&&(l=i.top,f=i.left),l!==void 0&&this.css("top","".concat(l,"px")),f!==void 0&&this.css("left","".concat(f,"px")),e.call(this)},r.map=function(i,l){for(var f=[],d=0;d<i.length;d++)f.push(l(i[d],d));return f};var n=Array.prototype.indexOf;r.inArray=function(i,l,f){return l==null?-1:n.call(l,i,f)},r.Event=function(i,l){if(!(this instanceof r.Event))return new r.Event(i,l);this.type=i,this.isDefaultPrevented=function(){return!1}}}})({$:C.default});var Id={debug:console.log,info:console.info,warning:console.warn,error:console.error},Av=function(s){function r(t){t===void 0&&(t={});var e=s.call(this)||this;e.__skip=!1,e.defaultRunning=!1,e.destroyed=!1,e._config=t;var n=e.config;e.set("Config",t),e.set("modules",[]),e.set("toLoad",[]),e.set("storables",[]),e.set("selected",new g),e.set("dmode",n.dragMode);var i=n.el,l=n.log,f=l===!0?(0,E.keys)(Id):(0,E.isArray)(l)?l:[];return(0,E.bindAll)(e,"initBaseColorPicker"),i&&n.fromElement&&(n.components=i.innerHTML),e.attrsOrig=i?(0,E.toArray)(i.attributes).reduce(function(d,x){return d[x.nodeName]=x.nodeValue,d},{}):"",n.components&&!n.pageManager&&(n.pageManager={pages:[{component:n.components}]}),Ev.forEach(function(d){return e.loadModule(d)}),Pv.forEach(function(d){return e.loadStorableModule(d)}),e.on("change:componentHovered",e.componentHovered,e),e.on("change:changesCount",e.updateChanges,e),e.on("change:readyLoad change:readyCanvas",e._checkReady,e),f.forEach(function(d){return e.listenLog(d)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(d){var x=d.from,b=d.to;e.listenTo(e,x,function(){for(var G=[],nt=0;nt<arguments.length;nt++)G[nt]=arguments[nt];e.trigger.apply(e,Tv([b],G,!1)),e.logWarning("The event '".concat(x,"' is deprecated, replace it with '").concat(b,"'"))})}),e}return Ov(r,s),r.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(r.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),r.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},r.prototype.getContainer=function(){return this.config.el},r.prototype.listenLog=function(t){this.listenTo(this,"log:".concat(t),Id[t])},Object.defineProperty(r.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),r.prototype.getConfig=function(t){var e=this.config;return(0,E.isUndefined)(t)?e:e[t]},r.prototype.loadOnStart=function(){var t=this,e=this.config,n=e.projectData,i=e.headless,l=this.get("StorageManager");this.toLoad.reverse().forEach(function(x){return x.onLoad()});var f=function(){t.modules.forEach(function(x){return x.postLoad&&x.postLoad(t)}),t.set("readyLoad",1)};i?(n&&this.loadData(n),f()):this._storageTimeout=setTimeout(function(){return If(t,void 0,void 0,function(){var x;return Nf(this,function(b){switch(b.label){case 0:return n?(this.loadData(n),[3,5]):[3,1];case 1:if(!(l!=null&&l.canAutoload()))return[3,5];b.label=2;case 2:return b.trys.push([2,4,,5]),[4,this.load()];case 3:return b.sent(),[3,5];case 4:return x=b.sent(),this.logError(x),[3,5];case 5:return f(),[2]}})})});var d=new r({noticeOnUnload:!1,storageManager:!1,undoManager:!1});d.Pages.onLoad(),d.Canvas.postLoad(),this.set("shallow",d)},r.prototype.updateChanges=function(){var t=this,e=this.get("StorageManager"),n=this.getDirtyCount();this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return t.trigger("update")}),this.config.noticeOnUnload&&(window.onbeforeunload=n?function(){return!0}:null),e.isAutosave()&&n>=e.getStepsBeforeSave()&&this.store().catch(function(i){return t.logError(i)})},r.prototype.loadModule=function(t){var e=new t(this);return this.set(e.name,e),e.onLoad&&this.toLoad.push(e),this.modules.push(e),e},r.prototype.loadStorableModule=function(t){var e=this.loadModule(t);return this.storables.push(e),e},r.prototype.init=function(t,e){e===void 0&&(e={}),this.destroyed&&(this.initialize(e),this.destroyed=!1),this.set("Editor",t)},r.prototype.getEditor=function(){return this.get("Editor")},r.prototype.handleUpdates=function(t,e,n){var i=this;n===void 0&&(n={}),this.__skip||n.temporary||n.noCount||n.avoidStore||!this.get("ready")||(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var l=i.getDirtyCount()||0,f=(n.unset,kv(n,["unset"]));i.set("changesCount",l+1,f)},0))},r.prototype.changesUp=function(t){this.handleUpdates(0,0,t)},r.prototype.componentHovered=function(t,e,n){var i=this.previous("componentHovered");i&&this.trigger("component:unhovered",i,n),e&&this.trigger("component:hovered",e,n)},r.prototype.getSelected=function(){return this.selected.lastComponent()},r.prototype.getSelectedAll=function(){return this.selected.allComponents()},r.prototype.setSelected=function(t,e){var n=this;e===void 0&&(e={});var i=e.event,l=i&&(i.ctrlKey||i.metaKey),f=(i||{}).shiftKey,d=((0,E.isArray)(t)?t:[t]).map(function(nt){return(0,K.getModel)(nt,C.default)}),x=this.getSelectedAll(),b=this.getConfig().multipleSelection,G=(0,E.isArray)(t);G&&this.removeSelected(x.filter(function(nt){return!(0,E.contains)(d,nt)})),d.forEach(function(nt){var st=(0,K.getModel)(nt,void 0);if(st&&(n.trigger("component:select:before",st,e),!st.get("selectable")||e.abort)){if(!e.useValid)return;for(var pt=st.parent();pt&&!pt.get("selectable");)pt=pt.parent();st=pt}if(l&&b)return n.toggleSelected(st);if(f&&b){n.clearSelection(n.get("Canvas").getWindow());var bt,Et,Ot=st.collection,Zt=st.index();if(n.getSelectedAll().forEach(function(Qt){var ve=Qt.collection,ye=Qt.index();ve===Ot&&(ye<Zt?bt=(0,E.isUndefined)(bt)?ye:Math.max(bt,ye):ye>Zt&&(Et=(0,E.isUndefined)(Et)?ye:Math.min(Et,ye)))}),!(0,E.isUndefined)(bt))for(;bt!==Zt;)n.addSelected(Ot.at(bt)),bt++;if(!(0,E.isUndefined)(Et))for(;Et!==Zt;)n.addSelected(Ot.at(Et)),Et--;return n.addSelected(st)}!G&&n.removeSelected(x.filter(function(Qt){return Qt!==st})),n.addSelected(st,e)})},r.prototype.addSelected=function(t,e){var n=this;e===void 0&&(e={});var i=(0,K.getModel)(t,C.default);((0,E.isArray)(i)?i:[i]).forEach(function(l){var f=n.selected;l&&l.get("selectable")&&!l.parents().some(function(d){return f.hasComponent(d)})&&(e.forceChange&&n.removeSelected(l,e),f.allComponents().filter(function(d){return(0,E.contains)(d.parents(),l)}).forEach(function(d){return n.removeSelected(d,e)}),f.addComponent(l,e),n.trigger("component:select",l,e),n.Canvas.addSpot({type:Ke.q.Select,component:l}))})},r.prototype.removeSelected=function(t,e){var n=this;e===void 0&&(e={});var i=(0,K.getModel)(t,C.default);this.selected.removeComponent(i,e),((0,E.isArray)(i)?i:[i]).forEach(function(l){return n.Canvas.removeSpots({type:Ke.q.Select,component:l})})},r.prototype.toggleSelected=function(t,e){var n=this;e===void 0&&(e={});var i=(0,K.getModel)(t,C.default);((0,E.isArray)(i)?i:[i]).forEach(function(l){n.selected.hasComponent(l)?n.removeSelected(l,e):n.addSelected(l,e)})},r.prototype.setHovered=function(t,e){var n=this;e===void 0&&(e={});var i=function(x,b){var G=n,nt=G.config,st=G.Canvas,pt=n.getHovered(),bt=n.getSelectedAll(),Et=Ke.q.Hover,Ot=Ke.q.Spacing;n.set("componentHovered",x||null,b),pt&&(st.removeSpots({type:Et,component:pt}),st.removeSpots({type:Ot,component:pt})),x&&(st.addSpot({type:Et,component:x}),bt.includes(x)&&!nt.showOffsetsSelected||st.addSpot({type:Ot,component:x}))};if(!t)return i();var l="component:hover",f=(0,K.getModel)(t,void 0);if(f){if(e.forceChange&&i(),this.trigger("".concat(l,":before"),f,e),!f.get("hoverable")){if(!e.useValid||e.abort)return;for(var d=f.parent();d&&!d.get("hoverable");)d=d.parent();f=d}e.abort||(i(f,e),this.trigger(l,f,e))}},r.prototype.getHovered=function(){return this.get("componentHovered")},r.prototype.setComponents=function(t,e){return e===void 0&&(e={}),this.Components.setComponents(t,e)},r.prototype.getComponents=function(){var t=this.Components,e=this.CodeManager;if(t&&e){var n=t.getComponents();return e.getCode(n,"json")}},r.prototype.setStyle=function(t,e){e===void 0&&(e={});var n=this.Css;return n.clear(e),n.getAll().add(t,e),this},r.prototype.addStyle=function(t,e){e===void 0&&(e={});var n=this.getStyle().add(t,e);return(0,E.isArray)(n)?n:[n]},r.prototype.getStyle=function(){return this.Css.getAll()},r.prototype.setState=function(t){return this.set("state",t),this},r.prototype.getState=function(){return this.get("state")||""},r.prototype.getHtml=function(t){t===void 0&&(t={});var e=this.config,n=e.optsHtml,i=e.jsInHtml?this.getJs(t):"",l=t.component||this.Components.getComponent(),f=l?this.CodeManager.getCode(l,"html",Br(Br({},n),t)):"";return f+=i?"<script>".concat(i,"<\/script>"):""},r.prototype.getCss=function(t){t===void 0&&(t={});var e=this.config,n=e.optsCss,i=t.avoidProtected,l=(0,E.isUndefined)(t.keepUnusedStyles)?e.keepUnusedStyles:t.keepUnusedStyles,f=this.Css,d=t.component||this.Components.getComponent(),x=i?"":e.protectedCss,b=d&&this.CodeManager.getCode(d,"css",Br(Br({cssc:f,keepUnusedStyles:l},n),t));return d?t.json?b:x+b:""},r.prototype.getJs=function(t){t===void 0&&(t={});var e=t.component||this.Components.getWrapper();return e?this.CodeManager.getCode(e,"js").trim():""},r.prototype.store=function(t){return If(this,void 0,void 0,function(){var e;return Nf(this,function(n){switch(n.label){case 0:return e=this.storeData(),[4,this.Storage.store(e,t)];case 1:return n.sent(),this.clearDirtyCount(),[2,e]}})})},r.prototype.load=function(t){return If(this,void 0,void 0,function(){var e;return Nf(this,function(n){switch(n.label){case 0:return[4,this.Storage.load(t)];case 1:return e=n.sent(),this.loadData(e),[2,e]}})})},r.prototype.storeData=function(){var t={},e=this.getEditing();return e&&e.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(n){t=Br(Br({},t),n.store(1))}),JSON.parse(JSON.stringify(t))},r.prototype.loadData=function(t){return t===void 0&&(t={}),(0,K.isEmptyObj)(t)||(this.storables.forEach(function(e){return e.clear()}),this.storables.forEach(function(e){return e.load(t)})),t},r.prototype.getDeviceModel=function(){var t=this.get("device");return this.Devices.get(t)},r.prototype.runDefault=function(t){t===void 0&&(t={});var e=this.get("Commands").get(this.config.defaultCommand);e&&!this.defaultRunning&&(e.stop(this,this,t),e.run(this,this,t),this.defaultRunning=!0)},r.prototype.stopDefault=function(t){t===void 0&&(t={});var e=this.get("Commands").get(this.config.defaultCommand);e&&this.defaultRunning&&(e.stop(this,this,t),this.defaultRunning=!1)},r.prototype.refreshCanvas=function(t){t===void 0&&(t={}),this.set("canvasOffset",null),this.set("canvasOffset",this.Canvas.getOffset()),t.tools&&this.trigger("canvas:updateTools")},r.prototype.clearSelection=function(t){var e;(e=(t||window).getSelection())===null||e===void 0||e.removeAllRanges()},r.prototype.getCurrentMedia=function(){var t=this.config,e=this.getDeviceModel(),n=t.mediaCondition,i=t.devicePreviewMode,l=e&&e.get("widthMedia");return e&&l&&!i?"(".concat(n,": ").concat(l,")"):""},r.prototype.getWrapper=function(){return this.Components.getWrapper()},r.prototype.setCurrentFrame=function(t){return this.set("currentFrame",t)},r.prototype.getCurrentFrame=function(){return this.get("currentFrame")},r.prototype.getCurrentFrameModel=function(){var t;return(t=this.getCurrentFrame()||{})===null||t===void 0?void 0:t.model},r.prototype.getIcon=function(t){return(this.config.icons||{})[t]||""},r.prototype.getDirtyCount=function(){return this.get("changesCount")},r.prototype.clearDirtyCount=function(){return this.set("changesCount",0)},r.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},r.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},r.prototype.setDragMode=function(t){return this.set("dmode",t)},r.prototype.getDragMode=function(t){return(t==null?void 0:t.getDragMode())||this.get("dmode")||""},r.prototype.t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.get("I18n");return n==null?void 0:n.t.apply(n,t)},r.prototype.inAbsoluteMode=function(t){return this.getDragMode(t)==="absolute"},r.prototype.destroyAll=function(){var t=this,e=this.config,n=this.view,i=this.getEditor(),l=(e.grapesjs||{}).editors,f=l===void 0?[]:l,d=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),d==null||d.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach(function(x){return x.destroy()}),n&&n.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(x){return t[x]={}}),f.splice(f.indexOf(i),1),(0,K.hasWin)()&&(0,C.default)(e.el).empty().attr(this.attrsOrig)},r.prototype.getEditing=function(){var t=this.get("editing");return t&&t.model||void 0},r.prototype.setEditing=function(t){return this.set("editing",t),this},r.prototype.isEditing=function(){return!!this.get("editing")},r.prototype.log=function(t,e){e===void 0&&(e={});var n=e.ns,i=e.level,l=i===void 0?"debug":i;if(this.trigger("log",t,e),l&&this.trigger("log:".concat(l),t,e),n){var f="log-".concat(n);this.trigger(f,t,e),l&&this.trigger("".concat(f,":").concat(l),t,e)}},r.prototype.logInfo=function(t,e){this.log(t,Br(Br({},e),{level:"info"}))},r.prototype.logWarning=function(t,e){this.log(t,Br(Br({},e),{level:"warning"}))},r.prototype.logError=function(t,e){this.log(t,Br(Br({},e),{level:"error"}))},r.prototype.initBaseColorPicker=function(t,e){e===void 0&&(e={});var n=this.config,i=n.colorPicker,l=i===void 0?{}:i,f=n.el,d=n.stylePrefix;return(0,C.default)(t).spectrum(Br(Br({containerClassName:"".concat(d,"one-bg ").concat(d,"two-color"),appendTo:f||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"⨯"},e),l))},r.prototype.skip=function(t){this.__skip=!0;var e=this.UndoManager;e?e.skip(t):t(),this.__skip=!1},r.prototype.data=function(t,e,n){var i="_gjs-data";if(t[i]||(t[i]={}),(0,E.isUndefined)(n))return t[i][e];t[i][e]=n},r}(h.Hn);const jv=Av;var Mv=function(){var s=function(r,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},s(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}s(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lv=function(s){function r(t){var e=s.call(this,{model:t})||this,n=t.attributes,i=n.Panels,l=n.UndoManager;return t.view=e,t.once("change:ready",function(){i.active(),i.disableButtons(),l.clear(),setTimeout(function(){t.trigger("load",t.get("Editor")),t.clearDirtyCount()})}),e}return Mv(r,s),r.prototype.render=function(){var t=this,e=this.$el,n=this.model,i=n.attributes,l=i.Panels,f=i.Canvas,d=n.config,x=n.modules,b=d.stylePrefix,G=["".concat(b,"editor")];!d.customUI&&G.push("".concat(b,"one-bg ").concat(b,"two-color"));var nt=(0,C.default)(d.el||"body ".concat(d.container));d.cssIcons&&(0,K.appendStyles)(d.cssIcons,{unique:!0,prepand:!0}),e.empty(),d.width&&nt.css("width",d.width),d.height&&nt.css("height",d.height),e.append(f.render()),e.append(l.render());var st=n.get("shallow").get("Canvas").render();return st.style.display="none",e.append(st),e.attr("class",G.join(" ")),nt.addClass("".concat(b,"editor-cont")).empty().append(e),x.forEach(function(pt){return pt.postRender&&pt.postRender(t)}),this},r}(h.G7);const Dv=Lv;var Lc=function(){return Lc=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},Lc.apply(this,arguments)},Nd=function(s,r,t,e){return new(t||(t=Promise))(function(n,i){function l(x){try{d(e.next(x))}catch(b){i(b)}}function f(x){try{d(e.throw(x))}catch(b){i(b)}}function d(x){var b;x.done?n(x.value):(b=x.value,b instanceof t?b:new t(function(G){G(b)})).then(l,f)}d((e=e.apply(s,r||[])).next())})},Rd=function(s,r){var t,e,n,i,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function f(d){return function(x){return function(b){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,b[0]&&(l=0)),l;)try{if(t=1,e&&(n=2&b[0]?e.return:b[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,b[1])).done)return n;switch(e=0,n&&(b=[2&b[0],n.value]),b[0]){case 0:case 1:n=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,e=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(n=l.trys,!((n=n.length>0&&n[n.length-1])||b[0]!==6&&b[0]!==2)){l=0;continue}if(b[0]===3&&(!n||b[1]>n[0]&&b[1]<n[3])){l.label=b[1];break}if(b[0]===6&&l.label<n[1]){l.label=n[1],n=b;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(b);break}n[2]&&l.ops.pop(),l.trys.pop();continue}b=r.call(s,l)}catch(G){b=[6,G],e=0}finally{t=n=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([d,x])}}},Iv=function(s,r,t){if(t||arguments.length===2)for(var e,n=0,i=r.length;n<i;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return s.concat(e||Array.prototype.slice.call(r))},Nv=function(){function s(r,t){var e;r===void 0&&(r={}),t===void 0&&(t={}),this.html=Z,this.config=Lc(Lc(Lc({},F),r),{pStylePrefix:(e=r.stylePrefix)!==null&&e!==void 0?e:F.stylePrefix}),this.em=new jv(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(s.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),s.prototype.getConfig=function(r){return this.em.getConfig(r)},s.prototype.getHtml=function(r){return this.em.getHtml(r)},s.prototype.getCss=function(r){return this.em.getCss(r)},s.prototype.getJs=function(r){return this.em.getJs(r)},s.prototype.getComponents=function(){return this.Components.getComponents()},s.prototype.getWrapper=function(){return this.Components.getWrapper()},s.prototype.setComponents=function(r,t){return t===void 0&&(t={}),this.em.setComponents(r,t),this},s.prototype.addComponents=function(r,t){return this.getWrapper().append(r,t)},s.prototype.getStyle=function(){return this.em.Css.getAll()},s.prototype.setStyle=function(r,t){return t===void 0&&(t={}),this.em.setStyle(r,t),this},s.prototype.addStyle=function(r,t){return t===void 0&&(t={}),this.em.addStyle(r,t)},s.prototype.getSelected=function(){return this.em.getSelected()},s.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},s.prototype.getSelectedToStyle=function(){var r=this.em.getSelected();if(r)return this.StyleManager.getModelToStyle(r)},s.prototype.select=function(r,t){return this.em.setSelected(r,t),this},s.prototype.selectAdd=function(r){return this.em.addSelected(r),this},s.prototype.selectRemove=function(r){return this.em.removeSelected(r),this},s.prototype.selectToggle=function(r){return this.em.toggleSelected(r),this},s.prototype.getEditing=function(){return this.em.getEditing()},s.prototype.setDevice=function(r){return this.em.set("device",r),this},s.prototype.getDevice=function(){return this.em.get("device")},s.prototype.runCommand=function(r,t){return t===void 0&&(t={}),this.Commands.run(r,t)},s.prototype.stopCommand=function(r,t){return t===void 0&&(t={}),this.Commands.stop(r,t)},s.prototype.store=function(r){return Nd(this,void 0,void 0,function(){return Rd(this,function(t){switch(t.label){case 0:return[4,this.em.store(r)];case 1:return[2,t.sent()]}})})},s.prototype.load=function(r){return Nd(this,void 0,void 0,function(){return Rd(this,function(t){switch(t.label){case 0:return[4,this.em.load(r)];case 1:return[2,t.sent()]}})})},s.prototype.getProjectData=function(){return this.em.storeData()},s.prototype.loadProjectData=function(r){return this.em.loadData(r)},s.prototype.storeData=function(){return this.em.storeData()},s.prototype.loadData=function(r){return this.em.loadData(r)},s.prototype.getContainer=function(){return this.config.el},s.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},s.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},s.prototype.refresh=function(r){this.em.refreshCanvas(r)},s.prototype.setCustomRte=function(r){this.RichTextEditor.customRte=r},s.prototype.setCustomParserCss=function(r){return this.Parser.getConfig().parserCss=r,this},s.prototype.setDragMode=function(r){return this.em.setDragMode(r),this},s.prototype.log=function(r,t){return t===void 0&&(t={}),this.em.log(r,t),this},s.prototype.t=function(){for(var r,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(r=this.em).t.apply(r,t)},s.prototype.on=function(r,t){return this.em.on(r,t),this},s.prototype.once=function(r,t){return this.em.once(r,t),this},s.prototype.off=function(r,t){return this.em.off(r,t),this},s.prototype.trigger=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return this.em.trigger.apply(this.em,Iv([r],t,!0)),this},s.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},s.prototype.getEl=function(){var r;return(r=this.editorView)===null||r===void 0?void 0:r.el},s.prototype.getModel=function(){return this.em},s.prototype.render=function(){var r;return(r=this.editorView)===null||r===void 0||r.remove(),this.editorView=new Dv(this.em),this.editorView.render().el},s.prototype.onReady=function(r){this.em.get("ready")?r(this):this.em.on("load",r)},s}();const Rv=Nv;var Fd=function(s,r){return(0,E.isString)(s)?function(t,e){var n=e.get(t);if(!n){var i=(0,K.getGlobal)()[t];n=(i==null?void 0:i.default)||i}return n}(s,r):s},Vd=function(s,r){s.getModel().logWarning("Plugin ".concat(r," not found"),{context:"plugins",plugin:r})};const Fv=function(){function s(){this.plugins={}}return s.prototype.add=function(r,t){var e=this.get(r);return e||(this.plugins[r]=t,t)},s.prototype.get=function(r){return this.plugins[r]},s.prototype.getAll=function(){return this.plugins},s}();var fp=function(){return fp=Object.assign||function(s){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s},fp.apply(this,arguments)};(function(){if((0,K.hasWin)()&&function(){for(var r,t=window.navigator.userAgent,e=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],n=0;n<e.length&&!(r=e[n][1].exec(t));n++);return!!r}()){var s=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(r){return r||(r=""),s.apply(document.implementation,[r])}}})();var Rf=new Fv,Hd=[],zd=function(s,r){var t=Fd(s,Rf);return function(e){t?t(e,r||{}):Vd(e,s)}},Bd={$:C.default,editors:Hd,plugins:Rf,usePlugin:zd,version:"0.21.5",init:function(s){s===void 0&&(s={});var r=s.headless,t=s.container;if(!t&&!r)throw new Error("'container' is required");var e=fp(fp({autorender:!0,plugins:[],pluginsOpts:{}},s),{grapesjs:this,el:r?void 0:(0,E.isElement)(t)?t:document.querySelector(t)}),n=new Rv(e,{$:C.default}),i=n.getModel();return e.plugins.forEach(function(l){var f=Fd(l,Rf),d=e.pluginsOpts[l]||{};f?f(n,d):Vd(n,l)}),i.loadOnStart(),e.autorender&&!r&&n.render(),Hd.push(n),n}};const Vv=Bd})(),te})())})(ch);var gy=ch.exports;const my=ho(gy);var uh={exports:{}};/*! grapesjs-preset-webpage - 1.0.3 */(function(We,Kn){(function(xe,ge){We.exports=ge()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ur,()=>(()=>{var xe={d:(h,v)=>{for(var m in v)xe.o(v,m)&&!xe.o(h,m)&&Object.defineProperty(h,m,{enumerable:!0,get:v[m]})},o:(h,v)=>Object.prototype.hasOwnProperty.call(h,v),r:h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})}},ge={};xe.r(ge),xe.d(ge,{default:()=>O});var Lt=function(){return Lt=Object.assign||function(h){for(var v,m=1,g=arguments.length;m<g;m++)for(var y in v=arguments[m])Object.prototype.hasOwnProperty.call(v,y)&&(h[y]=v[y]);return h},Lt.apply(this,arguments)},te="gjs-open-import-webpage",E="set-device-desktop",K="set-device-tablet",Z="set-device-mobile",F="canvas-clear",V=function(){return V=Object.assign||function(h){for(var v,m=1,g=arguments.length;m<g;m++)for(var y in v=arguments[m])Object.prototype.hasOwnProperty.call(v,y)&&(h[y]=v[y]);return h},V.apply(this,arguments)};const j=function(h,v){var m=h.Commands,g=v.textCleanCanvas;(function(y,S){var w=y.getConfig("stylePrefix"),T=S.modalImportLabel,k=S.modalImportContent;y.Commands.add(te,{codeViewer:null,container:null,run:function(M){var D=typeof k=="function"?k(M):k,R=this.getCodeViewer();M.Modal.open({title:S.modalImportTitle,content:this.getContainer()}).onceClose(function(){return M.stopCommand(te)}),R.setContent(D??""),R.refresh(),setTimeout(function(){return R.focus()},0)},stop:function(){y.Modal.close()},getContainer:function(){if(!this.container){var M=this.getCodeViewer(),D=document.createElement("div");if(D.className="".concat(w,"import-container"),T){var R=document.createElement("div");R.className="".concat(w,"import-label"),R.innerHTML=T,D.appendChild(R)}D.appendChild(M.getElement());var N=document.createElement("button");N.type="button",N.innerHTML=S.modalImportButton,N.className="".concat(w,"btn-prim ").concat(w,"btn-import"),N.onclick=function(){y.Css.clear(),y.setComponents(M.getContent().trim()),y.Modal.close()},D.appendChild(N),this.container=D}return this.container},getCodeViewer:function(){return this.codeViewer||(this.codeViewer=y.CodeManager.createViewer(V({codeName:"htmlmixed",theme:"hopscotch",readOnly:!1},S.importViewerOptions))),this.codeViewer}})})(h,v),m.add(E,{run:function(y){return y.setDevice("Desktop")},stop:function(){}}),m.add(K,{run:function(y){return y.setDevice("Tablet")},stop:function(){}}),m.add(Z,{run:function(y){return y.setDevice("Mobile portrait")},stop:function(){}}),m.add(F,function(y){return confirm(g)&&y.runCommand("core:canvas-clear")})};var C=function(){return C=Object.assign||function(h){for(var v,m=1,g=arguments.length;m<g;m++)for(var y in v=arguments[m])Object.prototype.hasOwnProperty.call(v,y)&&(h[y]=v[y]);return h},C.apply(this,arguments)};const O=function(h,v){v===void 0&&(v={});var m=C({blocks:["link-block","quote","text-basic"],block:function(){return{}},modalImportTitle:"Import",modalImportButton:"Import",modalImportLabel:"",modalImportContent:"",importViewerOptions:{},textCleanCanvas:"Are you sure you want to clear the canvas?",showStylesOnChange:!0,useCustomTheme:!0},v);if(m.useCustomTheme&&typeof window<"u"){var g="gjs-",y="";[["one","#463a3c"],["two","#b9a5a6"],["three","#804f7b"],["four","#d97aa6"]].forEach(function(w){var T=w[0],k=w[1];y+=`
        .`.concat(g).concat(T,`-bg {
          background-color: `).concat(k,`;
        }

        .`).concat(g).concat(T,`-color {
          color: `).concat(k,`;
        }

        .`).concat(g).concat(T,`-color-h:hover {
          color: `).concat(k,`;
        }
      `)});var S=document.createElement("style");S.innerText=y,document.head.appendChild(S)}(function(w,T){var k=function(M,D){T.blocks.indexOf(M)>=0&&w.Blocks.add(M,Lt(Lt({select:!0,category:"Basic"},D),T.block(M)))};k("link-block",{label:"Link Block",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}}),k("quote",{label:"Quote",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />
    </svg>`,content:`<blockquote class="quote">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit
      </blockquote>`}),k("text-basic",{label:"Text section",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
    </svg>`,content:`<section class="bdg-sect">
      <h1 class="heading">Insert title here</h1>
      <p class="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>
      </section>`})})(h,m),j(h,m),function(w,T){var k=w.Panels,M=w.getConfig(),D="sw-visibility",R="export-template",N="open-sm",W="open-tm",$="open-layers",J="open-blocks",U="fullscreen",L="preview",P='style="display: block; max-width:22px"';M.showDevices=!1,k.getPanels().reset([{id:"commands",buttons:[{}]},{id:"devices-c",buttons:[{id:E,command:E,active:!0,label:"<svg ".concat(P,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" />
        </svg>`)},{id:K,command:K,label:"<svg ".concat(P,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z" />
        </svg>`)},{id:Z,command:Z,label:"<svg ".concat(P,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z" />
        </svg>`)}]},{id:"options",buttons:[{id:D,command:D,context:D,label:"<svg ".concat(P,` viewBox="0 0 24 24">
        <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z" />
    </svg>`)},{id:L,context:L,command:function(){return w.runCommand(L)},label:"<svg ".concat(P,' viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>')},{id:U,command:U,context:U,label:"<svg ".concat(P,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z" />
        </svg>`)},{id:R,command:function(){return w.runCommand(R)},label:"<svg ".concat(P,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z" />
        </svg>`)},{id:"undo",command:function(){return w.runCommand("core:undo")},label:"<svg ".concat(P,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
        </svg>`)},{id:"redo",command:function(){return w.runCommand("core:redo")},label:"<svg ".concat(P,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
        </svg>`)},{id:te,command:function(){return w.runCommand(te)},label:"<svg ".concat(P,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
        </svg>`)},{id:F,command:function(){return w.runCommand(F)},label:"<svg ".concat(P,` viewBox="0 0 24 24">
              <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />
          </svg>`)}]},{id:"views",buttons:[{id:N,command:N,active:!0,label:"<svg ".concat(P,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`)},{id:W,command:W,label:"<svg ".concat(P,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
      </svg>`)},{id:$,command:$,label:"<svg ".concat(P,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z" />
      </svg>`)},{id:J,command:J,label:"<svg ".concat(P,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />
      </svg>`)}]}]);var z=k.getButton("views",J);w.on("load",function(){return z==null?void 0:z.set("active",!0)}),T.showStylesOnChange&&w.on("component:selected",function(){var tt=k.getButton("views",N),q=k.getButton("views",$);q&&q.get("active")||!w.getSelected()||tt==null||tt.set("active",!0)})}(h,m)};return ge})())})(uh);var vy=uh.exports;const ah=ho(vy);var ph={exports:{}};/*! grapesjs-blocks-basic - 1.0.2 */(function(We,Kn){(function(xe,ge){We.exports=ge()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ur,()=>(()=>{var xe={d:(K,Z)=>{for(var F in Z)xe.o(Z,F)&&!xe.o(K,F)&&Object.defineProperty(K,F,{enumerable:!0,get:Z[F]})},o:(K,Z)=>Object.prototype.hasOwnProperty.call(K,Z),r:K=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})}},ge={};xe.r(ge),xe.d(ge,{default:()=>E});var Lt=function(){return Lt=Object.assign||function(K){for(var Z,F=1,V=arguments.length;F<V;F++)for(var j in Z=arguments[F])Object.prototype.hasOwnProperty.call(Z,j)&&(K[j]=Z[j]);return K},Lt.apply(this,arguments)},te=function(){return te=Object.assign||function(K){for(var Z,F=1,V=arguments.length;F<V;F++)for(var j in Z=arguments[F])Object.prototype.hasOwnProperty.call(Z,j)&&(K[j]=Z[j]);return K},te.apply(this,arguments)};const E=function(K,Z){Z===void 0&&(Z={}),function(F,V){var j=F.BlockManager,C=V.category,O=V.blocks,h=V.stylePrefix,v=V.flexGrid,m=V.rowHeight,g=V.addBasicStyle,y="".concat(h,"row"),S="".concat(h,"cell"),w=v?`
    .`.concat(y,` {
      display: flex;
      justify-content: flex-start;
      align-items: stretch;
      flex-wrap: nowrap;
      padding: 10px;
    }
    @media (max-width: 768px) {
      .`).concat(y,` {
        flex-wrap: wrap;
      }
    }`):`
    .`.concat(y,` {
      display: table;
      padding: 10px;
      width: 100%;
    }
    @media (max-width: 768px) {
      .`).concat(h,"cell, .").concat(h,"cell30, .").concat(h,`cell70 {
        width: 100%;
        display: block;
      }
    }`),T=v?`
    .`.concat(S,` {
      min-height: `).concat(m,`px;
      flex-grow: 1;
      flex-basis: 100%;
    }`):`
    .`.concat(S,` {
      width: 8%;
      display: table-cell;
      height: `).concat(m,`px;
    }`),k=`
  .`.concat(h,`cell30 {
    width: 30%;
  }`),M=`
  .`.concat(h,`cell70 {
    width: 70%;
  }`),D=1,R={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:D},N=Lt(Lt({},R),{cr:1,bc:0,currentUnit:1,minDim:D,step:.2});v&&(N.keyWidth="flex-basis");var W={class:y,"data-gjs-droppable":".".concat(S),"data-gjs-resizable":R,"data-gjs-name":"Row"},$={class:S,"data-gjs-draggable":".".concat(y),"data-gjs-resizable":N,"data-gjs-name":"Cell"};v&&($["data-gjs-unstylable"]=["width"],$["data-gjs-stylable-require"]=["flex-basis"]);var J=[".".concat(y),".".concat(S)];F.on("selector:add",function(q){return J.indexOf(q.getFullName())>=0&&q.set("private",1)});var U=function(q){var rt=[];for(var H in q){var Y=q[H];Y=Y instanceof Array||Y instanceof Object?JSON.stringify(Y):Y,rt.push("".concat(H,"=").concat("'".concat(Y,"'")))}return rt.length?" ".concat(rt.join(" ")):""},L=function(q){return O.indexOf(q)>=0},P=U(W),z=U($),tt={category:C,select:!0};L("column1")&&j.add("column1",Lt(Lt({},tt),{label:V.labelColumn1,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(P,`>
        <div `).concat(z,`></div>
      </div>
      `).concat(g?`<style>
          `.concat(w,`
          `).concat(T,`
        </style>`):"")})),L("column2")&&j.add("column2",Lt(Lt({},tt),{label:V.labelColumn2,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(P,`>
        <div `).concat(z,`></div>
        <div `).concat(z,`></div>
      </div>
      `).concat(g?`<style>
          `.concat(w,`
          `).concat(T,`
        </style>`):"")})),L("column3")&&j.add("column3",Lt(Lt({},tt),{label:V.labelColumn3,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(P,`>
        <div `).concat(z,`></div>
        <div `).concat(z,`></div>
        <div `).concat(z,`></div>
      </div>
      `).concat(g?`<style>
          `.concat(w,`
          `).concat(T,`
        </style>`):"")})),L("column3-7")&&j.add("column3-7",Lt(Lt({},tt),{label:V.labelColumn37,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(P,`>
        <div `).concat(z," style='").concat(v?"flex-basis":"width",`: 30%;'></div>
        <div `).concat(z," style='").concat(v?"flex-basis":"width",`: 70%;'></div>
      </div>
      `).concat(g?`<style>
          `.concat(w,`
          `).concat(T,`
          `).concat(k,`
          `).concat(M,`
        </style>`):"")})),L("text")&&j.add("text",Lt(Lt({},tt),{activate:!0,label:V.labelText,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
      </svg>`,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}})),L("link")&&j.add("link",Lt(Lt({},tt),{label:V.labelLink,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
      </svg>`,content:{type:"link",content:"Link",style:{color:"#d983a6"}}})),L("image")&&j.add("image",Lt(Lt({},tt),{activate:!0,label:V.labelImage,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
      </svg>`,content:{style:{color:"black"},type:"image"}})),L("video")&&j.add("video",Lt(Lt({},tt),{label:V.labelVideo,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z" />
      </svg>`,content:{type:"video",src:"img/video2.webm",style:{height:"350px",width:"615px"}}})),L("map")&&j.add("map",Lt(Lt({},tt),{label:V.labelMap,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20.5,3L20.34,3.03L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21L3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19.03 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3M10,5.47L14,6.87V18.53L10,17.13V5.47M5,6.46L8,5.45V17.15L5,18.31V6.46M19,17.54L16,18.55V6.86L19,5.7V17.54Z" />
      </svg>`,content:{type:"map",style:{height:"350px"}}}))}(K,te({blocks:["column1","column2","column3","column3-7","text","link","image","video","map"],flexGrid:!1,stylePrefix:"gjs-",addBasicStyle:!0,category:"Basic",labelColumn1:"1 Column",labelColumn2:"2 Columns",labelColumn3:"3 Columns",labelColumn37:"2 Columns 3/7",labelText:"Text",labelLink:"Link",labelImage:"Image",labelVideo:"Video",labelMap:"Map",rowHeight:75},Z))};return ge})())})(ph);var yy=ph.exports;const by=ho(yy);var fh={exports:{}};/*! grapesjs-plugin-forms - 2.0.6 */(function(We,Kn){(function(xe,ge){We.exports=ge()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ur,()=>(()=>{var xe={d:(m,g)=>{for(var y in g)xe.o(g,y)&&!xe.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:g[y]})},o:(m,g)=>Object.prototype.hasOwnProperty.call(m,g),r:m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})}},ge={};xe.r(ge),xe.d(ge,{default:()=>v});var Lt="form",te="input",E="textarea",K="select",Z="checkbox",F="radio",V="button",j="label",C="option",O=function(){return O=Object.assign||function(m){for(var g,y=1,S=arguments.length;y<S;y++)for(var w in g=arguments[y])Object.prototype.hasOwnProperty.call(g,w)&&(m[w]=g[w]);return m},O.apply(this,arguments)},h=function(){return h=Object.assign||function(m){for(var g,y=1,S=arguments.length;y<S;y++)for(var w in g=arguments[y])Object.prototype.hasOwnProperty.call(g,w)&&(m[w]=g[w]);return m},h.apply(this,arguments)};const v=function(m,g){g===void 0&&(g={});var y=h({blocks:["form","input","textarea","select","button","label","checkbox","radio"],category:{id:"forms",label:"Forms"},block:function(){return{}}},g);(function(S){var w=S.Components,T={name:"name"},k={name:"placeholder"},M={type:"checkbox",name:"required"},D=function(N,W){return{type:C,content:W,attributes:{value:N}}},R=function(N){S.Commands.isActive("preview")||N.preventDefault()};w.addType(Lt,{isComponent:function(N){return N.tagName=="FORM"},model:{defaults:{tagName:"form",droppable:":not(form)",draggable:":not(form)",attributes:{method:"get"},traits:[{type:"select",name:"method",options:[{value:"get",name:"GET"},{value:"post",name:"POST"}]},{name:"action"}]}},view:{events:{submit:function(N){return N.preventDefault()}}}}),w.addType(te,{isComponent:function(N){return N.tagName=="INPUT"},model:{defaults:{tagName:"input",droppable:!1,highlightable:!1,attributes:{type:"text"},traits:[T,k,{type:"select",name:"type",options:[{value:"text"},{value:"email"},{value:"password"},{value:"number"}]},M]}},extendFnView:["updateAttributes"],view:{updateAttributes:function(){this.el.setAttribute("autocomplete","off")}}}),w.addType(E,{extend:te,isComponent:function(N){return N.tagName=="TEXTAREA"},model:{defaults:{tagName:"textarea",attributes:{},traits:[T,k,M]}}}),w.addType(C,{isComponent:function(N){return N.tagName=="OPTION"},model:{defaults:{tagName:"option",layerable:!1,droppable:!1,draggable:!1,highlightable:!1}}}),w.addType(K,{isComponent:function(N){return N.tagName=="SELECT"},model:{defaults:{tagName:"select",droppable:!1,highlightable:!1,components:[D("opt1","Option 1"),D("opt2","Option 2")],traits:[T,{name:"options",type:"select-options"},M]}},view:{events:{mousedown:R}}}),w.addType(Z,{extend:te,isComponent:function(N){return N.tagName=="INPUT"&&N.type=="checkbox"},model:{defaults:{copyable:!1,attributes:{type:"checkbox"},traits:[{name:"id"},T,{name:"value"},M,{type:"checkbox",name:"checked"}]}},view:{events:{click:R},init:function(){this.listenTo(this.model,"change:attributes:checked",this.handleChecked)},handleChecked:function(){var N;this.el.checked=!!(!((N=this.model.get("attributes"))===null||N===void 0)&&N.checked)}}}),w.addType(F,{extend:Z,isComponent:function(N){return N.tagName=="INPUT"&&N.type=="radio"},model:{defaults:{attributes:{type:"radio"}}}}),w.addType(V,{extend:te,isComponent:function(N){return N.tagName=="BUTTON"},model:{defaults:{tagName:"button",attributes:{type:"button"},text:"Send",traits:[{name:"text",changeProp:!0},{type:"select",name:"type",options:[{value:"button"},{value:"submit"},{value:"reset"}]}]},init:function(){var N=this.components(),W=N.length===1&&N.models[0],$=W&&W.is("textnode")&&W.get("content")||"",J=$||this.get("text");this.set("text",J),this.on("change:text",this.__onTextChange),J!==$&&this.__onTextChange()},__onTextChange:function(){this.components(this.get("text"))}},view:{events:{click:R}}}),w.addType(j,{extend:"text",isComponent:function(N){return N.tagName=="LABEL"},model:{defaults:{tagName:"label",components:"Label",traits:[{name:"for"}]}}})})(m),function(S){S.TraitManager.addType("select-options",{events:{keyup:"onChange"},onValueChange:function(){for(var w,T=this.model,k=this.target,M=T.get("value").trim().split(`
`),D=[],R=0;R<M.length;R++){var N=M[R].split("::");D.push({type:C,components:N[1]||N[0],attributes:{value:N[0]}})}k.components().reset(D),(w=k.view)===null||w===void 0||w.render()},getInputEl:function(){if(!this.$input){for(var w=[],T=this.target.components(),k=0;k<T.length;k++){var M=T.models[k],D=M.get("attributes"),R=(D==null?void 0:D.value)||"",N=M.components().models[0],W=N&&N.get("content")||"";w.push("".concat(R,"::").concat(W))}var $=document.createElement("textarea");$.value=w.join(`
`),this.$input=$}return this.$input}})}(m),function(S,w){var T=w,k=S.BlockManager,M=function(D,R){var N;((N=T.blocks)===null||N===void 0?void 0:N.indexOf(D))>=0&&k.add(D,O(O(O({},R),{category:T.category,select:!0}),w.block(D)))};M(Lt,{label:"Form",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 5.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 8H3V6h18v2zM22 10.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 13H3v-2h18v2z"/><rect width="10" height="3" x="2" y="15" rx=".5"/></svg>',content:{type:Lt,components:[{components:[{type:j,components:"Name"},{type:te}]},{components:[{type:j,components:"Email"},{type:te,attributes:{type:"email"}}]},{components:[{type:j,components:"Gender"},{type:Z,attributes:{value:"M"}},{type:j,components:"M"},{type:Z,attributes:{value:"F"}},{type:j,components:"F"}]},{components:[{type:j,components:"Message"},{type:E}]},{components:[{type:V}]}]}}),M(te,{label:"Input",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 10h1v4H4z"/></svg>',content:{type:te}}),M(E,{label:"Textarea",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 7.5c0-.9-.5-1.5-1.3-1.5H3.4C2.5 6 2 6.6 2 7.5v9c0 .9.5 1.5 1.3 1.5h17.4c.8 0 1.3-.6 1.3-1.5v-9zM21 17H3V7h18v10z"/><path d="M4 8h1v4H4zM19 7h1v10h-1zM20 8h1v1h-1zM20 15h1v1h-1z"/></svg>',content:{type:E}}),M(K,{label:"Select",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M18.5 13l1.5-2h-3zM4 11.5h11v1H4z"/></svg>',content:{type:K}}),M(V,{label:"Button",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 11.5h16v1H4z"/></svg>',content:{type:V}}),M(j,{label:"Label",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 11.9c0-.6-.5-.9-1.3-.9H3.4c-.8 0-1.3.3-1.3.9V17c0 .5.5.9 1.3.9h17.4c.8 0 1.3-.4 1.3-.9V12zM21 17H3v-5h18v5z"/><rect width="14" height="5" x="2" y="5" rx=".5"/><path d="M4 13h1v3H4z"/></svg>',content:{type:j}}),M(Z,{label:"Checkbox",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 17l-5-5 1.41-1.42L10 14.17l7.59-7.59L19 8m0-5H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2z"></path></svg>',content:{type:Z}}),M(F,{label:"Radio",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-18C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 5c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z"></path></svg>',content:{type:F}})}(m,y)};return ge})())})(fh);var wy=fh.exports;const _y=ho(wy);var dh={exports:{}};/*! grapesjs-component-countdown - 1.0.2 */(function(We,Kn){(function(xe,ge){We.exports=ge()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ur,()=>(()=>{var xe={d:(E,K)=>{for(var Z in K)xe.o(K,Z)&&!xe.o(E,Z)&&Object.defineProperty(E,Z,{enumerable:!0,get:K[Z]})},o:(E,K)=>Object.prototype.hasOwnProperty.call(E,K),r:E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})}},ge={};xe.r(ge),xe.d(ge,{default:()=>te});var Lt=function(){return Lt=Object.assign||function(E){for(var K,Z=1,F=arguments.length;Z<F;Z++)for(var V in K=arguments[Z])Object.prototype.hasOwnProperty.call(K,V)&&(E[V]=K[V]);return E},Lt.apply(this,arguments)};const te=function(E,K){K===void 0&&(K={});var Z=Lt({id:"countdown",label:"Countdown",block:{},props:{},style:"",styleAdditional:"",startTime:"",endText:"EXPIRED",dateInputType:"date",labelDays:"days",labelHours:"hours",labelMinutes:"minutes",labelSeconds:"seconds",classPrefix:"countdown"},K),F=Z.block,V=Z.props,j=Z.style,C=Z.id,O=Z.label,h=Z.classPrefix;F&&E.Blocks.add(C,Lt({media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M12 20C16.4 20 20 16.4 20 12S16.4 4 12 4 4 7.6 4 12 7.6 20 12 20M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22C6.5 22 2 17.5 2 12C2 6.5 6.5 2 12 2M17 11.5V13H11V7H12.5V11.5H17Z" />
      </svg>`,label:O,category:"Extra",select:!0,content:{type:C}},F)),E.Components.addType(C,{model:{defaults:Lt({startfrom:Z.startTime,classes:[h],endText:Z.endText,droppable:!1,script:function(v){var m=v.startfrom,g=v.endText,y=this,S=new Date(m).getTime(),w=y.querySelector("[data-js=countdown]"),T=y.querySelector("[data-js=countdown-endtext]"),k=y.querySelector("[data-js=countdown-day]"),M=y.querySelector("[data-js=countdown-hour]"),D=y.querySelector("[data-js=countdown-minute]"),R=y.querySelector("[data-js=countdown-second]"),N=y.__gjsCountdownInterval;N&&clearInterval(N);var W=window.__gjsCountdownIntervals||[],$=[];W.forEach(function(L){L.isConnected||(clearInterval(L.__gjsCountdownInterval),$.push(L))}),W.indexOf(y)<0&&W.push(y),window.__gjsCountdownIntervals=W.filter(function(L){return $.indexOf(L)<0});var J=function(L,P,z,tt){k.innerHTML="".concat(L<10?"0"+L:L),M.innerHTML="".concat(P<10?"0"+P:P),D.innerHTML="".concat(z<10?"0"+z:z),R.innerHTML="".concat(tt<10?"0"+tt:tt)},U=function(){var L=new Date().getTime(),P=S-L,z=Math.floor(P/864e5),tt=Math.floor(P%864e5/36e5),q=Math.floor(P%36e5/6e4),rt=Math.floor(P%6e4/1e3);J(z,tt,q,rt),P<0&&(clearInterval(y.__gjsCountdownInterval),T.innerHTML=g,w.style.display="none",T.style.display="")};S?(y.__gjsCountdownInterval=setInterval(U,1e3),T.style.display="none",w.style.display="",U()):J(0,0,0,0)},"script-props":["startfrom","endText"],traits:[{label:"Start",name:"startfrom",changeProp:!0,type:Z.dateInputType},{label:"End text",name:"endText",changeProp:!0}],components:`
          <span data-js="countdown" class="`.concat(h,`-cont">
            <div class="`).concat(h,`-block">
              <div data-js="countdown-day" class="`).concat(h,`-digit"></div>
              <div class="`).concat(h,'-label">').concat(Z.labelDays,`</div>
            </div>
            <div class="`).concat(h,`-block">
              <div data-js="countdown-hour" class="`).concat(h,`-digit"></div>
              <div class="`).concat(h,'-label">').concat(Z.labelHours,`</div>
            </div>
            <div class="`).concat(h,`-block">
              <div data-js="countdown-minute" class="`).concat(h,`-digit"></div>
              <div class="`).concat(h,'-label">').concat(Z.labelMinutes,`</div>
            </div>
            <div class="`).concat(h,`-block">
              <div data-js="countdown-second" class="`).concat(h,`-digit"></div>
              <div class="`).concat(h,'-label">').concat(Z.labelSeconds,`</div>
            </div>
          </span>
          <span data-js="countdown-endtext" class="`).concat(h,`-endtext"></span>
        `),styles:(j||`
          .`.concat(h,` {
            text-align: center;
          }

          .`).concat(h,`-block {
            display: inline-block;
            margin: 0 10px;
            padding: 10px;
          }

          .`).concat(h,`-digit {
            font-size: 5rem;
          }

          .`).concat(h,`-endtext {
            font-size: 5rem;
          }

          .`).concat(h,`-cont {
            display: inline-block;
          }
        `))+Z.styleAdditional},V)}})};return ge})())})(dh);var xy=dh.exports;const Cy=ho(xy);var hh={exports:{}};/*! grapesjs-plugin-export - 1.0.12 */(function(We,Kn){(function(xe,ge){We.exports=ge()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ur,()=>(()=>{var xe={162:function(E,K,Z){var F,V,j;V=[],(j=typeof(F=function(){function C(S,w){return w===void 0?w={autoBom:!1}:typeof w!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),w={autoBom:!w}),w.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(S.type)?new Blob(["\uFEFF",S],{type:S.type}):S}function O(S,w,T){var k=new XMLHttpRequest;k.open("GET",S),k.responseType="blob",k.onload=function(){y(k.response,w,T)},k.onerror=function(){console.error("could not download file")},k.send()}function h(S){var w=new XMLHttpRequest;w.open("HEAD",S,!1);try{w.send()}catch{}return 200<=w.status&&299>=w.status}function v(S){try{S.dispatchEvent(new MouseEvent("click"))}catch{var w=document.createEvent("MouseEvents");w.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),S.dispatchEvent(w)}}var m=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Z.g=="object"&&Z.g.global===Z.g?Z.g:void 0,g=m.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),y=m.saveAs||(typeof window!="object"||window!==m?function(){}:"download"in HTMLAnchorElement.prototype&&!g?function(S,w,T){var k=m.URL||m.webkitURL,M=document.createElement("a");w=w||S.name||"download",M.download=w,M.rel="noopener",typeof S=="string"?(M.href=S,M.origin===location.origin?v(M):h(M.href)?O(S,w,T):v(M,M.target="_blank")):(M.href=k.createObjectURL(S),setTimeout(function(){k.revokeObjectURL(M.href)},4e4),setTimeout(function(){v(M)},0))}:"msSaveOrOpenBlob"in navigator?function(S,w,T){if(w=w||S.name||"download",typeof S!="string")navigator.msSaveOrOpenBlob(C(S,T),w);else if(h(S))O(S,w,T);else{var k=document.createElement("a");k.href=S,k.target="_blank",setTimeout(function(){v(k)})}}:function(S,w,T,k){if((k=k||open("","_blank"))&&(k.document.title=k.document.body.innerText="downloading..."),typeof S=="string")return O(S,w,T);var M=S.type==="application/octet-stream",D=/constructor/i.test(m.HTMLElement)||m.safari,R=/CriOS\/[\d]+/.test(navigator.userAgent);if((R||M&&D||g)&&typeof FileReader<"u"){var N=new FileReader;N.onloadend=function(){var J=N.result;J=R?J:J.replace(/^data:[^;]*;/,"data:attachment/file;"),k?k.location.href=J:location=J,k=null},N.readAsDataURL(S)}else{var W=m.URL||m.webkitURL,$=W.createObjectURL(S);k?k.location=$:location.href=$,k=null,setTimeout(function(){W.revokeObjectURL($)},4e4)}});m.saveAs=y.saveAs=y,E.exports=y})=="function"?F.apply(K,V):F)===void 0||(E.exports=j)},733:(E,K,Z)=>{E.exports=function F(V,j,C){function O(m,g){if(!j[m]){if(!V[m]){if(h)return h(m,!0);var y=new Error("Cannot find module '"+m+"'");throw y.code="MODULE_NOT_FOUND",y}var S=j[m]={exports:{}};V[m][0].call(S.exports,function(w){return O(V[m][1][w]||w)},S,S.exports,F,V,j,C)}return j[m].exports}for(var h=void 0,v=0;v<C.length;v++)O(C[v]);return O}({1:[function(F,V,j){var C=F("./utils"),O=F("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";j.encode=function(v){for(var m,g,y,S,w,T,k,M=[],D=0,R=v.length,N=R,W=C.getTypeOf(v)!=="string";D<v.length;)N=R-D,y=W?(m=v[D++],g=D<R?v[D++]:0,D<R?v[D++]:0):(m=v.charCodeAt(D++),g=D<R?v.charCodeAt(D++):0,D<R?v.charCodeAt(D++):0),S=m>>2,w=(3&m)<<4|g>>4,T=1<N?(15&g)<<2|y>>6:64,k=2<N?63&y:64,M.push(h.charAt(S)+h.charAt(w)+h.charAt(T)+h.charAt(k));return M.join("")},j.decode=function(v){var m,g,y,S,w,T,k=0,M=0,D="data:";if(v.substr(0,D.length)===D)throw new Error("Invalid base64 input, it looks like a data url.");var R,N=3*(v=v.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(v.charAt(v.length-1)===h.charAt(64)&&N--,v.charAt(v.length-2)===h.charAt(64)&&N--,N%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=O.uint8array?new Uint8Array(0|N):new Array(0|N);k<v.length;)m=h.indexOf(v.charAt(k++))<<2|(S=h.indexOf(v.charAt(k++)))>>4,g=(15&S)<<4|(w=h.indexOf(v.charAt(k++)))>>2,y=(3&w)<<6|(T=h.indexOf(v.charAt(k++))),R[M++]=m,w!==64&&(R[M++]=g),T!==64&&(R[M++]=y);return R}},{"./support":30,"./utils":32}],2:[function(F,V,j){var C=F("./external"),O=F("./stream/DataWorker"),h=F("./stream/Crc32Probe"),v=F("./stream/DataLengthProbe");function m(g,y,S,w,T){this.compressedSize=g,this.uncompressedSize=y,this.crc32=S,this.compression=w,this.compressedContent=T}m.prototype={getContentWorker:function(){var g=new O(C.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new v("data_length")),y=this;return g.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new O(C.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(g,y,S){return g.pipe(new h).pipe(new v("uncompressedSize")).pipe(y.compressWorker(S)).pipe(new v("compressedSize")).withStreamInfo("compression",y)},V.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(F,V,j){var C=F("./stream/GenericWorker");j.STORE={magic:"\0\0",compressWorker:function(){return new C("STORE compression")},uncompressWorker:function(){return new C("STORE decompression")}},j.DEFLATE=F("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(F,V,j){var C=F("./utils"),O=function(){for(var h,v=[],m=0;m<256;m++){h=m;for(var g=0;g<8;g++)h=1&h?3988292384^h>>>1:h>>>1;v[m]=h}return v}();V.exports=function(h,v){return h!==void 0&&h.length?C.getTypeOf(h)!=="string"?function(m,g,y,S){var w=O,T=S+y;m^=-1;for(var k=S;k<T;k++)m=m>>>8^w[255&(m^g[k])];return-1^m}(0|v,h,h.length,0):function(m,g,y,S){var w=O,T=S+y;m^=-1;for(var k=S;k<T;k++)m=m>>>8^w[255&(m^g.charCodeAt(k))];return-1^m}(0|v,h,h.length,0):0}},{"./utils":32}],5:[function(F,V,j){j.base64=!1,j.binary=!1,j.dir=!1,j.createFolders=!0,j.date=null,j.compression=null,j.compressionOptions=null,j.comment=null,j.unixPermissions=null,j.dosPermissions=null},{}],6:[function(F,V,j){var C=null;C=typeof Promise<"u"?Promise:F("lie"),V.exports={Promise:C}},{lie:37}],7:[function(F,V,j){var C=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",O=F("pako"),h=F("./utils"),v=F("./stream/GenericWorker"),m=C?"uint8array":"array";function g(y,S){v.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=S,this.meta={}}j.magic="\b\0",h.inherits(g,v),g.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(m,y.data),!1)},g.prototype.flush=function(){v.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new O[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(S){y.push({data:S,meta:y.meta})}},j.compressWorker=function(y){return new g("Deflate",y)},j.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(F,V,j){function C(w,T){var k,M="";for(k=0;k<T;k++)M+=String.fromCharCode(255&w),w>>>=8;return M}function O(w,T,k,M,D,R){var N,W,$=w.file,J=w.compression,U=R!==m.utf8encode,L=h.transformTo("string",R($.name)),P=h.transformTo("string",m.utf8encode($.name)),z=$.comment,tt=h.transformTo("string",R(z)),q=h.transformTo("string",m.utf8encode(z)),rt=P.length!==$.name.length,H=q.length!==z.length,Y="",dt="",ct="",jt=$.dir,At=$.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};T&&!k||(ee.crc32=w.crc32,ee.compressedSize=w.compressedSize,ee.uncompressedSize=w.uncompressedSize);var mt=0;T&&(mt|=8),U||!rt&&!H||(mt|=2048);var gt=0,qt=0;jt&&(gt|=16),D==="UNIX"?(qt=798,gt|=function(Ht,ne){var re=Ht;return Ht||(re=ne?16893:33204),(65535&re)<<16}($.unixPermissions,jt)):(qt=20,gt|=function(Ht){return 63&(Ht||0)}($.dosPermissions)),N=At.getUTCHours(),N<<=6,N|=At.getUTCMinutes(),N<<=5,N|=At.getUTCSeconds()/2,W=At.getUTCFullYear()-1980,W<<=4,W|=At.getUTCMonth()+1,W<<=5,W|=At.getUTCDate(),rt&&(dt=C(1,1)+C(g(L),4)+P,Y+="up"+C(dt.length,2)+dt),H&&(ct=C(1,1)+C(g(tt),4)+q,Y+="uc"+C(ct.length,2)+ct);var Yt="";return Yt+=`
\0`,Yt+=C(mt,2),Yt+=J.magic,Yt+=C(N,2),Yt+=C(W,2),Yt+=C(ee.crc32,4),Yt+=C(ee.compressedSize,4),Yt+=C(ee.uncompressedSize,4),Yt+=C(L.length,2),Yt+=C(Y.length,2),{fileRecord:y.LOCAL_FILE_HEADER+Yt+L+Y,dirRecord:y.CENTRAL_FILE_HEADER+C(qt,2)+Yt+C(tt.length,2)+"\0\0\0\0"+C(gt,4)+C(M,4)+L+Y+tt}}var h=F("../utils"),v=F("../stream/GenericWorker"),m=F("../utf8"),g=F("../crc32"),y=F("../signature");function S(w,T,k,M){v.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=T,this.zipPlatform=k,this.encodeFileName=M,this.streamFiles=w,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(S,v),S.prototype.push=function(w){var T=w.meta.percent||0,k=this.entriesCount,M=this._sources.length;this.accumulate?this.contentBuffer.push(w):(this.bytesWritten+=w.data.length,v.prototype.push.call(this,{data:w.data,meta:{currentFile:this.currentFile,percent:k?(T+100*(k-M-1))/k:100}}))},S.prototype.openedSource=function(w){this.currentSourceOffset=this.bytesWritten,this.currentFile=w.file.name;var T=this.streamFiles&&!w.file.dir;if(T){var k=O(w,T,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:k.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(w){this.accumulate=!1;var T=this.streamFiles&&!w.file.dir,k=O(w,T,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(k.dirRecord),T)this.push({data:function(M){return y.DATA_DESCRIPTOR+C(M.crc32,4)+C(M.compressedSize,4)+C(M.uncompressedSize,4)}(w),meta:{percent:100}});else for(this.push({data:k.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var w=this.bytesWritten,T=0;T<this.dirRecords.length;T++)this.push({data:this.dirRecords[T],meta:{percent:100}});var k=this.bytesWritten-w,M=function(D,R,N,W,$){var J=h.transformTo("string",$(W));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+C(D,2)+C(D,2)+C(R,4)+C(N,4)+C(J.length,2)+J}(this.dirRecords.length,k,w,this.zipComment,this.encodeFileName);this.push({data:M,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(w){this._sources.push(w);var T=this;return w.on("data",function(k){T.processChunk(k)}),w.on("end",function(){T.closedSource(T.previous.streamInfo),T._sources.length?T.prepareNextSource():T.end()}),w.on("error",function(k){T.error(k)}),this},S.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(w){var T=this._sources;if(!v.prototype.error.call(this,w))return!1;for(var k=0;k<T.length;k++)try{T[k].error(w)}catch{}return!0},S.prototype.lock=function(){v.prototype.lock.call(this);for(var w=this._sources,T=0;T<w.length;T++)w[T].lock()},V.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(F,V,j){var C=F("../compressions"),O=F("./ZipFileWorker");j.generateWorker=function(h,v,m){var g=new O(v.streamFiles,m,v.platform,v.encodeFileName),y=0;try{h.forEach(function(S,w){y++;var T=function(R,N){var W=R||N,$=C[W];if(!$)throw new Error(W+" is not a valid compression method !");return $}(w.options.compression,v.compression),k=w.options.compressionOptions||v.compressionOptions||{},M=w.dir,D=w.date;w._compressWorker(T,k).withStreamInfo("file",{name:S,dir:M,date:D,comment:w.comment||"",unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions}).pipe(g)}),g.entriesCount=y}catch(S){g.error(S)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(F,V,j){function C(){if(!(this instanceof C))return new C;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var O=new C;for(var h in this)typeof this[h]!="function"&&(O[h]=this[h]);return O}}(C.prototype=F("./object")).loadAsync=F("./load"),C.support=F("./support"),C.defaults=F("./defaults"),C.version="3.10.1",C.loadAsync=function(O,h){return new C().loadAsync(O,h)},C.external=F("./external"),V.exports=C},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(F,V,j){var C=F("./utils"),O=F("./external"),h=F("./utf8"),v=F("./zipEntries"),m=F("./stream/Crc32Probe"),g=F("./nodejsUtils");function y(S){return new O.Promise(function(w,T){var k=S.decompressed.getContentWorker().pipe(new m);k.on("error",function(M){T(M)}).on("end",function(){k.streamInfo.crc32!==S.decompressed.crc32?T(new Error("Corrupted zip : CRC32 mismatch")):w()}).resume()})}V.exports=function(S,w){var T=this;return w=C.extend(w||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),g.isNode&&g.isStream(S)?O.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):C.prepareContent("the loaded zip file",S,!0,w.optimizedBinaryString,w.base64).then(function(k){var M=new v(w);return M.load(k),M}).then(function(k){var M=[O.Promise.resolve(k)],D=k.files;if(w.checkCRC32)for(var R=0;R<D.length;R++)M.push(y(D[R]));return O.Promise.all(M)}).then(function(k){for(var M=k.shift(),D=M.files,R=0;R<D.length;R++){var N=D[R],W=N.fileNameStr,$=C.resolve(N.fileNameStr);T.file($,N.decompressed,{binary:!0,optimizedBinaryString:!0,date:N.date,dir:N.dir,comment:N.fileCommentStr.length?N.fileCommentStr:null,unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions,createFolders:w.createFolders}),N.dir||(T.file($).unsafeOriginalName=W)}return M.zipComment.length&&(T.comment=M.zipComment),T})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(F,V,j){var C=F("../utils"),O=F("../stream/GenericWorker");function h(v,m){O.call(this,"Nodejs stream input adapter for "+v),this._upstreamEnded=!1,this._bindStream(m)}C.inherits(h,O),h.prototype._bindStream=function(v){var m=this;(this._stream=v).pause(),v.on("data",function(g){m.push({data:g,meta:{percent:0}})}).on("error",function(g){m.isPaused?this.generatedError=g:m.error(g)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},h.prototype.pause=function(){return!!O.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!O.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},V.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(F,V,j){var C=F("readable-stream").Readable;function O(h,v,m){C.call(this,v),this._helper=h;var g=this;h.on("data",function(y,S){g.push(y)||g._helper.pause(),m&&m(S)}).on("error",function(y){g.emit("error",y)}).on("end",function(){g.push(null)})}F("../utils").inherits(O,C),O.prototype._read=function(){this._helper.resume()},V.exports=O},{"../utils":32,"readable-stream":16}],14:[function(F,V,j){V.exports={isNode:typeof Buffer<"u",newBufferFrom:function(C,O){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(C,O);if(typeof C=="number")throw new Error('The "data" argument must not be a number');return new Buffer(C,O)},allocBuffer:function(C){if(Buffer.alloc)return Buffer.alloc(C);var O=new Buffer(C);return O.fill(0),O},isBuffer:function(C){return Buffer.isBuffer(C)},isStream:function(C){return C&&typeof C.on=="function"&&typeof C.pause=="function"&&typeof C.resume=="function"}}},{}],15:[function(F,V,j){function C($,J,U){var L,P=h.getTypeOf(J),z=h.extend(U||{},g);z.date=z.date||new Date,z.compression!==null&&(z.compression=z.compression.toUpperCase()),typeof z.unixPermissions=="string"&&(z.unixPermissions=parseInt(z.unixPermissions,8)),z.unixPermissions&&16384&z.unixPermissions&&(z.dir=!0),z.dosPermissions&&16&z.dosPermissions&&(z.dir=!0),z.dir&&($=D($)),z.createFolders&&(L=M($))&&R.call(this,L,!0);var tt=P==="string"&&z.binary===!1&&z.base64===!1;U&&U.binary!==void 0||(z.binary=!tt),(J instanceof y&&J.uncompressedSize===0||z.dir||!J||J.length===0)&&(z.base64=!1,z.binary=!0,J="",z.compression="STORE",P="string");var q=null;q=J instanceof y||J instanceof v?J:T.isNode&&T.isStream(J)?new k($,J):h.prepareContent($,J,z.binary,z.optimizedBinaryString,z.base64);var rt=new S($,q,z);this.files[$]=rt}var O=F("./utf8"),h=F("./utils"),v=F("./stream/GenericWorker"),m=F("./stream/StreamHelper"),g=F("./defaults"),y=F("./compressedObject"),S=F("./zipObject"),w=F("./generate"),T=F("./nodejsUtils"),k=F("./nodejs/NodejsStreamInputAdapter"),M=function($){$.slice(-1)==="/"&&($=$.substring(0,$.length-1));var J=$.lastIndexOf("/");return 0<J?$.substring(0,J):""},D=function($){return $.slice(-1)!=="/"&&($+="/"),$},R=function($,J){return J=J!==void 0?J:g.createFolders,$=D($),this.files[$]||C.call(this,$,null,{dir:!0,createFolders:J}),this.files[$]};function N($){return Object.prototype.toString.call($)==="[object RegExp]"}var W={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function($){var J,U,L;for(J in this.files)L=this.files[J],(U=J.slice(this.root.length,J.length))&&J.slice(0,this.root.length)===this.root&&$(U,L)},filter:function($){var J=[];return this.forEach(function(U,L){$(U,L)&&J.push(L)}),J},file:function($,J,U){if(arguments.length!==1)return $=this.root+$,C.call(this,$,J,U),this;if(N($)){var L=$;return this.filter(function(z,tt){return!tt.dir&&L.test(z)})}var P=this.files[this.root+$];return P&&!P.dir?P:null},folder:function($){if(!$)return this;if(N($))return this.filter(function(P,z){return z.dir&&$.test(P)});var J=this.root+$,U=R.call(this,J),L=this.clone();return L.root=U.name,L},remove:function($){$=this.root+$;var J=this.files[$];if(J||($.slice(-1)!=="/"&&($+="/"),J=this.files[$]),J&&!J.dir)delete this.files[$];else for(var U=this.filter(function(P,z){return z.name.slice(0,$.length)===$}),L=0;L<U.length;L++)delete this.files[U[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function($){var J,U={};try{if((U=h.extend($||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:O.utf8encode})).type=U.type.toLowerCase(),U.compression=U.compression.toUpperCase(),U.type==="binarystring"&&(U.type="string"),!U.type)throw new Error("No output type specified.");h.checkSupport(U.type),U.platform!=="darwin"&&U.platform!=="freebsd"&&U.platform!=="linux"&&U.platform!=="sunos"||(U.platform="UNIX"),U.platform==="win32"&&(U.platform="DOS");var L=U.comment||this.comment||"";J=w.generateWorker(this,U,L)}catch(P){(J=new v("error")).error(P)}return new m(J,U.type||"string",U.mimeType)},generateAsync:function($,J){return this.generateInternalStream($).accumulate(J)},generateNodeStream:function($,J){return($=$||{}).type||($.type="nodebuffer"),this.generateInternalStream($).toNodejsStream(J)}};V.exports=W},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(F,V,j){V.exports=F("stream")},{stream:void 0}],17:[function(F,V,j){var C=F("./DataReader");function O(h){C.call(this,h);for(var v=0;v<this.data.length;v++)h[v]=255&h[v]}F("../utils").inherits(O,C),O.prototype.byteAt=function(h){return this.data[this.zero+h]},O.prototype.lastIndexOfSignature=function(h){for(var v=h.charCodeAt(0),m=h.charCodeAt(1),g=h.charCodeAt(2),y=h.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===v&&this.data[S+1]===m&&this.data[S+2]===g&&this.data[S+3]===y)return S-this.zero;return-1},O.prototype.readAndCheckSignature=function(h){var v=h.charCodeAt(0),m=h.charCodeAt(1),g=h.charCodeAt(2),y=h.charCodeAt(3),S=this.readData(4);return v===S[0]&&m===S[1]&&g===S[2]&&y===S[3]},O.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var v=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,v},V.exports=O},{"../utils":32,"./DataReader":18}],18:[function(F,V,j){var C=F("../utils");function O(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}O.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var v,m=0;for(this.checkOffset(h),v=this.index+h-1;v>=this.index;v--)m=(m<<8)+this.byteAt(v);return this.index+=h,m},readString:function(h){return C.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},V.exports=O},{"../utils":32}],19:[function(F,V,j){var C=F("./Uint8ArrayReader");function O(h){C.call(this,h)}F("../utils").inherits(O,C),O.prototype.readData=function(h){this.checkOffset(h);var v=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,v},V.exports=O},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(F,V,j){var C=F("./DataReader");function O(h){C.call(this,h)}F("../utils").inherits(O,C),O.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},O.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},O.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},O.prototype.readData=function(h){this.checkOffset(h);var v=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,v},V.exports=O},{"../utils":32,"./DataReader":18}],21:[function(F,V,j){var C=F("./ArrayReader");function O(h){C.call(this,h)}F("../utils").inherits(O,C),O.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var v=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,v},V.exports=O},{"../utils":32,"./ArrayReader":17}],22:[function(F,V,j){var C=F("../utils"),O=F("../support"),h=F("./ArrayReader"),v=F("./StringReader"),m=F("./NodeBufferReader"),g=F("./Uint8ArrayReader");V.exports=function(y){var S=C.getTypeOf(y);return C.checkSupport(S),S!=="string"||O.uint8array?S==="nodebuffer"?new m(y):O.uint8array?new g(C.transformTo("uint8array",y)):new h(C.transformTo("array",y)):new v(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(F,V,j){j.LOCAL_FILE_HEADER="PK",j.CENTRAL_FILE_HEADER="PK",j.CENTRAL_DIRECTORY_END="PK",j.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",j.ZIP64_CENTRAL_DIRECTORY_END="PK",j.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(F,V,j){var C=F("./GenericWorker"),O=F("../utils");function h(v){C.call(this,"ConvertWorker to "+v),this.destType=v}O.inherits(h,C),h.prototype.processChunk=function(v){this.push({data:O.transformTo(this.destType,v.data),meta:v.meta})},V.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(F,V,j){var C=F("./GenericWorker"),O=F("../crc32");function h(){C.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}F("../utils").inherits(h,C),h.prototype.processChunk=function(v){this.streamInfo.crc32=O(v.data,this.streamInfo.crc32||0),this.push(v)},V.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(F,V,j){var C=F("../utils"),O=F("./GenericWorker");function h(v){O.call(this,"DataLengthProbe for "+v),this.propName=v,this.withStreamInfo(v,0)}C.inherits(h,O),h.prototype.processChunk=function(v){if(v){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+v.data.length}O.prototype.processChunk.call(this,v)},V.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(F,V,j){var C=F("../utils"),O=F("./GenericWorker");function h(v){O.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,v.then(function(g){m.dataIsReady=!0,m.data=g,m.max=g&&g.length||0,m.type=C.getTypeOf(g),m.isPaused||m._tickAndRepeat()},function(g){m.error(g)})}C.inherits(h,O),h.prototype.cleanUp=function(){O.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!O.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,C.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(C.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var v=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":v=this.data.substring(this.index,m);break;case"uint8array":v=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":v=this.data.slice(this.index,m)}return this.index=m,this.push({data:v,meta:{percent:this.max?this.index/this.max*100:0}})},V.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(F,V,j){function C(O){this.name=O||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}C.prototype={push:function(O){this.emit("data",O)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(O){this.emit("error",O)}return!0},error:function(O){return!this.isFinished&&(this.isPaused?this.generatedError=O:(this.isFinished=!0,this.emit("error",O),this.previous&&this.previous.error(O),this.cleanUp()),!0)},on:function(O,h){return this._listeners[O].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(O,h){if(this._listeners[O])for(var v=0;v<this._listeners[O].length;v++)this._listeners[O][v].call(this,h)},pipe:function(O){return O.registerPrevious(this)},registerPrevious:function(O){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=O.streamInfo,this.mergeStreamInfo(),this.previous=O;var h=this;return O.on("data",function(v){h.processChunk(v)}),O.on("end",function(){h.end()}),O.on("error",function(v){h.error(v)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var O=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),O=!0),this.previous&&this.previous.resume(),!O},flush:function(){},processChunk:function(O){this.push(O)},withStreamInfo:function(O,h){return this.extraStreamInfo[O]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var O in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,O)&&(this.streamInfo[O]=this.extraStreamInfo[O])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var O="Worker "+this.name;return this.previous?this.previous+" -> "+O:O}},V.exports=C},{}],29:[function(F,V,j){var C=F("../utils"),O=F("./ConvertWorker"),h=F("./GenericWorker"),v=F("../base64"),m=F("../support"),g=F("../external"),y=null;if(m.nodestream)try{y=F("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(T,k){return new g.Promise(function(M,D){var R=[],N=T._internalType,W=T._outputType,$=T._mimeType;T.on("data",function(J,U){R.push(J),k&&k(U)}).on("error",function(J){R=[],D(J)}).on("end",function(){try{var J=function(U,L,P){switch(U){case"blob":return C.newBlob(C.transformTo("arraybuffer",L),P);case"base64":return v.encode(L);default:return C.transformTo(U,L)}}(W,function(U,L){var P,z=0,tt=null,q=0;for(P=0;P<L.length;P++)q+=L[P].length;switch(U){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(tt=new Uint8Array(q),P=0;P<L.length;P++)tt.set(L[P],z),z+=L[P].length;return tt;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+U+"'")}}(N,R),$);M(J)}catch(U){D(U)}R=[]}).resume()})}function w(T,k,M){var D=k;switch(k){case"blob":case"arraybuffer":D="uint8array";break;case"base64":D="string"}try{this._internalType=D,this._outputType=k,this._mimeType=M,C.checkSupport(D),this._worker=T.pipe(new O(D)),T.lock()}catch(R){this._worker=new h("error"),this._worker.error(R)}}w.prototype={accumulate:function(T){return S(this,T)},on:function(T,k){var M=this;return T==="data"?this._worker.on(T,function(D){k.call(M,D.data,D.meta)}):this._worker.on(T,function(){C.delay(k,arguments,M)}),this},resume:function(){return C.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(T){if(C.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},T)}},V.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(F,V,j){if(j.base64=!0,j.array=!0,j.string=!0,j.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",j.nodebuffer=typeof Buffer<"u",j.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")j.blob=!1;else{var C=new ArrayBuffer(0);try{j.blob=new Blob([C],{type:"application/zip"}).size===0}catch{try{var O=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);O.append(C),j.blob=O.getBlob("application/zip").size===0}catch{j.blob=!1}}}try{j.nodestream=!!F("readable-stream").Readable}catch{j.nodestream=!1}},{"readable-stream":16}],31:[function(F,V,j){for(var C=F("./utils"),O=F("./support"),h=F("./nodejsUtils"),v=F("./stream/GenericWorker"),m=new Array(256),g=0;g<256;g++)m[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function y(){v.call(this,"utf-8 decode"),this.leftOver=null}function S(){v.call(this,"utf-8 encode")}m[254]=m[254]=1,j.utf8encode=function(w){return O.nodebuffer?h.newBufferFrom(w,"utf-8"):function(T){var k,M,D,R,N,W=T.length,$=0;for(R=0;R<W;R++)(64512&(M=T.charCodeAt(R)))==55296&&R+1<W&&(64512&(D=T.charCodeAt(R+1)))==56320&&(M=65536+(M-55296<<10)+(D-56320),R++),$+=M<128?1:M<2048?2:M<65536?3:4;for(k=O.uint8array?new Uint8Array($):new Array($),R=N=0;N<$;R++)(64512&(M=T.charCodeAt(R)))==55296&&R+1<W&&(64512&(D=T.charCodeAt(R+1)))==56320&&(M=65536+(M-55296<<10)+(D-56320),R++),M<128?k[N++]=M:(M<2048?k[N++]=192|M>>>6:(M<65536?k[N++]=224|M>>>12:(k[N++]=240|M>>>18,k[N++]=128|M>>>12&63),k[N++]=128|M>>>6&63),k[N++]=128|63&M);return k}(w)},j.utf8decode=function(w){return O.nodebuffer?C.transformTo("nodebuffer",w).toString("utf-8"):function(T){var k,M,D,R,N=T.length,W=new Array(2*N);for(k=M=0;k<N;)if((D=T[k++])<128)W[M++]=D;else if(4<(R=m[D]))W[M++]=65533,k+=R-1;else{for(D&=R===2?31:R===3?15:7;1<R&&k<N;)D=D<<6|63&T[k++],R--;1<R?W[M++]=65533:D<65536?W[M++]=D:(D-=65536,W[M++]=55296|D>>10&1023,W[M++]=56320|1023&D)}return W.length!==M&&(W.subarray?W=W.subarray(0,M):W.length=M),C.applyFromCharCode(W)}(w=C.transformTo(O.uint8array?"uint8array":"array",w))},C.inherits(y,v),y.prototype.processChunk=function(w){var T=C.transformTo(O.uint8array?"uint8array":"array",w.data);if(this.leftOver&&this.leftOver.length){if(O.uint8array){var k=T;(T=new Uint8Array(k.length+this.leftOver.length)).set(this.leftOver,0),T.set(k,this.leftOver.length)}else T=this.leftOver.concat(T);this.leftOver=null}var M=function(R,N){var W;for((N=N||R.length)>R.length&&(N=R.length),W=N-1;0<=W&&(192&R[W])==128;)W--;return W<0||W===0?N:W+m[R[W]]>N?W:N}(T),D=T;M!==T.length&&(O.uint8array?(D=T.subarray(0,M),this.leftOver=T.subarray(M,T.length)):(D=T.slice(0,M),this.leftOver=T.slice(M,T.length))),this.push({data:j.utf8decode(D),meta:w.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:j.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},j.Utf8DecodeWorker=y,C.inherits(S,v),S.prototype.processChunk=function(w){this.push({data:j.utf8encode(w.data),meta:w.meta})},j.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(F,V,j){var C=F("./support"),O=F("./base64"),h=F("./nodejsUtils"),v=F("./external");function m(k){return k}function g(k,M){for(var D=0;D<k.length;++D)M[D]=255&k.charCodeAt(D);return M}F("setimmediate"),j.newBlob=function(k,M){j.checkSupport("blob");try{return new Blob([k],{type:M})}catch{try{var D=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return D.append(k),D.getBlob(M)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(k,M,D){var R=[],N=0,W=k.length;if(W<=D)return String.fromCharCode.apply(null,k);for(;N<W;)M==="array"||M==="nodebuffer"?R.push(String.fromCharCode.apply(null,k.slice(N,Math.min(N+D,W)))):R.push(String.fromCharCode.apply(null,k.subarray(N,Math.min(N+D,W)))),N+=D;return R.join("")},stringifyByChar:function(k){for(var M="",D=0;D<k.length;D++)M+=String.fromCharCode(k[D]);return M},applyCanBeUsed:{uint8array:function(){try{return C.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return C.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}}()}};function S(k){var M=65536,D=j.getTypeOf(k),R=!0;if(D==="uint8array"?R=y.applyCanBeUsed.uint8array:D==="nodebuffer"&&(R=y.applyCanBeUsed.nodebuffer),R)for(;1<M;)try{return y.stringifyByChunk(k,D,M)}catch{M=Math.floor(M/2)}return y.stringifyByChar(k)}function w(k,M){for(var D=0;D<k.length;D++)M[D]=k[D];return M}j.applyFromCharCode=S;var T={};T.string={string:m,array:function(k){return g(k,new Array(k.length))},arraybuffer:function(k){return T.string.uint8array(k).buffer},uint8array:function(k){return g(k,new Uint8Array(k.length))},nodebuffer:function(k){return g(k,h.allocBuffer(k.length))}},T.array={string:S,array:m,arraybuffer:function(k){return new Uint8Array(k).buffer},uint8array:function(k){return new Uint8Array(k)},nodebuffer:function(k){return h.newBufferFrom(k)}},T.arraybuffer={string:function(k){return S(new Uint8Array(k))},array:function(k){return w(new Uint8Array(k),new Array(k.byteLength))},arraybuffer:m,uint8array:function(k){return new Uint8Array(k)},nodebuffer:function(k){return h.newBufferFrom(new Uint8Array(k))}},T.uint8array={string:S,array:function(k){return w(k,new Array(k.length))},arraybuffer:function(k){return k.buffer},uint8array:m,nodebuffer:function(k){return h.newBufferFrom(k)}},T.nodebuffer={string:S,array:function(k){return w(k,new Array(k.length))},arraybuffer:function(k){return T.nodebuffer.uint8array(k).buffer},uint8array:function(k){return w(k,new Uint8Array(k.length))},nodebuffer:m},j.transformTo=function(k,M){if(M=M||"",!k)return M;j.checkSupport(k);var D=j.getTypeOf(M);return T[D][k](M)},j.resolve=function(k){for(var M=k.split("/"),D=[],R=0;R<M.length;R++){var N=M[R];N==="."||N===""&&R!==0&&R!==M.length-1||(N===".."?D.pop():D.push(N))}return D.join("/")},j.getTypeOf=function(k){return typeof k=="string"?"string":Object.prototype.toString.call(k)==="[object Array]"?"array":C.nodebuffer&&h.isBuffer(k)?"nodebuffer":C.uint8array&&k instanceof Uint8Array?"uint8array":C.arraybuffer&&k instanceof ArrayBuffer?"arraybuffer":void 0},j.checkSupport=function(k){if(!C[k.toLowerCase()])throw new Error(k+" is not supported by this platform")},j.MAX_VALUE_16BITS=65535,j.MAX_VALUE_32BITS=-1,j.pretty=function(k){var M,D,R="";for(D=0;D<(k||"").length;D++)R+="\\x"+((M=k.charCodeAt(D))<16?"0":"")+M.toString(16).toUpperCase();return R},j.delay=function(k,M,D){setImmediate(function(){k.apply(D||null,M||[])})},j.inherits=function(k,M){function D(){}D.prototype=M.prototype,k.prototype=new D},j.extend=function(){var k,M,D={};for(k=0;k<arguments.length;k++)for(M in arguments[k])Object.prototype.hasOwnProperty.call(arguments[k],M)&&D[M]===void 0&&(D[M]=arguments[k][M]);return D},j.prepareContent=function(k,M,D,R,N){return v.Promise.resolve(M).then(function(W){return C.blob&&(W instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(W))!==-1)&&typeof FileReader<"u"?new v.Promise(function($,J){var U=new FileReader;U.onload=function(L){$(L.target.result)},U.onerror=function(L){J(L.target.error)},U.readAsArrayBuffer(W)}):W}).then(function(W){var $=j.getTypeOf(W);return $?($==="arraybuffer"?W=j.transformTo("uint8array",W):$==="string"&&(N?W=O.decode(W):D&&R!==!0&&(W=function(J){return g(J,C.uint8array?new Uint8Array(J.length):new Array(J.length))}(W))),W):v.Promise.reject(new Error("Can't read the data of '"+k+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(F,V,j){var C=F("./reader/readerFor"),O=F("./utils"),h=F("./signature"),v=F("./zipEntry"),m=F("./support");function g(y){this.files=[],this.loadOptions=y}g.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+O.pretty(S)+", expected "+O.pretty(y)+")")}},isSignature:function(y,S){var w=this.reader.index;this.reader.setIndex(y);var T=this.reader.readString(4)===S;return this.reader.setIndex(w),T},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),S=m.uint8array?"uint8array":"array",w=O.transformTo(S,y);this.zipComment=this.loadOptions.decodeFileName(w)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,S,w,T=this.zip64EndOfCentralSize-44;0<T;)y=this.reader.readInt(2),S=this.reader.readInt(4),w=this.reader.readData(S),this.zip64ExtensibleData[y]={id:y,length:S,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,S;for(y=0;y<this.files.length;y++)S=this.files[y],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(y=new v({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var S=y;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===O.MAX_VALUE_16BITS||this.diskWithCentralDirStart===O.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===O.MAX_VALUE_16BITS||this.centralDirRecords===O.MAX_VALUE_16BITS||this.centralDirSize===O.MAX_VALUE_32BITS||this.centralDirOffset===O.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var w=this.centralDirOffset+this.centralDirSize;this.zip64&&(w+=20,w+=12+this.zip64EndOfCentralSize);var T=S-w;if(0<T)this.isSignature(S,h.CENTRAL_FILE_HEADER)||(this.reader.zero=T);else if(T<0)throw new Error("Corrupted zip: missing "+Math.abs(T)+" bytes.")},prepareReader:function(y){this.reader=C(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},V.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(F,V,j){var C=F("./reader/readerFor"),O=F("./utils"),h=F("./compressedObject"),v=F("./crc32"),m=F("./utf8"),g=F("./compressions"),y=F("./support");function S(w,T){this.options=w,this.loadOptions=T}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(w){var T,k;if(w.skip(22),this.fileNameLength=w.readInt(2),k=w.readInt(2),this.fileName=w.readData(this.fileNameLength),w.skip(k),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((T=function(M){for(var D in g)if(Object.prototype.hasOwnProperty.call(g,D)&&g[D].magic===M)return g[D];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+O.pretty(this.compressionMethod)+" unknown (inner file : "+O.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,T,w.readData(this.compressedSize))},readCentralPart:function(w){this.versionMadeBy=w.readInt(2),w.skip(2),this.bitFlag=w.readInt(2),this.compressionMethod=w.readString(2),this.date=w.readDate(),this.crc32=w.readInt(4),this.compressedSize=w.readInt(4),this.uncompressedSize=w.readInt(4);var T=w.readInt(2);if(this.extraFieldsLength=w.readInt(2),this.fileCommentLength=w.readInt(2),this.diskNumberStart=w.readInt(2),this.internalFileAttributes=w.readInt(2),this.externalFileAttributes=w.readInt(4),this.localHeaderOffset=w.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");w.skip(T),this.readExtraFields(w),this.parseZIP64ExtraField(w),this.fileComment=w.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var w=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),w==0&&(this.dosPermissions=63&this.externalFileAttributes),w==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var w=C(this.extraFields[1].value);this.uncompressedSize===O.MAX_VALUE_32BITS&&(this.uncompressedSize=w.readInt(8)),this.compressedSize===O.MAX_VALUE_32BITS&&(this.compressedSize=w.readInt(8)),this.localHeaderOffset===O.MAX_VALUE_32BITS&&(this.localHeaderOffset=w.readInt(8)),this.diskNumberStart===O.MAX_VALUE_32BITS&&(this.diskNumberStart=w.readInt(4))}},readExtraFields:function(w){var T,k,M,D=w.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});w.index+4<D;)T=w.readInt(2),k=w.readInt(2),M=w.readData(k),this.extraFields[T]={id:T,length:k,value:M};w.setIndex(D)},handleUTF8:function(){var w=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var T=this.findExtraFieldUnicodePath();if(T!==null)this.fileNameStr=T;else{var k=O.transformTo(w,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(k)}var M=this.findExtraFieldUnicodeComment();if(M!==null)this.fileCommentStr=M;else{var D=O.transformTo(w,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(D)}}},findExtraFieldUnicodePath:function(){var w=this.extraFields[28789];if(w){var T=C(w.value);return T.readInt(1)!==1||v(this.fileName)!==T.readInt(4)?null:m.utf8decode(T.readData(w.length-5))}return null},findExtraFieldUnicodeComment:function(){var w=this.extraFields[25461];if(w){var T=C(w.value);return T.readInt(1)!==1||v(this.fileComment)!==T.readInt(4)?null:m.utf8decode(T.readData(w.length-5))}return null}},V.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(F,V,j){function C(T,k,M){this.name=T,this.dir=M.dir,this.date=M.date,this.comment=M.comment,this.unixPermissions=M.unixPermissions,this.dosPermissions=M.dosPermissions,this._data=k,this._dataBinary=M.binary,this.options={compression:M.compression,compressionOptions:M.compressionOptions}}var O=F("./stream/StreamHelper"),h=F("./stream/DataWorker"),v=F("./utf8"),m=F("./compressedObject"),g=F("./stream/GenericWorker");C.prototype={internalStream:function(T){var k=null,M="string";try{if(!T)throw new Error("No output type specified.");var D=(M=T.toLowerCase())==="string"||M==="text";M!=="binarystring"&&M!=="text"||(M="string"),k=this._decompressWorker();var R=!this._dataBinary;R&&!D&&(k=k.pipe(new v.Utf8EncodeWorker)),!R&&D&&(k=k.pipe(new v.Utf8DecodeWorker))}catch(N){(k=new g("error")).error(N)}return new O(k,M,"")},async:function(T,k){return this.internalStream(T).accumulate(k)},nodeStream:function(T,k){return this.internalStream(T||"nodebuffer").toNodejsStream(k)},_compressWorker:function(T,k){if(this._data instanceof m&&this._data.compression.magic===T.magic)return this._data.getCompressedWorker();var M=this._decompressWorker();return this._dataBinary||(M=M.pipe(new v.Utf8EncodeWorker)),m.createWorkerFrom(M,T,k)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof g?this._data:new h(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},w=0;w<y.length;w++)C.prototype[y[w]]=S;V.exports=C},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(F,V,j){(function(C){var O,h,v=C.MutationObserver||C.WebKitMutationObserver;if(v){var m=0,g=new v(T),y=C.document.createTextNode("");g.observe(y,{characterData:!0}),O=function(){y.data=m=++m%2}}else if(C.setImmediate||C.MessageChannel===void 0)O="document"in C&&"onreadystatechange"in C.document.createElement("script")?function(){var k=C.document.createElement("script");k.onreadystatechange=function(){T(),k.onreadystatechange=null,k.parentNode.removeChild(k),k=null},C.document.documentElement.appendChild(k)}:function(){setTimeout(T,0)};else{var S=new C.MessageChannel;S.port1.onmessage=T,O=function(){S.port2.postMessage(0)}}var w=[];function T(){var k,M;h=!0;for(var D=w.length;D;){for(M=w,w=[],k=-1;++k<D;)M[k]();D=w.length}h=!1}V.exports=function(k){w.push(k)!==1||h||O()}}).call(this,Z.g!==void 0?Z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(F,V,j){var C=F("immediate");function O(){}var h={},v=["REJECTED"],m=["FULFILLED"],g=["PENDING"];function y(D){if(typeof D!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,D!==O&&k(this,D)}function S(D,R,N){this.promise=D,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}function w(D,R,N){C(function(){var W;try{W=R(N)}catch($){return h.reject(D,$)}W===D?h.reject(D,new TypeError("Cannot resolve promise with itself")):h.resolve(D,W)})}function T(D){var R=D&&D.then;if(D&&(typeof D=="object"||typeof D=="function")&&typeof R=="function")return function(){R.apply(D,arguments)}}function k(D,R){var N=!1;function W(U){N||(N=!0,h.reject(D,U))}function $(U){N||(N=!0,h.resolve(D,U))}var J=M(function(){R($,W)});J.status==="error"&&W(J.value)}function M(D,R){var N={};try{N.value=D(R),N.status="success"}catch(W){N.status="error",N.value=W}return N}(V.exports=y).prototype.finally=function(D){if(typeof D!="function")return this;var R=this.constructor;return this.then(function(N){return R.resolve(D()).then(function(){return N})},function(N){return R.resolve(D()).then(function(){throw N})})},y.prototype.catch=function(D){return this.then(null,D)},y.prototype.then=function(D,R){if(typeof D!="function"&&this.state===m||typeof R!="function"&&this.state===v)return this;var N=new this.constructor(O);return this.state!==g?w(N,this.state===m?D:R,this.outcome):this.queue.push(new S(N,D,R)),N},S.prototype.callFulfilled=function(D){h.resolve(this.promise,D)},S.prototype.otherCallFulfilled=function(D){w(this.promise,this.onFulfilled,D)},S.prototype.callRejected=function(D){h.reject(this.promise,D)},S.prototype.otherCallRejected=function(D){w(this.promise,this.onRejected,D)},h.resolve=function(D,R){var N=M(T,R);if(N.status==="error")return h.reject(D,N.value);var W=N.value;if(W)k(D,W);else{D.state=m,D.outcome=R;for(var $=-1,J=D.queue.length;++$<J;)D.queue[$].callFulfilled(R)}return D},h.reject=function(D,R){D.state=v,D.outcome=R;for(var N=-1,W=D.queue.length;++N<W;)D.queue[N].callRejected(R);return D},y.resolve=function(D){return D instanceof this?D:h.resolve(new this(O),D)},y.reject=function(D){var R=new this(O);return h.reject(R,D)},y.all=function(D){var R=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=D.length,W=!1;if(!N)return this.resolve([]);for(var $=new Array(N),J=0,U=-1,L=new this(O);++U<N;)P(D[U],U);return L;function P(z,tt){R.resolve(z).then(function(q){$[tt]=q,++J!==N||W||(W=!0,h.resolve(L,$))},function(q){W||(W=!0,h.reject(L,q))})}},y.race=function(D){var R=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=D.length,W=!1;if(!N)return this.resolve([]);for(var $,J=-1,U=new this(O);++J<N;)$=D[J],R.resolve($).then(function(L){W||(W=!0,h.resolve(U,L))},function(L){W||(W=!0,h.reject(U,L))});return U}},{immediate:36}],38:[function(F,V,j){var C={};(0,F("./lib/utils/common").assign)(C,F("./lib/deflate"),F("./lib/inflate"),F("./lib/zlib/constants")),V.exports=C},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(F,V,j){var C=F("./zlib/deflate"),O=F("./utils/common"),h=F("./utils/strings"),v=F("./zlib/messages"),m=F("./zlib/zstream"),g=Object.prototype.toString,y=0,S=-1,w=0,T=8;function k(D){if(!(this instanceof k))return new k(D);this.options=O.assign({level:S,method:T,chunkSize:16384,windowBits:15,memLevel:8,strategy:w,to:""},D||{});var R=this.options;R.raw&&0<R.windowBits?R.windowBits=-R.windowBits:R.gzip&&0<R.windowBits&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var N=C.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(N!==y)throw new Error(v[N]);if(R.header&&C.deflateSetHeader(this.strm,R.header),R.dictionary){var W;if(W=typeof R.dictionary=="string"?h.string2buf(R.dictionary):g.call(R.dictionary)==="[object ArrayBuffer]"?new Uint8Array(R.dictionary):R.dictionary,(N=C.deflateSetDictionary(this.strm,W))!==y)throw new Error(v[N]);this._dict_set=!0}}function M(D,R){var N=new k(R);if(N.push(D,!0),N.err)throw N.msg||v[N.err];return N.result}k.prototype.push=function(D,R){var N,W,$=this.strm,J=this.options.chunkSize;if(this.ended)return!1;W=R===~~R?R:R===!0?4:0,typeof D=="string"?$.input=h.string2buf(D):g.call(D)==="[object ArrayBuffer]"?$.input=new Uint8Array(D):$.input=D,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new O.Buf8(J),$.next_out=0,$.avail_out=J),(N=C.deflate($,W))!==1&&N!==y)return this.onEnd(N),!(this.ended=!0);$.avail_out!==0&&($.avail_in!==0||W!==4&&W!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(O.shrinkBuf($.output,$.next_out))):this.onData(O.shrinkBuf($.output,$.next_out)))}while((0<$.avail_in||$.avail_out===0)&&N!==1);return W===4?(N=C.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===y):W!==2||(this.onEnd(y),!($.avail_out=0))},k.prototype.onData=function(D){this.chunks.push(D)},k.prototype.onEnd=function(D){D===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=O.flattenChunks(this.chunks)),this.chunks=[],this.err=D,this.msg=this.strm.msg},j.Deflate=k,j.deflate=M,j.deflateRaw=function(D,R){return(R=R||{}).raw=!0,M(D,R)},j.gzip=function(D,R){return(R=R||{}).gzip=!0,M(D,R)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(F,V,j){var C=F("./zlib/inflate"),O=F("./utils/common"),h=F("./utils/strings"),v=F("./zlib/constants"),m=F("./zlib/messages"),g=F("./zlib/zstream"),y=F("./zlib/gzheader"),S=Object.prototype.toString;function w(k){if(!(this instanceof w))return new w(k);this.options=O.assign({chunkSize:16384,windowBits:0,to:""},k||{});var M=this.options;M.raw&&0<=M.windowBits&&M.windowBits<16&&(M.windowBits=-M.windowBits,M.windowBits===0&&(M.windowBits=-15)),!(0<=M.windowBits&&M.windowBits<16)||k&&k.windowBits||(M.windowBits+=32),15<M.windowBits&&M.windowBits<48&&!(15&M.windowBits)&&(M.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var D=C.inflateInit2(this.strm,M.windowBits);if(D!==v.Z_OK)throw new Error(m[D]);this.header=new y,C.inflateGetHeader(this.strm,this.header)}function T(k,M){var D=new w(M);if(D.push(k,!0),D.err)throw D.msg||m[D.err];return D.result}w.prototype.push=function(k,M){var D,R,N,W,$,J,U=this.strm,L=this.options.chunkSize,P=this.options.dictionary,z=!1;if(this.ended)return!1;R=M===~~M?M:M===!0?v.Z_FINISH:v.Z_NO_FLUSH,typeof k=="string"?U.input=h.binstring2buf(k):S.call(k)==="[object ArrayBuffer]"?U.input=new Uint8Array(k):U.input=k,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new O.Buf8(L),U.next_out=0,U.avail_out=L),(D=C.inflate(U,v.Z_NO_FLUSH))===v.Z_NEED_DICT&&P&&(J=typeof P=="string"?h.string2buf(P):S.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,D=C.inflateSetDictionary(this.strm,J)),D===v.Z_BUF_ERROR&&z===!0&&(D=v.Z_OK,z=!1),D!==v.Z_STREAM_END&&D!==v.Z_OK)return this.onEnd(D),!(this.ended=!0);U.next_out&&(U.avail_out!==0&&D!==v.Z_STREAM_END&&(U.avail_in!==0||R!==v.Z_FINISH&&R!==v.Z_SYNC_FLUSH)||(this.options.to==="string"?(N=h.utf8border(U.output,U.next_out),W=U.next_out-N,$=h.buf2string(U.output,N),U.next_out=W,U.avail_out=L-W,W&&O.arraySet(U.output,U.output,N,W,0),this.onData($)):this.onData(O.shrinkBuf(U.output,U.next_out)))),U.avail_in===0&&U.avail_out===0&&(z=!0)}while((0<U.avail_in||U.avail_out===0)&&D!==v.Z_STREAM_END);return D===v.Z_STREAM_END&&(R=v.Z_FINISH),R===v.Z_FINISH?(D=C.inflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===v.Z_OK):R!==v.Z_SYNC_FLUSH||(this.onEnd(v.Z_OK),!(U.avail_out=0))},w.prototype.onData=function(k){this.chunks.push(k)},w.prototype.onEnd=function(k){k===v.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=O.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},j.Inflate=w,j.inflate=T,j.inflateRaw=function(k,M){return(M=M||{}).raw=!0,T(k,M)},j.ungzip=T},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(F,V,j){var C=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";j.assign=function(v){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var g=m.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var y in g)g.hasOwnProperty(y)&&(v[y]=g[y])}}return v},j.shrinkBuf=function(v,m){return v.length===m?v:v.subarray?v.subarray(0,m):(v.length=m,v)};var O={arraySet:function(v,m,g,y,S){if(m.subarray&&v.subarray)v.set(m.subarray(g,g+y),S);else for(var w=0;w<y;w++)v[S+w]=m[g+w]},flattenChunks:function(v){var m,g,y,S,w,T;for(m=y=0,g=v.length;m<g;m++)y+=v[m].length;for(T=new Uint8Array(y),m=S=0,g=v.length;m<g;m++)w=v[m],T.set(w,S),S+=w.length;return T}},h={arraySet:function(v,m,g,y,S){for(var w=0;w<y;w++)v[S+w]=m[g+w]},flattenChunks:function(v){return[].concat.apply([],v)}};j.setTyped=function(v){v?(j.Buf8=Uint8Array,j.Buf16=Uint16Array,j.Buf32=Int32Array,j.assign(j,O)):(j.Buf8=Array,j.Buf16=Array,j.Buf32=Array,j.assign(j,h))},j.setTyped(C)},{}],42:[function(F,V,j){var C=F("./common"),O=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{O=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var v=new C.Buf8(256),m=0;m<256;m++)v[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function g(y,S){if(S<65537&&(y.subarray&&h||!y.subarray&&O))return String.fromCharCode.apply(null,C.shrinkBuf(y,S));for(var w="",T=0;T<S;T++)w+=String.fromCharCode(y[T]);return w}v[254]=v[254]=1,j.string2buf=function(y){var S,w,T,k,M,D=y.length,R=0;for(k=0;k<D;k++)(64512&(w=y.charCodeAt(k)))==55296&&k+1<D&&(64512&(T=y.charCodeAt(k+1)))==56320&&(w=65536+(w-55296<<10)+(T-56320),k++),R+=w<128?1:w<2048?2:w<65536?3:4;for(S=new C.Buf8(R),k=M=0;M<R;k++)(64512&(w=y.charCodeAt(k)))==55296&&k+1<D&&(64512&(T=y.charCodeAt(k+1)))==56320&&(w=65536+(w-55296<<10)+(T-56320),k++),w<128?S[M++]=w:(w<2048?S[M++]=192|w>>>6:(w<65536?S[M++]=224|w>>>12:(S[M++]=240|w>>>18,S[M++]=128|w>>>12&63),S[M++]=128|w>>>6&63),S[M++]=128|63&w);return S},j.buf2binstring=function(y){return g(y,y.length)},j.binstring2buf=function(y){for(var S=new C.Buf8(y.length),w=0,T=S.length;w<T;w++)S[w]=y.charCodeAt(w);return S},j.buf2string=function(y,S){var w,T,k,M,D=S||y.length,R=new Array(2*D);for(w=T=0;w<D;)if((k=y[w++])<128)R[T++]=k;else if(4<(M=v[k]))R[T++]=65533,w+=M-1;else{for(k&=M===2?31:M===3?15:7;1<M&&w<D;)k=k<<6|63&y[w++],M--;1<M?R[T++]=65533:k<65536?R[T++]=k:(k-=65536,R[T++]=55296|k>>10&1023,R[T++]=56320|1023&k)}return g(R,T)},j.utf8border=function(y,S){var w;for((S=S||y.length)>y.length&&(S=y.length),w=S-1;0<=w&&(192&y[w])==128;)w--;return w<0||w===0?S:w+v[y[w]]>S?w:S}},{"./common":41}],43:[function(F,V,j){V.exports=function(C,O,h,v){for(var m=65535&C|0,g=C>>>16&65535|0,y=0;h!==0;){for(h-=y=2e3<h?2e3:h;g=g+(m=m+O[v++]|0)|0,--y;);m%=65521,g%=65521}return m|g<<16|0}},{}],44:[function(F,V,j){V.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(F,V,j){var C=function(){for(var O,h=[],v=0;v<256;v++){O=v;for(var m=0;m<8;m++)O=1&O?3988292384^O>>>1:O>>>1;h[v]=O}return h}();V.exports=function(O,h,v,m){var g=C,y=m+v;O^=-1;for(var S=m;S<y;S++)O=O>>>8^g[255&(O^h[S])];return-1^O}},{}],46:[function(F,V,j){var C,O=F("../utils/common"),h=F("./trees"),v=F("./adler32"),m=F("./crc32"),g=F("./messages"),y=0,S=4,w=0,T=-2,k=-1,M=4,D=2,R=8,N=9,W=286,$=30,J=19,U=2*W+1,L=15,P=3,z=258,tt=z+P+1,q=42,rt=113,H=1,Y=2,dt=3,ct=4;function jt(X,Gt){return X.msg=g[Gt],Gt}function At(X){return(X<<1)-(4<X?9:0)}function ee(X){for(var Gt=X.length;0<=--Gt;)X[Gt]=0}function mt(X){var Gt=X.state,Nt=Gt.pending;Nt>X.avail_out&&(Nt=X.avail_out),Nt!==0&&(O.arraySet(X.output,Gt.pending_buf,Gt.pending_out,Nt,X.next_out),X.next_out+=Nt,Gt.pending_out+=Nt,X.total_out+=Nt,X.avail_out-=Nt,Gt.pending-=Nt,Gt.pending===0&&(Gt.pending_out=0))}function gt(X,Gt){h._tr_flush_block(X,0<=X.block_start?X.block_start:-1,X.strstart-X.block_start,Gt),X.block_start=X.strstart,mt(X.strm)}function qt(X,Gt){X.pending_buf[X.pending++]=Gt}function Yt(X,Gt){X.pending_buf[X.pending++]=Gt>>>8&255,X.pending_buf[X.pending++]=255&Gt}function Ht(X,Gt){var Nt,wt,yt=X.max_chain_length,Mt=X.strstart,vt=X.prev_length,Pt=X.nice_match,A=X.strstart>X.w_size-tt?X.strstart-(X.w_size-tt):0,ot=X.window,ft=X.w_mask,xt=X.prev,It=X.strstart+z,Ut=ot[Mt+vt-1],pe=ot[Mt+vt];X.prev_length>=X.good_match&&(yt>>=2),Pt>X.lookahead&&(Pt=X.lookahead);do if(ot[(Nt=Gt)+vt]===pe&&ot[Nt+vt-1]===Ut&&ot[Nt]===ot[Mt]&&ot[++Nt]===ot[Mt+1]){Mt+=2,Nt++;do;while(ot[++Mt]===ot[++Nt]&&ot[++Mt]===ot[++Nt]&&ot[++Mt]===ot[++Nt]&&ot[++Mt]===ot[++Nt]&&ot[++Mt]===ot[++Nt]&&ot[++Mt]===ot[++Nt]&&ot[++Mt]===ot[++Nt]&&ot[++Mt]===ot[++Nt]&&Mt<It);if(wt=z-(It-Mt),Mt=It-z,vt<wt){if(X.match_start=Gt,Pt<=(vt=wt))break;Ut=ot[Mt+vt-1],pe=ot[Mt+vt]}}while((Gt=xt[Gt&ft])>A&&--yt!=0);return vt<=X.lookahead?vt:X.lookahead}function ne(X){var Gt,Nt,wt,yt,Mt,vt,Pt,A,ot,ft,xt=X.w_size;do{if(yt=X.window_size-X.lookahead-X.strstart,X.strstart>=xt+(xt-tt)){for(O.arraySet(X.window,X.window,xt,xt,0),X.match_start-=xt,X.strstart-=xt,X.block_start-=xt,Gt=Nt=X.hash_size;wt=X.head[--Gt],X.head[Gt]=xt<=wt?wt-xt:0,--Nt;);for(Gt=Nt=xt;wt=X.prev[--Gt],X.prev[Gt]=xt<=wt?wt-xt:0,--Nt;);yt+=xt}if(X.strm.avail_in===0)break;if(vt=X.strm,Pt=X.window,A=X.strstart+X.lookahead,ft=void 0,(ot=yt)<(ft=vt.avail_in)&&(ft=ot),Nt=ft===0?0:(vt.avail_in-=ft,O.arraySet(Pt,vt.input,vt.next_in,ft,A),vt.state.wrap===1?vt.adler=v(vt.adler,Pt,ft,A):vt.state.wrap===2&&(vt.adler=m(vt.adler,Pt,ft,A)),vt.next_in+=ft,vt.total_in+=ft,ft),X.lookahead+=Nt,X.lookahead+X.insert>=P)for(Mt=X.strstart-X.insert,X.ins_h=X.window[Mt],X.ins_h=(X.ins_h<<X.hash_shift^X.window[Mt+1])&X.hash_mask;X.insert&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[Mt+P-1])&X.hash_mask,X.prev[Mt&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=Mt,Mt++,X.insert--,!(X.lookahead+X.insert<P)););}while(X.lookahead<tt&&X.strm.avail_in!==0)}function re(X,Gt){for(var Nt,wt;;){if(X.lookahead<tt){if(ne(X),X.lookahead<tt&&Gt===y)return H;if(X.lookahead===0)break}if(Nt=0,X.lookahead>=P&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+P-1])&X.hash_mask,Nt=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),Nt!==0&&X.strstart-Nt<=X.w_size-tt&&(X.match_length=Ht(X,Nt)),X.match_length>=P)if(wt=h._tr_tally(X,X.strstart-X.match_start,X.match_length-P),X.lookahead-=X.match_length,X.match_length<=X.max_lazy_match&&X.lookahead>=P){for(X.match_length--;X.strstart++,X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+P-1])&X.hash_mask,Nt=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart,--X.match_length!=0;);X.strstart++}else X.strstart+=X.match_length,X.match_length=0,X.ins_h=X.window[X.strstart],X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+1])&X.hash_mask;else wt=h._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++;if(wt&&(gt(X,!1),X.strm.avail_out===0))return H}return X.insert=X.strstart<P-1?X.strstart:P-1,Gt===S?(gt(X,!0),X.strm.avail_out===0?dt:ct):X.last_lit&&(gt(X,!1),X.strm.avail_out===0)?H:Y}function ce(X,Gt){for(var Nt,wt,yt;;){if(X.lookahead<tt){if(ne(X),X.lookahead<tt&&Gt===y)return H;if(X.lookahead===0)break}if(Nt=0,X.lookahead>=P&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+P-1])&X.hash_mask,Nt=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),X.prev_length=X.match_length,X.prev_match=X.match_start,X.match_length=P-1,Nt!==0&&X.prev_length<X.max_lazy_match&&X.strstart-Nt<=X.w_size-tt&&(X.match_length=Ht(X,Nt),X.match_length<=5&&(X.strategy===1||X.match_length===P&&4096<X.strstart-X.match_start)&&(X.match_length=P-1)),X.prev_length>=P&&X.match_length<=X.prev_length){for(yt=X.strstart+X.lookahead-P,wt=h._tr_tally(X,X.strstart-1-X.prev_match,X.prev_length-P),X.lookahead-=X.prev_length-1,X.prev_length-=2;++X.strstart<=yt&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+P-1])&X.hash_mask,Nt=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),--X.prev_length!=0;);if(X.match_available=0,X.match_length=P-1,X.strstart++,wt&&(gt(X,!1),X.strm.avail_out===0))return H}else if(X.match_available){if((wt=h._tr_tally(X,0,X.window[X.strstart-1]))&&gt(X,!1),X.strstart++,X.lookahead--,X.strm.avail_out===0)return H}else X.match_available=1,X.strstart++,X.lookahead--}return X.match_available&&(wt=h._tr_tally(X,0,X.window[X.strstart-1]),X.match_available=0),X.insert=X.strstart<P-1?X.strstart:P-1,Gt===S?(gt(X,!0),X.strm.avail_out===0?dt:ct):X.last_lit&&(gt(X,!1),X.strm.avail_out===0)?H:Y}function fe(X,Gt,Nt,wt,yt){this.good_length=X,this.max_lazy=Gt,this.nice_length=Nt,this.max_chain=wt,this.func=yt}function Me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new O.Buf16(2*U),this.dyn_dtree=new O.Buf16(2*(2*$+1)),this.bl_tree=new O.Buf16(2*(2*J+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new O.Buf16(L+1),this.heap=new O.Buf16(2*W+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new O.Buf16(2*W+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Se(X){var Gt;return X&&X.state?(X.total_in=X.total_out=0,X.data_type=D,(Gt=X.state).pending=0,Gt.pending_out=0,Gt.wrap<0&&(Gt.wrap=-Gt.wrap),Gt.status=Gt.wrap?q:rt,X.adler=Gt.wrap===2?0:1,Gt.last_flush=y,h._tr_init(Gt),w):jt(X,T)}function ze(X){var Gt=Se(X);return Gt===w&&function(Nt){Nt.window_size=2*Nt.w_size,ee(Nt.head),Nt.max_lazy_match=C[Nt.level].max_lazy,Nt.good_match=C[Nt.level].good_length,Nt.nice_match=C[Nt.level].nice_length,Nt.max_chain_length=C[Nt.level].max_chain,Nt.strstart=0,Nt.block_start=0,Nt.lookahead=0,Nt.insert=0,Nt.match_length=Nt.prev_length=P-1,Nt.match_available=0,Nt.ins_h=0}(X.state),Gt}function qe(X,Gt,Nt,wt,yt,Mt){if(!X)return T;var vt=1;if(Gt===k&&(Gt=6),wt<0?(vt=0,wt=-wt):15<wt&&(vt=2,wt-=16),yt<1||N<yt||Nt!==R||wt<8||15<wt||Gt<0||9<Gt||Mt<0||M<Mt)return jt(X,T);wt===8&&(wt=9);var Pt=new Me;return(X.state=Pt).strm=X,Pt.wrap=vt,Pt.gzhead=null,Pt.w_bits=wt,Pt.w_size=1<<Pt.w_bits,Pt.w_mask=Pt.w_size-1,Pt.hash_bits=yt+7,Pt.hash_size=1<<Pt.hash_bits,Pt.hash_mask=Pt.hash_size-1,Pt.hash_shift=~~((Pt.hash_bits+P-1)/P),Pt.window=new O.Buf8(2*Pt.w_size),Pt.head=new O.Buf16(Pt.hash_size),Pt.prev=new O.Buf16(Pt.w_size),Pt.lit_bufsize=1<<yt+6,Pt.pending_buf_size=4*Pt.lit_bufsize,Pt.pending_buf=new O.Buf8(Pt.pending_buf_size),Pt.d_buf=1*Pt.lit_bufsize,Pt.l_buf=3*Pt.lit_bufsize,Pt.level=Gt,Pt.strategy=Mt,Pt.method=Nt,ze(X)}C=[new fe(0,0,0,0,function(X,Gt){var Nt=65535;for(Nt>X.pending_buf_size-5&&(Nt=X.pending_buf_size-5);;){if(X.lookahead<=1){if(ne(X),X.lookahead===0&&Gt===y)return H;if(X.lookahead===0)break}X.strstart+=X.lookahead,X.lookahead=0;var wt=X.block_start+Nt;if((X.strstart===0||X.strstart>=wt)&&(X.lookahead=X.strstart-wt,X.strstart=wt,gt(X,!1),X.strm.avail_out===0)||X.strstart-X.block_start>=X.w_size-tt&&(gt(X,!1),X.strm.avail_out===0))return H}return X.insert=0,Gt===S?(gt(X,!0),X.strm.avail_out===0?dt:ct):(X.strstart>X.block_start&&(gt(X,!1),X.strm.avail_out),H)}),new fe(4,4,8,4,re),new fe(4,5,16,8,re),new fe(4,6,32,32,re),new fe(4,4,16,16,ce),new fe(8,16,32,32,ce),new fe(8,16,128,128,ce),new fe(8,32,128,256,ce),new fe(32,128,258,1024,ce),new fe(32,258,258,4096,ce)],j.deflateInit=function(X,Gt){return qe(X,Gt,R,15,8,0)},j.deflateInit2=qe,j.deflateReset=ze,j.deflateResetKeep=Se,j.deflateSetHeader=function(X,Gt){return X&&X.state?X.state.wrap!==2?T:(X.state.gzhead=Gt,w):T},j.deflate=function(X,Gt){var Nt,wt,yt,Mt;if(!X||!X.state||5<Gt||Gt<0)return X?jt(X,T):T;if(wt=X.state,!X.output||!X.input&&X.avail_in!==0||wt.status===666&&Gt!==S)return jt(X,X.avail_out===0?-5:T);if(wt.strm=X,Nt=wt.last_flush,wt.last_flush=Gt,wt.status===q)if(wt.wrap===2)X.adler=0,qt(wt,31),qt(wt,139),qt(wt,8),wt.gzhead?(qt(wt,(wt.gzhead.text?1:0)+(wt.gzhead.hcrc?2:0)+(wt.gzhead.extra?4:0)+(wt.gzhead.name?8:0)+(wt.gzhead.comment?16:0)),qt(wt,255&wt.gzhead.time),qt(wt,wt.gzhead.time>>8&255),qt(wt,wt.gzhead.time>>16&255),qt(wt,wt.gzhead.time>>24&255),qt(wt,wt.level===9?2:2<=wt.strategy||wt.level<2?4:0),qt(wt,255&wt.gzhead.os),wt.gzhead.extra&&wt.gzhead.extra.length&&(qt(wt,255&wt.gzhead.extra.length),qt(wt,wt.gzhead.extra.length>>8&255)),wt.gzhead.hcrc&&(X.adler=m(X.adler,wt.pending_buf,wt.pending,0)),wt.gzindex=0,wt.status=69):(qt(wt,0),qt(wt,0),qt(wt,0),qt(wt,0),qt(wt,0),qt(wt,wt.level===9?2:2<=wt.strategy||wt.level<2?4:0),qt(wt,3),wt.status=rt);else{var vt=R+(wt.w_bits-8<<4)<<8;vt|=(2<=wt.strategy||wt.level<2?0:wt.level<6?1:wt.level===6?2:3)<<6,wt.strstart!==0&&(vt|=32),vt+=31-vt%31,wt.status=rt,Yt(wt,vt),wt.strstart!==0&&(Yt(wt,X.adler>>>16),Yt(wt,65535&X.adler)),X.adler=1}if(wt.status===69)if(wt.gzhead.extra){for(yt=wt.pending;wt.gzindex<(65535&wt.gzhead.extra.length)&&(wt.pending!==wt.pending_buf_size||(wt.gzhead.hcrc&&wt.pending>yt&&(X.adler=m(X.adler,wt.pending_buf,wt.pending-yt,yt)),mt(X),yt=wt.pending,wt.pending!==wt.pending_buf_size));)qt(wt,255&wt.gzhead.extra[wt.gzindex]),wt.gzindex++;wt.gzhead.hcrc&&wt.pending>yt&&(X.adler=m(X.adler,wt.pending_buf,wt.pending-yt,yt)),wt.gzindex===wt.gzhead.extra.length&&(wt.gzindex=0,wt.status=73)}else wt.status=73;if(wt.status===73)if(wt.gzhead.name){yt=wt.pending;do{if(wt.pending===wt.pending_buf_size&&(wt.gzhead.hcrc&&wt.pending>yt&&(X.adler=m(X.adler,wt.pending_buf,wt.pending-yt,yt)),mt(X),yt=wt.pending,wt.pending===wt.pending_buf_size)){Mt=1;break}Mt=wt.gzindex<wt.gzhead.name.length?255&wt.gzhead.name.charCodeAt(wt.gzindex++):0,qt(wt,Mt)}while(Mt!==0);wt.gzhead.hcrc&&wt.pending>yt&&(X.adler=m(X.adler,wt.pending_buf,wt.pending-yt,yt)),Mt===0&&(wt.gzindex=0,wt.status=91)}else wt.status=91;if(wt.status===91)if(wt.gzhead.comment){yt=wt.pending;do{if(wt.pending===wt.pending_buf_size&&(wt.gzhead.hcrc&&wt.pending>yt&&(X.adler=m(X.adler,wt.pending_buf,wt.pending-yt,yt)),mt(X),yt=wt.pending,wt.pending===wt.pending_buf_size)){Mt=1;break}Mt=wt.gzindex<wt.gzhead.comment.length?255&wt.gzhead.comment.charCodeAt(wt.gzindex++):0,qt(wt,Mt)}while(Mt!==0);wt.gzhead.hcrc&&wt.pending>yt&&(X.adler=m(X.adler,wt.pending_buf,wt.pending-yt,yt)),Mt===0&&(wt.status=103)}else wt.status=103;if(wt.status===103&&(wt.gzhead.hcrc?(wt.pending+2>wt.pending_buf_size&&mt(X),wt.pending+2<=wt.pending_buf_size&&(qt(wt,255&X.adler),qt(wt,X.adler>>8&255),X.adler=0,wt.status=rt)):wt.status=rt),wt.pending!==0){if(mt(X),X.avail_out===0)return wt.last_flush=-1,w}else if(X.avail_in===0&&At(Gt)<=At(Nt)&&Gt!==S)return jt(X,-5);if(wt.status===666&&X.avail_in!==0)return jt(X,-5);if(X.avail_in!==0||wt.lookahead!==0||Gt!==y&&wt.status!==666){var Pt=wt.strategy===2?function(A,ot){for(var ft;;){if(A.lookahead===0&&(ne(A),A.lookahead===0)){if(ot===y)return H;break}if(A.match_length=0,ft=h._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,ft&&(gt(A,!1),A.strm.avail_out===0))return H}return A.insert=0,ot===S?(gt(A,!0),A.strm.avail_out===0?dt:ct):A.last_lit&&(gt(A,!1),A.strm.avail_out===0)?H:Y}(wt,Gt):wt.strategy===3?function(A,ot){for(var ft,xt,It,Ut,pe=A.window;;){if(A.lookahead<=z){if(ne(A),A.lookahead<=z&&ot===y)return H;if(A.lookahead===0)break}if(A.match_length=0,A.lookahead>=P&&0<A.strstart&&(xt=pe[It=A.strstart-1])===pe[++It]&&xt===pe[++It]&&xt===pe[++It]){Ut=A.strstart+z;do;while(xt===pe[++It]&&xt===pe[++It]&&xt===pe[++It]&&xt===pe[++It]&&xt===pe[++It]&&xt===pe[++It]&&xt===pe[++It]&&xt===pe[++It]&&It<Ut);A.match_length=z-(Ut-It),A.match_length>A.lookahead&&(A.match_length=A.lookahead)}if(A.match_length>=P?(ft=h._tr_tally(A,1,A.match_length-P),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0):(ft=h._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++),ft&&(gt(A,!1),A.strm.avail_out===0))return H}return A.insert=0,ot===S?(gt(A,!0),A.strm.avail_out===0?dt:ct):A.last_lit&&(gt(A,!1),A.strm.avail_out===0)?H:Y}(wt,Gt):C[wt.level].func(wt,Gt);if(Pt!==dt&&Pt!==ct||(wt.status=666),Pt===H||Pt===dt)return X.avail_out===0&&(wt.last_flush=-1),w;if(Pt===Y&&(Gt===1?h._tr_align(wt):Gt!==5&&(h._tr_stored_block(wt,0,0,!1),Gt===3&&(ee(wt.head),wt.lookahead===0&&(wt.strstart=0,wt.block_start=0,wt.insert=0))),mt(X),X.avail_out===0))return wt.last_flush=-1,w}return Gt!==S?w:wt.wrap<=0?1:(wt.wrap===2?(qt(wt,255&X.adler),qt(wt,X.adler>>8&255),qt(wt,X.adler>>16&255),qt(wt,X.adler>>24&255),qt(wt,255&X.total_in),qt(wt,X.total_in>>8&255),qt(wt,X.total_in>>16&255),qt(wt,X.total_in>>24&255)):(Yt(wt,X.adler>>>16),Yt(wt,65535&X.adler)),mt(X),0<wt.wrap&&(wt.wrap=-wt.wrap),wt.pending!==0?w:1)},j.deflateEnd=function(X){var Gt;return X&&X.state?(Gt=X.state.status)!==q&&Gt!==69&&Gt!==73&&Gt!==91&&Gt!==103&&Gt!==rt&&Gt!==666?jt(X,T):(X.state=null,Gt===rt?jt(X,-3):w):T},j.deflateSetDictionary=function(X,Gt){var Nt,wt,yt,Mt,vt,Pt,A,ot,ft=Gt.length;if(!X||!X.state||(Mt=(Nt=X.state).wrap)===2||Mt===1&&Nt.status!==q||Nt.lookahead)return T;for(Mt===1&&(X.adler=v(X.adler,Gt,ft,0)),Nt.wrap=0,ft>=Nt.w_size&&(Mt===0&&(ee(Nt.head),Nt.strstart=0,Nt.block_start=0,Nt.insert=0),ot=new O.Buf8(Nt.w_size),O.arraySet(ot,Gt,ft-Nt.w_size,Nt.w_size,0),Gt=ot,ft=Nt.w_size),vt=X.avail_in,Pt=X.next_in,A=X.input,X.avail_in=ft,X.next_in=0,X.input=Gt,ne(Nt);Nt.lookahead>=P;){for(wt=Nt.strstart,yt=Nt.lookahead-(P-1);Nt.ins_h=(Nt.ins_h<<Nt.hash_shift^Nt.window[wt+P-1])&Nt.hash_mask,Nt.prev[wt&Nt.w_mask]=Nt.head[Nt.ins_h],Nt.head[Nt.ins_h]=wt,wt++,--yt;);Nt.strstart=wt,Nt.lookahead=P-1,ne(Nt)}return Nt.strstart+=Nt.lookahead,Nt.block_start=Nt.strstart,Nt.insert=Nt.lookahead,Nt.lookahead=0,Nt.match_length=Nt.prev_length=P-1,Nt.match_available=0,X.next_in=Pt,X.input=A,X.avail_in=vt,Nt.wrap=Mt,w},j.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(F,V,j){V.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(F,V,j){V.exports=function(C,O){var h,v,m,g,y,S,w,T,k,M,D,R,N,W,$,J,U,L,P,z,tt,q,rt,H,Y;h=C.state,v=C.next_in,H=C.input,m=v+(C.avail_in-5),g=C.next_out,Y=C.output,y=g-(O-C.avail_out),S=g+(C.avail_out-257),w=h.dmax,T=h.wsize,k=h.whave,M=h.wnext,D=h.window,R=h.hold,N=h.bits,W=h.lencode,$=h.distcode,J=(1<<h.lenbits)-1,U=(1<<h.distbits)-1;t:do{N<15&&(R+=H[v++]<<N,N+=8,R+=H[v++]<<N,N+=8),L=W[R&J];e:for(;;){if(R>>>=P=L>>>24,N-=P,(P=L>>>16&255)==0)Y[g++]=65535&L;else{if(!(16&P)){if(!(64&P)){L=W[(65535&L)+(R&(1<<P)-1)];continue e}if(32&P){h.mode=12;break t}C.msg="invalid literal/length code",h.mode=30;break t}z=65535&L,(P&=15)&&(N<P&&(R+=H[v++]<<N,N+=8),z+=R&(1<<P)-1,R>>>=P,N-=P),N<15&&(R+=H[v++]<<N,N+=8,R+=H[v++]<<N,N+=8),L=$[R&U];n:for(;;){if(R>>>=P=L>>>24,N-=P,!(16&(P=L>>>16&255))){if(!(64&P)){L=$[(65535&L)+(R&(1<<P)-1)];continue n}C.msg="invalid distance code",h.mode=30;break t}if(tt=65535&L,N<(P&=15)&&(R+=H[v++]<<N,(N+=8)<P&&(R+=H[v++]<<N,N+=8)),w<(tt+=R&(1<<P)-1)){C.msg="invalid distance too far back",h.mode=30;break t}if(R>>>=P,N-=P,(P=g-y)<tt){if(k<(P=tt-P)&&h.sane){C.msg="invalid distance too far back",h.mode=30;break t}if(rt=D,(q=0)===M){if(q+=T-P,P<z){for(z-=P;Y[g++]=D[q++],--P;);q=g-tt,rt=Y}}else if(M<P){if(q+=T+M-P,(P-=M)<z){for(z-=P;Y[g++]=D[q++],--P;);if(q=0,M<z){for(z-=P=M;Y[g++]=D[q++],--P;);q=g-tt,rt=Y}}}else if(q+=M-P,P<z){for(z-=P;Y[g++]=D[q++],--P;);q=g-tt,rt=Y}for(;2<z;)Y[g++]=rt[q++],Y[g++]=rt[q++],Y[g++]=rt[q++],z-=3;z&&(Y[g++]=rt[q++],1<z&&(Y[g++]=rt[q++]))}else{for(q=g-tt;Y[g++]=Y[q++],Y[g++]=Y[q++],Y[g++]=Y[q++],2<(z-=3););z&&(Y[g++]=Y[q++],1<z&&(Y[g++]=Y[q++]))}break}}break}}while(v<m&&g<S);v-=z=N>>3,R&=(1<<(N-=z<<3))-1,C.next_in=v,C.next_out=g,C.avail_in=v<m?m-v+5:5-(v-m),C.avail_out=g<S?S-g+257:257-(g-S),h.hold=R,h.bits=N}},{}],49:[function(F,V,j){var C=F("../utils/common"),O=F("./adler32"),h=F("./crc32"),v=F("./inffast"),m=F("./inftrees"),g=1,y=2,S=0,w=-2,T=1,k=852,M=592;function D(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new C.Buf16(320),this.work=new C.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function N(q){var rt;return q&&q.state?(rt=q.state,q.total_in=q.total_out=rt.total=0,q.msg="",rt.wrap&&(q.adler=1&rt.wrap),rt.mode=T,rt.last=0,rt.havedict=0,rt.dmax=32768,rt.head=null,rt.hold=0,rt.bits=0,rt.lencode=rt.lendyn=new C.Buf32(k),rt.distcode=rt.distdyn=new C.Buf32(M),rt.sane=1,rt.back=-1,S):w}function W(q){var rt;return q&&q.state?((rt=q.state).wsize=0,rt.whave=0,rt.wnext=0,N(q)):w}function $(q,rt){var H,Y;return q&&q.state?(Y=q.state,rt<0?(H=0,rt=-rt):(H=1+(rt>>4),rt<48&&(rt&=15)),rt&&(rt<8||15<rt)?w:(Y.window!==null&&Y.wbits!==rt&&(Y.window=null),Y.wrap=H,Y.wbits=rt,W(q))):w}function J(q,rt){var H,Y;return q?(Y=new R,(q.state=Y).window=null,(H=$(q,rt))!==S&&(q.state=null),H):w}var U,L,P=!0;function z(q){if(P){var rt;for(U=new C.Buf32(512),L=new C.Buf32(32),rt=0;rt<144;)q.lens[rt++]=8;for(;rt<256;)q.lens[rt++]=9;for(;rt<280;)q.lens[rt++]=7;for(;rt<288;)q.lens[rt++]=8;for(m(g,q.lens,0,288,U,0,q.work,{bits:9}),rt=0;rt<32;)q.lens[rt++]=5;m(y,q.lens,0,32,L,0,q.work,{bits:5}),P=!1}q.lencode=U,q.lenbits=9,q.distcode=L,q.distbits=5}function tt(q,rt,H,Y){var dt,ct=q.state;return ct.window===null&&(ct.wsize=1<<ct.wbits,ct.wnext=0,ct.whave=0,ct.window=new C.Buf8(ct.wsize)),Y>=ct.wsize?(C.arraySet(ct.window,rt,H-ct.wsize,ct.wsize,0),ct.wnext=0,ct.whave=ct.wsize):(Y<(dt=ct.wsize-ct.wnext)&&(dt=Y),C.arraySet(ct.window,rt,H-Y,dt,ct.wnext),(Y-=dt)?(C.arraySet(ct.window,rt,H-Y,Y,0),ct.wnext=Y,ct.whave=ct.wsize):(ct.wnext+=dt,ct.wnext===ct.wsize&&(ct.wnext=0),ct.whave<ct.wsize&&(ct.whave+=dt))),0}j.inflateReset=W,j.inflateReset2=$,j.inflateResetKeep=N,j.inflateInit=function(q){return J(q,15)},j.inflateInit2=J,j.inflate=function(q,rt){var H,Y,dt,ct,jt,At,ee,mt,gt,qt,Yt,Ht,ne,re,ce,fe,Me,Se,ze,qe,X,Gt,Nt,wt,yt=0,Mt=new C.Buf8(4),vt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!q||!q.state||!q.output||!q.input&&q.avail_in!==0)return w;(H=q.state).mode===12&&(H.mode=13),jt=q.next_out,dt=q.output,ee=q.avail_out,ct=q.next_in,Y=q.input,At=q.avail_in,mt=H.hold,gt=H.bits,qt=At,Yt=ee,Gt=S;t:for(;;)switch(H.mode){case T:if(H.wrap===0){H.mode=13;break}for(;gt<16;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}if(2&H.wrap&&mt===35615){Mt[H.check=0]=255&mt,Mt[1]=mt>>>8&255,H.check=h(H.check,Mt,2,0),gt=mt=0,H.mode=2;break}if(H.flags=0,H.head&&(H.head.done=!1),!(1&H.wrap)||(((255&mt)<<8)+(mt>>8))%31){q.msg="incorrect header check",H.mode=30;break}if((15&mt)!=8){q.msg="unknown compression method",H.mode=30;break}if(gt-=4,X=8+(15&(mt>>>=4)),H.wbits===0)H.wbits=X;else if(X>H.wbits){q.msg="invalid window size",H.mode=30;break}H.dmax=1<<X,q.adler=H.check=1,H.mode=512&mt?10:12,gt=mt=0;break;case 2:for(;gt<16;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}if(H.flags=mt,(255&H.flags)!=8){q.msg="unknown compression method",H.mode=30;break}if(57344&H.flags){q.msg="unknown header flags set",H.mode=30;break}H.head&&(H.head.text=mt>>8&1),512&H.flags&&(Mt[0]=255&mt,Mt[1]=mt>>>8&255,H.check=h(H.check,Mt,2,0)),gt=mt=0,H.mode=3;case 3:for(;gt<32;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}H.head&&(H.head.time=mt),512&H.flags&&(Mt[0]=255&mt,Mt[1]=mt>>>8&255,Mt[2]=mt>>>16&255,Mt[3]=mt>>>24&255,H.check=h(H.check,Mt,4,0)),gt=mt=0,H.mode=4;case 4:for(;gt<16;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}H.head&&(H.head.xflags=255&mt,H.head.os=mt>>8),512&H.flags&&(Mt[0]=255&mt,Mt[1]=mt>>>8&255,H.check=h(H.check,Mt,2,0)),gt=mt=0,H.mode=5;case 5:if(1024&H.flags){for(;gt<16;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}H.length=mt,H.head&&(H.head.extra_len=mt),512&H.flags&&(Mt[0]=255&mt,Mt[1]=mt>>>8&255,H.check=h(H.check,Mt,2,0)),gt=mt=0}else H.head&&(H.head.extra=null);H.mode=6;case 6:if(1024&H.flags&&(At<(Ht=H.length)&&(Ht=At),Ht&&(H.head&&(X=H.head.extra_len-H.length,H.head.extra||(H.head.extra=new Array(H.head.extra_len)),C.arraySet(H.head.extra,Y,ct,Ht,X)),512&H.flags&&(H.check=h(H.check,Y,Ht,ct)),At-=Ht,ct+=Ht,H.length-=Ht),H.length))break t;H.length=0,H.mode=7;case 7:if(2048&H.flags){if(At===0)break t;for(Ht=0;X=Y[ct+Ht++],H.head&&X&&H.length<65536&&(H.head.name+=String.fromCharCode(X)),X&&Ht<At;);if(512&H.flags&&(H.check=h(H.check,Y,Ht,ct)),At-=Ht,ct+=Ht,X)break t}else H.head&&(H.head.name=null);H.length=0,H.mode=8;case 8:if(4096&H.flags){if(At===0)break t;for(Ht=0;X=Y[ct+Ht++],H.head&&X&&H.length<65536&&(H.head.comment+=String.fromCharCode(X)),X&&Ht<At;);if(512&H.flags&&(H.check=h(H.check,Y,Ht,ct)),At-=Ht,ct+=Ht,X)break t}else H.head&&(H.head.comment=null);H.mode=9;case 9:if(512&H.flags){for(;gt<16;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}if(mt!==(65535&H.check)){q.msg="header crc mismatch",H.mode=30;break}gt=mt=0}H.head&&(H.head.hcrc=H.flags>>9&1,H.head.done=!0),q.adler=H.check=0,H.mode=12;break;case 10:for(;gt<32;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}q.adler=H.check=D(mt),gt=mt=0,H.mode=11;case 11:if(H.havedict===0)return q.next_out=jt,q.avail_out=ee,q.next_in=ct,q.avail_in=At,H.hold=mt,H.bits=gt,2;q.adler=H.check=1,H.mode=12;case 12:if(rt===5||rt===6)break t;case 13:if(H.last){mt>>>=7&gt,gt-=7&gt,H.mode=27;break}for(;gt<3;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}switch(H.last=1&mt,gt-=1,3&(mt>>>=1)){case 0:H.mode=14;break;case 1:if(z(H),H.mode=20,rt!==6)break;mt>>>=2,gt-=2;break t;case 2:H.mode=17;break;case 3:q.msg="invalid block type",H.mode=30}mt>>>=2,gt-=2;break;case 14:for(mt>>>=7&gt,gt-=7&gt;gt<32;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}if((65535&mt)!=(mt>>>16^65535)){q.msg="invalid stored block lengths",H.mode=30;break}if(H.length=65535&mt,gt=mt=0,H.mode=15,rt===6)break t;case 15:H.mode=16;case 16:if(Ht=H.length){if(At<Ht&&(Ht=At),ee<Ht&&(Ht=ee),Ht===0)break t;C.arraySet(dt,Y,ct,Ht,jt),At-=Ht,ct+=Ht,ee-=Ht,jt+=Ht,H.length-=Ht;break}H.mode=12;break;case 17:for(;gt<14;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}if(H.nlen=257+(31&mt),mt>>>=5,gt-=5,H.ndist=1+(31&mt),mt>>>=5,gt-=5,H.ncode=4+(15&mt),mt>>>=4,gt-=4,286<H.nlen||30<H.ndist){q.msg="too many length or distance symbols",H.mode=30;break}H.have=0,H.mode=18;case 18:for(;H.have<H.ncode;){for(;gt<3;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}H.lens[vt[H.have++]]=7&mt,mt>>>=3,gt-=3}for(;H.have<19;)H.lens[vt[H.have++]]=0;if(H.lencode=H.lendyn,H.lenbits=7,Nt={bits:H.lenbits},Gt=m(0,H.lens,0,19,H.lencode,0,H.work,Nt),H.lenbits=Nt.bits,Gt){q.msg="invalid code lengths set",H.mode=30;break}H.have=0,H.mode=19;case 19:for(;H.have<H.nlen+H.ndist;){for(;fe=(yt=H.lencode[mt&(1<<H.lenbits)-1])>>>16&255,Me=65535&yt,!((ce=yt>>>24)<=gt);){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}if(Me<16)mt>>>=ce,gt-=ce,H.lens[H.have++]=Me;else{if(Me===16){for(wt=ce+2;gt<wt;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}if(mt>>>=ce,gt-=ce,H.have===0){q.msg="invalid bit length repeat",H.mode=30;break}X=H.lens[H.have-1],Ht=3+(3&mt),mt>>>=2,gt-=2}else if(Me===17){for(wt=ce+3;gt<wt;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}gt-=ce,X=0,Ht=3+(7&(mt>>>=ce)),mt>>>=3,gt-=3}else{for(wt=ce+7;gt<wt;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}gt-=ce,X=0,Ht=11+(127&(mt>>>=ce)),mt>>>=7,gt-=7}if(H.have+Ht>H.nlen+H.ndist){q.msg="invalid bit length repeat",H.mode=30;break}for(;Ht--;)H.lens[H.have++]=X}}if(H.mode===30)break;if(H.lens[256]===0){q.msg="invalid code -- missing end-of-block",H.mode=30;break}if(H.lenbits=9,Nt={bits:H.lenbits},Gt=m(g,H.lens,0,H.nlen,H.lencode,0,H.work,Nt),H.lenbits=Nt.bits,Gt){q.msg="invalid literal/lengths set",H.mode=30;break}if(H.distbits=6,H.distcode=H.distdyn,Nt={bits:H.distbits},Gt=m(y,H.lens,H.nlen,H.ndist,H.distcode,0,H.work,Nt),H.distbits=Nt.bits,Gt){q.msg="invalid distances set",H.mode=30;break}if(H.mode=20,rt===6)break t;case 20:H.mode=21;case 21:if(6<=At&&258<=ee){q.next_out=jt,q.avail_out=ee,q.next_in=ct,q.avail_in=At,H.hold=mt,H.bits=gt,v(q,Yt),jt=q.next_out,dt=q.output,ee=q.avail_out,ct=q.next_in,Y=q.input,At=q.avail_in,mt=H.hold,gt=H.bits,H.mode===12&&(H.back=-1);break}for(H.back=0;fe=(yt=H.lencode[mt&(1<<H.lenbits)-1])>>>16&255,Me=65535&yt,!((ce=yt>>>24)<=gt);){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}if(fe&&!(240&fe)){for(Se=ce,ze=fe,qe=Me;fe=(yt=H.lencode[qe+((mt&(1<<Se+ze)-1)>>Se)])>>>16&255,Me=65535&yt,!(Se+(ce=yt>>>24)<=gt);){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}mt>>>=Se,gt-=Se,H.back+=Se}if(mt>>>=ce,gt-=ce,H.back+=ce,H.length=Me,fe===0){H.mode=26;break}if(32&fe){H.back=-1,H.mode=12;break}if(64&fe){q.msg="invalid literal/length code",H.mode=30;break}H.extra=15&fe,H.mode=22;case 22:if(H.extra){for(wt=H.extra;gt<wt;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}H.length+=mt&(1<<H.extra)-1,mt>>>=H.extra,gt-=H.extra,H.back+=H.extra}H.was=H.length,H.mode=23;case 23:for(;fe=(yt=H.distcode[mt&(1<<H.distbits)-1])>>>16&255,Me=65535&yt,!((ce=yt>>>24)<=gt);){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}if(!(240&fe)){for(Se=ce,ze=fe,qe=Me;fe=(yt=H.distcode[qe+((mt&(1<<Se+ze)-1)>>Se)])>>>16&255,Me=65535&yt,!(Se+(ce=yt>>>24)<=gt);){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}mt>>>=Se,gt-=Se,H.back+=Se}if(mt>>>=ce,gt-=ce,H.back+=ce,64&fe){q.msg="invalid distance code",H.mode=30;break}H.offset=Me,H.extra=15&fe,H.mode=24;case 24:if(H.extra){for(wt=H.extra;gt<wt;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}H.offset+=mt&(1<<H.extra)-1,mt>>>=H.extra,gt-=H.extra,H.back+=H.extra}if(H.offset>H.dmax){q.msg="invalid distance too far back",H.mode=30;break}H.mode=25;case 25:if(ee===0)break t;if(Ht=Yt-ee,H.offset>Ht){if((Ht=H.offset-Ht)>H.whave&&H.sane){q.msg="invalid distance too far back",H.mode=30;break}ne=Ht>H.wnext?(Ht-=H.wnext,H.wsize-Ht):H.wnext-Ht,Ht>H.length&&(Ht=H.length),re=H.window}else re=dt,ne=jt-H.offset,Ht=H.length;for(ee<Ht&&(Ht=ee),ee-=Ht,H.length-=Ht;dt[jt++]=re[ne++],--Ht;);H.length===0&&(H.mode=21);break;case 26:if(ee===0)break t;dt[jt++]=H.length,ee--,H.mode=21;break;case 27:if(H.wrap){for(;gt<32;){if(At===0)break t;At--,mt|=Y[ct++]<<gt,gt+=8}if(Yt-=ee,q.total_out+=Yt,H.total+=Yt,Yt&&(q.adler=H.check=H.flags?h(H.check,dt,Yt,jt-Yt):O(H.check,dt,Yt,jt-Yt)),Yt=ee,(H.flags?mt:D(mt))!==H.check){q.msg="incorrect data check",H.mode=30;break}gt=mt=0}H.mode=28;case 28:if(H.wrap&&H.flags){for(;gt<32;){if(At===0)break t;At--,mt+=Y[ct++]<<gt,gt+=8}if(mt!==(4294967295&H.total)){q.msg="incorrect length check",H.mode=30;break}gt=mt=0}H.mode=29;case 29:Gt=1;break t;case 30:Gt=-3;break t;case 31:return-4;default:return w}return q.next_out=jt,q.avail_out=ee,q.next_in=ct,q.avail_in=At,H.hold=mt,H.bits=gt,(H.wsize||Yt!==q.avail_out&&H.mode<30&&(H.mode<27||rt!==4))&&tt(q,q.output,q.next_out,Yt-q.avail_out)?(H.mode=31,-4):(qt-=q.avail_in,Yt-=q.avail_out,q.total_in+=qt,q.total_out+=Yt,H.total+=Yt,H.wrap&&Yt&&(q.adler=H.check=H.flags?h(H.check,dt,Yt,q.next_out-Yt):O(H.check,dt,Yt,q.next_out-Yt)),q.data_type=H.bits+(H.last?64:0)+(H.mode===12?128:0)+(H.mode===20||H.mode===15?256:0),(qt==0&&Yt===0||rt===4)&&Gt===S&&(Gt=-5),Gt)},j.inflateEnd=function(q){if(!q||!q.state)return w;var rt=q.state;return rt.window&&(rt.window=null),q.state=null,S},j.inflateGetHeader=function(q,rt){var H;return q&&q.state&&2&(H=q.state).wrap?((H.head=rt).done=!1,S):w},j.inflateSetDictionary=function(q,rt){var H,Y=rt.length;return q&&q.state?(H=q.state).wrap!==0&&H.mode!==11?w:H.mode===11&&O(1,rt,Y,0)!==H.check?-3:tt(q,rt,Y,Y)?(H.mode=31,-4):(H.havedict=1,S):w},j.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(F,V,j){var C=F("../utils/common"),O=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];V.exports=function(g,y,S,w,T,k,M,D){var R,N,W,$,J,U,L,P,z,tt=D.bits,q=0,rt=0,H=0,Y=0,dt=0,ct=0,jt=0,At=0,ee=0,mt=0,gt=null,qt=0,Yt=new C.Buf16(16),Ht=new C.Buf16(16),ne=null,re=0;for(q=0;q<=15;q++)Yt[q]=0;for(rt=0;rt<w;rt++)Yt[y[S+rt]]++;for(dt=tt,Y=15;1<=Y&&Yt[Y]===0;Y--);if(Y<dt&&(dt=Y),Y===0)return T[k++]=20971520,T[k++]=20971520,D.bits=1,0;for(H=1;H<Y&&Yt[H]===0;H++);for(dt<H&&(dt=H),q=At=1;q<=15;q++)if(At<<=1,(At-=Yt[q])<0)return-1;if(0<At&&(g===0||Y!==1))return-1;for(Ht[1]=0,q=1;q<15;q++)Ht[q+1]=Ht[q]+Yt[q];for(rt=0;rt<w;rt++)y[S+rt]!==0&&(M[Ht[y[S+rt]]++]=rt);if(U=g===0?(gt=ne=M,19):g===1?(gt=O,qt-=257,ne=h,re-=257,256):(gt=v,ne=m,-1),q=H,J=k,jt=rt=mt=0,W=-1,$=(ee=1<<(ct=dt))-1,g===1&&852<ee||g===2&&592<ee)return 1;for(;;){for(L=q-jt,z=M[rt]<U?(P=0,M[rt]):M[rt]>U?(P=ne[re+M[rt]],gt[qt+M[rt]]):(P=96,0),R=1<<q-jt,H=N=1<<ct;T[J+(mt>>jt)+(N-=R)]=L<<24|P<<16|z|0,N!==0;);for(R=1<<q-1;mt&R;)R>>=1;if(R!==0?(mt&=R-1,mt+=R):mt=0,rt++,--Yt[q]==0){if(q===Y)break;q=y[S+M[rt]]}if(dt<q&&(mt&$)!==W){for(jt===0&&(jt=dt),J+=H,At=1<<(ct=q-jt);ct+jt<Y&&!((At-=Yt[ct+jt])<=0);)ct++,At<<=1;if(ee+=1<<ct,g===1&&852<ee||g===2&&592<ee)return 1;T[W=mt&$]=dt<<24|ct<<16|J-k|0}}return mt!==0&&(T[J+mt]=q-jt<<24|4194304|0),D.bits=dt,0}},{"../utils/common":41}],51:[function(F,V,j){V.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(F,V,j){var C=F("../utils/common"),O=0,h=1;function v(yt){for(var Mt=yt.length;0<=--Mt;)yt[Mt]=0}var m=0,g=29,y=256,S=y+1+g,w=30,T=19,k=2*S+1,M=15,D=16,R=7,N=256,W=16,$=17,J=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],tt=new Array(2*(S+2));v(tt);var q=new Array(2*w);v(q);var rt=new Array(512);v(rt);var H=new Array(256);v(H);var Y=new Array(g);v(Y);var dt,ct,jt,At=new Array(w);function ee(yt,Mt,vt,Pt,A){this.static_tree=yt,this.extra_bits=Mt,this.extra_base=vt,this.elems=Pt,this.max_length=A,this.has_stree=yt&&yt.length}function mt(yt,Mt){this.dyn_tree=yt,this.max_code=0,this.stat_desc=Mt}function gt(yt){return yt<256?rt[yt]:rt[256+(yt>>>7)]}function qt(yt,Mt){yt.pending_buf[yt.pending++]=255&Mt,yt.pending_buf[yt.pending++]=Mt>>>8&255}function Yt(yt,Mt,vt){yt.bi_valid>D-vt?(yt.bi_buf|=Mt<<yt.bi_valid&65535,qt(yt,yt.bi_buf),yt.bi_buf=Mt>>D-yt.bi_valid,yt.bi_valid+=vt-D):(yt.bi_buf|=Mt<<yt.bi_valid&65535,yt.bi_valid+=vt)}function Ht(yt,Mt,vt){Yt(yt,vt[2*Mt],vt[2*Mt+1])}function ne(yt,Mt){for(var vt=0;vt|=1&yt,yt>>>=1,vt<<=1,0<--Mt;);return vt>>>1}function re(yt,Mt,vt){var Pt,A,ot=new Array(M+1),ft=0;for(Pt=1;Pt<=M;Pt++)ot[Pt]=ft=ft+vt[Pt-1]<<1;for(A=0;A<=Mt;A++){var xt=yt[2*A+1];xt!==0&&(yt[2*A]=ne(ot[xt]++,xt))}}function ce(yt){var Mt;for(Mt=0;Mt<S;Mt++)yt.dyn_ltree[2*Mt]=0;for(Mt=0;Mt<w;Mt++)yt.dyn_dtree[2*Mt]=0;for(Mt=0;Mt<T;Mt++)yt.bl_tree[2*Mt]=0;yt.dyn_ltree[2*N]=1,yt.opt_len=yt.static_len=0,yt.last_lit=yt.matches=0}function fe(yt){8<yt.bi_valid?qt(yt,yt.bi_buf):0<yt.bi_valid&&(yt.pending_buf[yt.pending++]=yt.bi_buf),yt.bi_buf=0,yt.bi_valid=0}function Me(yt,Mt,vt,Pt){var A=2*Mt,ot=2*vt;return yt[A]<yt[ot]||yt[A]===yt[ot]&&Pt[Mt]<=Pt[vt]}function Se(yt,Mt,vt){for(var Pt=yt.heap[vt],A=vt<<1;A<=yt.heap_len&&(A<yt.heap_len&&Me(Mt,yt.heap[A+1],yt.heap[A],yt.depth)&&A++,!Me(Mt,Pt,yt.heap[A],yt.depth));)yt.heap[vt]=yt.heap[A],vt=A,A<<=1;yt.heap[vt]=Pt}function ze(yt,Mt,vt){var Pt,A,ot,ft,xt=0;if(yt.last_lit!==0)for(;Pt=yt.pending_buf[yt.d_buf+2*xt]<<8|yt.pending_buf[yt.d_buf+2*xt+1],A=yt.pending_buf[yt.l_buf+xt],xt++,Pt===0?Ht(yt,A,Mt):(Ht(yt,(ot=H[A])+y+1,Mt),(ft=U[ot])!==0&&Yt(yt,A-=Y[ot],ft),Ht(yt,ot=gt(--Pt),vt),(ft=L[ot])!==0&&Yt(yt,Pt-=At[ot],ft)),xt<yt.last_lit;);Ht(yt,N,Mt)}function qe(yt,Mt){var vt,Pt,A,ot=Mt.dyn_tree,ft=Mt.stat_desc.static_tree,xt=Mt.stat_desc.has_stree,It=Mt.stat_desc.elems,Ut=-1;for(yt.heap_len=0,yt.heap_max=k,vt=0;vt<It;vt++)ot[2*vt]!==0?(yt.heap[++yt.heap_len]=Ut=vt,yt.depth[vt]=0):ot[2*vt+1]=0;for(;yt.heap_len<2;)ot[2*(A=yt.heap[++yt.heap_len]=Ut<2?++Ut:0)]=1,yt.depth[A]=0,yt.opt_len--,xt&&(yt.static_len-=ft[2*A+1]);for(Mt.max_code=Ut,vt=yt.heap_len>>1;1<=vt;vt--)Se(yt,ot,vt);for(A=It;vt=yt.heap[1],yt.heap[1]=yt.heap[yt.heap_len--],Se(yt,ot,1),Pt=yt.heap[1],yt.heap[--yt.heap_max]=vt,yt.heap[--yt.heap_max]=Pt,ot[2*A]=ot[2*vt]+ot[2*Pt],yt.depth[A]=(yt.depth[vt]>=yt.depth[Pt]?yt.depth[vt]:yt.depth[Pt])+1,ot[2*vt+1]=ot[2*Pt+1]=A,yt.heap[1]=A++,Se(yt,ot,1),2<=yt.heap_len;);yt.heap[--yt.heap_max]=yt.heap[1],function(pe,De){var Ve,$e,nn,ke,ht,_t,Rt=De.dyn_tree,$t=De.max_code,le=De.stat_desc.static_tree,be=De.stat_desc.has_stree,Ye=De.stat_desc.extra_bits,tn=De.stat_desc.extra_base,Ke=De.stat_desc.max_length,cn=0;for(ke=0;ke<=M;ke++)pe.bl_count[ke]=0;for(Rt[2*pe.heap[pe.heap_max]+1]=0,Ve=pe.heap_max+1;Ve<k;Ve++)Ke<(ke=Rt[2*Rt[2*($e=pe.heap[Ve])+1]+1]+1)&&(ke=Ke,cn++),Rt[2*$e+1]=ke,$t<$e||(pe.bl_count[ke]++,ht=0,tn<=$e&&(ht=Ye[$e-tn]),_t=Rt[2*$e],pe.opt_len+=_t*(ke+ht),be&&(pe.static_len+=_t*(le[2*$e+1]+ht)));if(cn!==0){do{for(ke=Ke-1;pe.bl_count[ke]===0;)ke--;pe.bl_count[ke]--,pe.bl_count[ke+1]+=2,pe.bl_count[Ke]--,cn-=2}while(0<cn);for(ke=Ke;ke!==0;ke--)for($e=pe.bl_count[ke];$e!==0;)$t<(nn=pe.heap[--Ve])||(Rt[2*nn+1]!==ke&&(pe.opt_len+=(ke-Rt[2*nn+1])*Rt[2*nn],Rt[2*nn+1]=ke),$e--)}}(yt,Mt),re(ot,Ut,yt.bl_count)}function X(yt,Mt,vt){var Pt,A,ot=-1,ft=Mt[1],xt=0,It=7,Ut=4;for(ft===0&&(It=138,Ut=3),Mt[2*(vt+1)+1]=65535,Pt=0;Pt<=vt;Pt++)A=ft,ft=Mt[2*(Pt+1)+1],++xt<It&&A===ft||(xt<Ut?yt.bl_tree[2*A]+=xt:A!==0?(A!==ot&&yt.bl_tree[2*A]++,yt.bl_tree[2*W]++):xt<=10?yt.bl_tree[2*$]++:yt.bl_tree[2*J]++,ot=A,Ut=(xt=0)===ft?(It=138,3):A===ft?(It=6,3):(It=7,4))}function Gt(yt,Mt,vt){var Pt,A,ot=-1,ft=Mt[1],xt=0,It=7,Ut=4;for(ft===0&&(It=138,Ut=3),Pt=0;Pt<=vt;Pt++)if(A=ft,ft=Mt[2*(Pt+1)+1],!(++xt<It&&A===ft)){if(xt<Ut)for(;Ht(yt,A,yt.bl_tree),--xt!=0;);else A!==0?(A!==ot&&(Ht(yt,A,yt.bl_tree),xt--),Ht(yt,W,yt.bl_tree),Yt(yt,xt-3,2)):xt<=10?(Ht(yt,$,yt.bl_tree),Yt(yt,xt-3,3)):(Ht(yt,J,yt.bl_tree),Yt(yt,xt-11,7));ot=A,Ut=(xt=0)===ft?(It=138,3):A===ft?(It=6,3):(It=7,4)}}v(At);var Nt=!1;function wt(yt,Mt,vt,Pt){Yt(yt,(m<<1)+(Pt?1:0),3),function(A,ot,ft,xt){fe(A),xt&&(qt(A,ft),qt(A,~ft)),C.arraySet(A.pending_buf,A.window,ot,ft,A.pending),A.pending+=ft}(yt,Mt,vt,!0)}j._tr_init=function(yt){Nt||(function(){var Mt,vt,Pt,A,ot,ft=new Array(M+1);for(A=Pt=0;A<g-1;A++)for(Y[A]=Pt,Mt=0;Mt<1<<U[A];Mt++)H[Pt++]=A;for(H[Pt-1]=A,A=ot=0;A<16;A++)for(At[A]=ot,Mt=0;Mt<1<<L[A];Mt++)rt[ot++]=A;for(ot>>=7;A<w;A++)for(At[A]=ot<<7,Mt=0;Mt<1<<L[A]-7;Mt++)rt[256+ot++]=A;for(vt=0;vt<=M;vt++)ft[vt]=0;for(Mt=0;Mt<=143;)tt[2*Mt+1]=8,Mt++,ft[8]++;for(;Mt<=255;)tt[2*Mt+1]=9,Mt++,ft[9]++;for(;Mt<=279;)tt[2*Mt+1]=7,Mt++,ft[7]++;for(;Mt<=287;)tt[2*Mt+1]=8,Mt++,ft[8]++;for(re(tt,S+1,ft),Mt=0;Mt<w;Mt++)q[2*Mt+1]=5,q[2*Mt]=ne(Mt,5);dt=new ee(tt,U,y+1,S,M),ct=new ee(q,L,0,w,M),jt=new ee(new Array(0),P,0,T,R)}(),Nt=!0),yt.l_desc=new mt(yt.dyn_ltree,dt),yt.d_desc=new mt(yt.dyn_dtree,ct),yt.bl_desc=new mt(yt.bl_tree,jt),yt.bi_buf=0,yt.bi_valid=0,ce(yt)},j._tr_stored_block=wt,j._tr_flush_block=function(yt,Mt,vt,Pt){var A,ot,ft=0;0<yt.level?(yt.strm.data_type===2&&(yt.strm.data_type=function(xt){var It,Ut=4093624447;for(It=0;It<=31;It++,Ut>>>=1)if(1&Ut&&xt.dyn_ltree[2*It]!==0)return O;if(xt.dyn_ltree[18]!==0||xt.dyn_ltree[20]!==0||xt.dyn_ltree[26]!==0)return h;for(It=32;It<y;It++)if(xt.dyn_ltree[2*It]!==0)return h;return O}(yt)),qe(yt,yt.l_desc),qe(yt,yt.d_desc),ft=function(xt){var It;for(X(xt,xt.dyn_ltree,xt.l_desc.max_code),X(xt,xt.dyn_dtree,xt.d_desc.max_code),qe(xt,xt.bl_desc),It=T-1;3<=It&&xt.bl_tree[2*z[It]+1]===0;It--);return xt.opt_len+=3*(It+1)+5+5+4,It}(yt),A=yt.opt_len+3+7>>>3,(ot=yt.static_len+3+7>>>3)<=A&&(A=ot)):A=ot=vt+5,vt+4<=A&&Mt!==-1?wt(yt,Mt,vt,Pt):yt.strategy===4||ot===A?(Yt(yt,2+(Pt?1:0),3),ze(yt,tt,q)):(Yt(yt,4+(Pt?1:0),3),function(xt,It,Ut,pe){var De;for(Yt(xt,It-257,5),Yt(xt,Ut-1,5),Yt(xt,pe-4,4),De=0;De<pe;De++)Yt(xt,xt.bl_tree[2*z[De]+1],3);Gt(xt,xt.dyn_ltree,It-1),Gt(xt,xt.dyn_dtree,Ut-1)}(yt,yt.l_desc.max_code+1,yt.d_desc.max_code+1,ft+1),ze(yt,yt.dyn_ltree,yt.dyn_dtree)),ce(yt),Pt&&fe(yt)},j._tr_tally=function(yt,Mt,vt){return yt.pending_buf[yt.d_buf+2*yt.last_lit]=Mt>>>8&255,yt.pending_buf[yt.d_buf+2*yt.last_lit+1]=255&Mt,yt.pending_buf[yt.l_buf+yt.last_lit]=255&vt,yt.last_lit++,Mt===0?yt.dyn_ltree[2*vt]++:(yt.matches++,Mt--,yt.dyn_ltree[2*(H[vt]+y+1)]++,yt.dyn_dtree[2*gt(Mt)]++),yt.last_lit===yt.lit_bufsize-1},j._tr_align=function(yt){Yt(yt,2,3),Ht(yt,N,tt),function(Mt){Mt.bi_valid===16?(qt(Mt,Mt.bi_buf),Mt.bi_buf=0,Mt.bi_valid=0):8<=Mt.bi_valid&&(Mt.pending_buf[Mt.pending++]=255&Mt.bi_buf,Mt.bi_buf>>=8,Mt.bi_valid-=8)}(yt)}},{"../utils/common":41}],53:[function(F,V,j){V.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(F,V,j){(function(C){(function(O,h){if(!O.setImmediate){var v,m,g,y,S=1,w={},T=!1,k=O.document,M=Object.getPrototypeOf&&Object.getPrototypeOf(O);M=M&&M.setTimeout?M:O,v={}.toString.call(O.process)==="[object process]"?function(W){process.nextTick(function(){R(W)})}:function(){if(O.postMessage&&!O.importScripts){var W=!0,$=O.onmessage;return O.onmessage=function(){W=!1},O.postMessage("","*"),O.onmessage=$,W}}()?(y="setImmediate$"+Math.random()+"$",O.addEventListener?O.addEventListener("message",N,!1):O.attachEvent("onmessage",N),function(W){O.postMessage(y+W,"*")}):O.MessageChannel?((g=new MessageChannel).port1.onmessage=function(W){R(W.data)},function(W){g.port2.postMessage(W)}):k&&"onreadystatechange"in k.createElement("script")?(m=k.documentElement,function(W){var $=k.createElement("script");$.onreadystatechange=function(){R(W),$.onreadystatechange=null,m.removeChild($),$=null},m.appendChild($)}):function(W){setTimeout(R,0,W)},M.setImmediate=function(W){typeof W!="function"&&(W=new Function(""+W));for(var $=new Array(arguments.length-1),J=0;J<$.length;J++)$[J]=arguments[J+1];var U={callback:W,args:$};return w[S]=U,v(S),S++},M.clearImmediate=D}function D(W){delete w[W]}function R(W){if(T)setTimeout(R,0,W);else{var $=w[W];if($){T=!0;try{(function(J){var U=J.callback,L=J.args;switch(L.length){case 0:U();break;case 1:U(L[0]);break;case 2:U(L[0],L[1]);break;case 3:U(L[0],L[1],L[2]);break;default:U.apply(h,L)}})($)}finally{D(W),T=!1}}}}function N(W){W.source===O&&typeof W.data=="string"&&W.data.indexOf(y)===0&&R(+W.data.slice(y.length))}})(typeof self>"u"?C===void 0?this:C:self)}).call(this,Z.g!==void 0?Z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}},ge={};function Lt(E){var K=ge[E];if(K!==void 0)return K.exports;var Z=ge[E]={exports:{}};return xe[E].call(Z.exports,Z,Z.exports,Lt),Z.exports}Lt.n=E=>{var K=E&&E.__esModule?()=>E.default:()=>E;return Lt.d(K,{a:K}),K},Lt.d=(E,K)=>{for(var Z in K)Lt.o(K,Z)&&!Lt.o(E,Z)&&Object.defineProperty(E,Z,{enumerable:!0,get:K[Z]})},Lt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Lt.o=(E,K)=>Object.prototype.hasOwnProperty.call(E,K),Lt.r=E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})};var te={};return(()=>{Lt.r(te),Lt.d(te,{default:()=>O});var E=Lt(162),K=Lt.n(E),Z=Lt(733),F=Lt.n(Z),V=function(){return V=Object.assign||function(h){for(var v,m=1,g=arguments.length;m<g;m++)for(var y in v=arguments[m])Object.prototype.hasOwnProperty.call(v,y)&&(h[y]=v[y]);return h},V.apply(this,arguments)},j=function(h,v,m,g){return new(m||(m=Promise))(function(y,S){function w(M){try{k(g.next(M))}catch(D){S(D)}}function T(M){try{k(g.throw(M))}catch(D){S(D)}}function k(M){var D;M.done?y(M.value):(D=M.value,D instanceof m?D:new m(function(R){R(D)})).then(w,T)}k((g=g.apply(h,v||[])).next())})},C=function(h,v){var m,g,y,S,w={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return S={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function T(k){return function(M){return function(D){if(m)throw new TypeError("Generator is already executing.");for(;S&&(S=0,D[0]&&(w=0)),w;)try{if(m=1,g&&(y=2&D[0]?g.return:D[0]?g.throw||((y=g.return)&&y.call(g),0):g.next)&&!(y=y.call(g,D[1])).done)return y;switch(g=0,y&&(D=[2&D[0],y.value]),D[0]){case 0:case 1:y=D;break;case 4:return w.label++,{value:D[1],done:!1};case 5:w.label++,g=D[1],D=[0];continue;case 7:D=w.ops.pop(),w.trys.pop();continue;default:if(y=w.trys,!((y=y.length>0&&y[y.length-1])||D[0]!==6&&D[0]!==2)){w=0;continue}if(D[0]===3&&(!y||D[1]>y[0]&&D[1]<y[3])){w.label=D[1];break}if(D[0]===6&&w.label<y[1]){w.label=y[1],y=D;break}if(y&&w.label<y[2]){w.label=y[2],w.ops.push(D);break}y[2]&&w.ops.pop(),w.trys.pop();continue}D=v.call(h,w)}catch(R){D=[6,R],g=0}finally{m=y=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([k,M])}}};const O=function(h,v){v===void 0&&(v={});var m=h.getConfig("stylePrefix"),g="gjs-export-zip",y=V({addExportBtn:!0,btnLabel:"Export to ZIP",filenamePfx:"grapesjs_template",filename:void 0,done:function(){},onError:console.error,root:{css:{"style.css":function(S){return S.getCss()}},"index.html":function(S){return`<!doctype html>
        <html lang="en">
          <head>
            <meta charset="utf-8">
            <link rel="stylesheet" href="./css/style.css">
          </head>
          <body>`.concat(S.getHtml(),`</body>
        </html>`)}},isBinary:void 0},v);h.Commands.add(g,{run:function(S,w,T){var k=this;T===void 0&&(T={});var M=new(F()),D=T.onError||y.onError,R=T.root||y.root;this.createDirectory(M,R).then(function(){return j(k,void 0,void 0,function(){var N,W,$,J,U;return C(this,function(L){switch(L.label){case 0:return[4,M.generateAsync({type:"blob"})];case 1:return N=L.sent(),W=T.filename||y.filename,$=T.done||y.done,J=T.filenamePfx||y.filenamePfx,U=W?W(S):"".concat(J,"_").concat(Date.now(),".zip"),K().saveAs(N,U),$==null||$(),[2]}})})}).catch(D)},createFile:function(S,w,T){var k={},M=w.split(".")[1];(y.isBinary?y.isBinary(T,w):!(M&&["html","css"].indexOf(M)>=0||/^[\x00-\x7F]*$/.test(T)))&&(k.binary=!0),h.log("Create file",{ns:"plugin-export",name:w,content:T,opts:k}),S.file(w,T,k)},createDirectory:function(S,w){return j(this,void 0,void 0,function(){var T,k,M,D,R,N,W,$,J,U;return C(this,function(L){switch(L.label){case 0:return typeof w!="function"?[3,2]:[4,w(h)];case 1:return T=L.sent(),[3,3];case 2:T=w,L.label=3;case 3:for(D in M=[],k=w=T)M.push(D);R=0,L.label=4;case 4:return R<M.length?(D=M[R])in k?(N=D,w.hasOwnProperty(N)?typeof(W=w[N])!="function"?[3,6]:[4,W(h)]:[3,10]):[3,10]:[3,11];case 5:return $=L.sent(),[3,7];case 6:$=W,L.label=7;case 7:return(J=typeof(W=$))!="string"?[3,8]:(this.createFile(S,N,W),[3,10]);case 8:return J!=="object"?[3,10]:(U=S.folder(N),[4,this.createDirectory(U,W)]);case 9:L.sent(),L.label=10;case 10:return R++,[3,4];case 11:return[2]}})})}}),h.onReady(function(){if(y.addExportBtn){var S=document.createElement("button");S.innerHTML=y.btnLabel,S.className="".concat(m,"btn-prim"),S.type="button",h.on("run:export-template",function(){var w=h.Modal.getContentEl();w==null||w.appendChild(S),S.onclick=function(){return h.runCommand(g)}})}})}})(),te})())})(hh);var Sy=hh.exports;const Oy=ho(Sy);var gh={exports:{}};/*! grapesjs-tabs - 1.0.6 */(function(We,Kn){(function(xe,ge){We.exports=ge()})(window,function(){return function(xe){var ge={};function Lt(te){if(ge[te])return ge[te].exports;var E=ge[te]={i:te,l:!1,exports:{}};return xe[te].call(E.exports,E,E.exports,Lt),E.l=!0,E.exports}return Lt.m=xe,Lt.c=ge,Lt.d=function(te,E,K){Lt.o(te,E)||Object.defineProperty(te,E,{enumerable:!0,get:K})},Lt.r=function(te){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(te,"__esModule",{value:!0})},Lt.t=function(te,E){if(1&E&&(te=Lt(te)),8&E||4&E&&typeof te=="object"&&te&&te.__esModule)return te;var K=Object.create(null);if(Lt.r(K),Object.defineProperty(K,"default",{enumerable:!0,value:te}),2&E&&typeof te!="string")for(var Z in te)Lt.d(K,Z,(function(F){return te[F]}).bind(null,Z));return K},Lt.n=function(te){var E=te&&te.__esModule?function(){return te.default}:function(){return te};return Lt.d(E,"a",E),E},Lt.o=function(te,E){return Object.prototype.hasOwnProperty.call(te,E)},Lt.p="",Lt(Lt.s=3)}([function(xe,ge){xe.exports=function(Lt,te,E){return te in Lt?Object.defineProperty(Lt,te,{value:E,enumerable:!0,configurable:!0,writable:!0}):Lt[te]=E,Lt}},function(xe,ge,Lt){var te=Lt(2);xe.exports=function(E,K){if(E==null)return{};var Z,F,V=te(E,K);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(E);for(F=0;F<j.length;F++)Z=j[F],K.indexOf(Z)>=0||Object.prototype.propertyIsEnumerable.call(E,Z)&&(V[Z]=E[Z])}return V}},function(xe,ge){xe.exports=function(Lt,te){if(Lt==null)return{};var E,K,Z={},F=Object.keys(Lt);for(K=0;K<F.length;K++)E=F[K],te.indexOf(E)>=0||(Z[E]=Lt[E]);return Z}},function(xe,ge,Lt){Lt.r(ge);var te=Lt(0),E=Lt.n(te),K=Lt(1),Z=Lt.n(K);function F(P,z){var tt=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);z&&(q=q.filter(function(rt){return Object.getOwnPropertyDescriptor(P,rt).enumerable})),tt.push.apply(tt,q)}return tt}function V(P){for(var z=1;z<arguments.length;z++){var tt=arguments[z]!=null?arguments[z]:{};z%2?F(Object(tt),!0).forEach(function(q){E()(P,q,tt[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(tt)):F(Object(tt)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(tt,q))})}return P}var j=function(P,z){var tt=z.defaultModel,q=z.typeTabs,rt=z.selectorTab,H=(z.editor,Z()(z,["defaultModel","typeTabs","selectorTab","editor"])),Y=[{full:1,type:"button",label:!1,text:"Style Active",command:function(dt){var ct=dt.Panels.getButton("views","open-sm");ct&&ct.set("active",1);var jt=".".concat(H.classTab,".").concat(H.classTabActive);dt.StyleManager.setTarget(jt,{targetIsClass:1})}}];P.addType(H.typeTab,{model:{defaults:V({name:"Tab",draggable:'[data-gjs-type="'.concat(H.typeTabContainer,'"]'),attributes:{role:"tab"},components:H.templateTab,classes:H.classTab,traits:Y},H.tabProps),init:function(){this.on("removed",this.__onRemove)},__initTab:function(){if(!this.tabContent){var dt=this.getTabContent();if(!dt){var ct,jt=(dt=this.getTabsType().getContentsType().append({type:H.typeTabContent,components:H.templateTabContent(this)})[0]).getId(),At=this.getId();dt.addAttributes({id:jt,"aria-labelledby":At,hidden:!0}),this.addAttributes((ct={},E()(ct,rt,jt),E()(ct,"id",At),ct)),this.tabContent=dt}this.tabContent=dt}},__onRemove:function(){var dt=this.getTabContent();dt&&dt.remove(),this.getTabsType().trigger("rerender")},getTabsType:function(){return this.closestType(q)},getTabContent:function(){var dt=this.getAttributes()[rt],ct=this.getTabsType();if(ct&&dt)return ct.findContents().filter(function(jt){return jt.getId()==dt})[0]},clone:function(){var dt=tt.prototype.clone.apply(this,arguments);return dt.addAttributes(E()({},rt,"")),dt}}})};function C(P,z){var tt=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);z&&(q=q.filter(function(rt){return Object.getOwnPropertyDescriptor(P,rt).enumerable})),tt.push.apply(tt,q)}return tt}function O(P){for(var z=1;z<arguments.length;z++){var tt=arguments[z]!=null?arguments[z]:{};z%2?C(Object(tt),!0).forEach(function(q){E()(P,q,tt[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(tt)):C(Object(tt)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(tt,q))})}return P}var h=function(P,z){var tt=z.typeTab,q=z.typeTabContent,rt=z.typeTabContents,H=z.typeTabContainer,Y=z.style,dt=Z()(z,["typeTab","typeTabContent","typeTabContents","typeTabContainer","style"]),ct=dt.typeTabs,jt=[1,2,3].map(function(At){return{type:tt}});P.addType(ct,{model:{defaults:O({name:"Tabs",classactive:dt.classTabActive,selectortab:dt.selectorTab,"script-props":["classactive","selectortab"],script:function(At){var ee,mt,gt=this,qt=At.classactive,Yt=At.selectortab,Ht=window,ne=Ht.history,re=Ht._isEditor,ce="[role=tab]",fe=document,Me=fe.body,Se=fe.location,ze=Me.matchesSelector||Me.webkitMatchesSelector||Me.mozMatchesSelector||Me.msMatchesSelector,qe=function(vt,Pt){for(var A=vt||[],ot=0;ot<A.length;ot++)Pt(A[ot],ot)},X=function(vt){return vt.getAttribute(Yt)},Gt=function(vt,Pt){return vt.querySelector(Pt)},Nt=function(){return gt.querySelectorAll(ce)},wt=function(vt,Pt){return!re&&(vt.tabIndex=Pt)},yt=function(vt){qe(Nt(),function(ot){ot.className=ot.className.replace(qt,"").trim(),ot.ariaSelected="false",wt(ot,"-1")}),qe(gt.querySelectorAll("[role=tabpanel]"),function(ot){return ot.hidden=!0}),vt.className+=" "+qt,vt.ariaSelected="true",wt(vt,"0");var Pt=X(vt),A=Pt&&Gt(gt,"#".concat(Pt));A&&(A.hidden=!1)},Mt=Gt(gt,".".concat(qt).concat(ce));(Mt=Mt||(mt=(Se.hash||"").replace("#",""))&&Gt(gt,(ee=Yt,"".concat(ce,"[").concat(ee,"=").concat(mt,"]")))||Gt(gt,ce))&&yt(Mt),gt.addEventListener("click",function(vt){var Pt=vt.target,A=ze.call(Pt,ce);if(A||(Pt=function(ft){var xt;return qe(Nt(),function(It){xt||It.contains(ft)&&(xt=It)}),xt}(Pt))&&(A=1),A&&!vt.__trg&&Pt.className.indexOf(qt)<0){vt.preventDefault(),vt.__trg=1,yt(Pt);var ot=X(Pt);try{ne&&ne.pushState(null,null,"#".concat(ot))}catch{}}})},traits:[{full:1,type:"button",label:!1,text:"Add Tab",command:function(At){var ee=At.getSelected();ee&&ee.addTab()}}],components:[{type:H,components:jt},{type:rt},Y&&"<style>".concat(Y(dt),"</style>")]},dt.tabsProps),init:function(){this.findTabs().map(this.__onTab),this.listenTo(this.getTabContainerType().components(),"add",this.__onTab)},__onTab:function(At,ee){var mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!mt.avoidStore&&!mt.temporary&&At.__initTab&&At.__initTab()},getTabContainerType:function(){return this.findType(H)[0]},getContentsType:function(){return this.findType(rt)[0]||this},findTabs:function(){return this.findType(tt)},findContents:function(){return this.findType(q)},addTab:function(At){this.getTabContainerType().append({type:tt,components:At})}}})};function v(P,z){var tt=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);z&&(q=q.filter(function(rt){return Object.getOwnPropertyDescriptor(P,rt).enumerable})),tt.push.apply(tt,q)}return tt}function m(P){for(var z=1;z<arguments.length;z++){var tt=arguments[z]!=null?arguments[z]:{};z%2?v(Object(tt),!0).forEach(function(q){E()(P,q,tt[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(tt)):v(Object(tt)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(tt,q))})}return P}var g=function(P,z){P.addType(z.typeTabContent,{model:{defaults:m({name:"Tab Content",draggable:!1,copyable:!1,removable:!1,highlightable:!1,attributes:{role:"tabpanel"},classes:z.classTabContent,traits:[]},z.tabContentProps)}})};function y(P,z){var tt=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);z&&(q=q.filter(function(rt){return Object.getOwnPropertyDescriptor(P,rt).enumerable})),tt.push.apply(tt,q)}return tt}function S(P){for(var z=1;z<arguments.length;z++){var tt=arguments[z]!=null?arguments[z]:{};z%2?y(Object(tt),!0).forEach(function(q){E()(P,q,tt[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(tt)):y(Object(tt)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(tt,q))})}return P}var w=function(P,z){P.addType(z.typeTabContents,{model:{defaults:S({name:"Tab Contents",draggable:!1,droppable:!1,copyable:!1,removable:!1,classes:z.classTabContents},z.tabContentsProps)}})};function T(P,z){var tt=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);z&&(q=q.filter(function(rt){return Object.getOwnPropertyDescriptor(P,rt).enumerable})),tt.push.apply(tt,q)}return tt}function k(P){for(var z=1;z<arguments.length;z++){var tt=arguments[z]!=null?arguments[z]:{};z%2?T(Object(tt),!0).forEach(function(q){E()(P,q,tt[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(tt)):T(Object(tt)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(tt,q))})}return P}var M=function(P,z){P.addType(z.typeTabContainer,{model:{defaults:k({name:"Tab Container",draggable:'[data-gjs-type="'.concat(z.typeTabs,'"]'),droppable:'[data-gjs-type="'.concat(z.typeTab,'"]'),copyable:!1,removable:!1,highlightable:!1,attributes:{role:"tablist"},classes:z.classTabContainer},z.tabContainerProps)}})};function D(P,z){var tt=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);z&&(q=q.filter(function(rt){return Object.getOwnPropertyDescriptor(P,rt).enumerable})),tt.push.apply(tt,q)}return tt}function R(P){for(var z=1;z<arguments.length;z++){var tt=arguments[z]!=null?arguments[z]:{};z%2?D(Object(tt),!0).forEach(function(q){E()(P,q,tt[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(tt)):D(Object(tt)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(tt,q))})}return P}var N=function(P){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=P.DomComponents,q=R(R({},z),{},{defaultModel:tt.getType("default").model,editor:P});[j,h,g,w,M].map(function(rt){return rt(tt,q)})};function W(P,z){var tt=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);z&&(q=q.filter(function(rt){return Object.getOwnPropertyDescriptor(P,rt).enumerable})),tt.push.apply(tt,q)}return tt}var $=function(P,z){var tt=z.tabsBlock,q=z.typeTabs,rt=P.BlockManager;tt&&rt.add(q,function(H){for(var Y=1;Y<arguments.length;Y++){var dt=arguments[Y]!=null?arguments[Y]:{};Y%2?W(Object(dt),!0).forEach(function(ct){E()(H,ct,dt[ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(dt)):W(Object(dt)).forEach(function(ct){Object.defineProperty(H,ct,Object.getOwnPropertyDescriptor(dt,ct))})}return H}({media:`
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M22 9.3c0-.8-.5-1.3-1.3-1.3H3.4C2.5 8 2 8.5 2 9.3v7.4c0 .8.5 1.3 1.3 1.3h17.4c.8 0 1.3-.5 1.3-1.3V9.3zM21 17H3V9h18v8z" fill-rule="nonzero"/><rect x="3" y="5" width="4" height="2" rx=".5"/><rect x="8" y="5" width="4" height="2" rx=".5"/><rect x="13" y="5" width="4" height="2" rx=".5"/>
      </svg>
    `,label:"Tabs",content:{type:q}},tt))},J={tabsBlock:{},tabsProps:{},tabContainerProps:{},tabProps:{},tabContentProps:{},tabContentsProps:{},classTab:"tab",classTabContainer:"tab-container",classTabActive:"tab-active",classTabContent:"tab-content",classTabContents:"tab-contents",selectorTab:"aria-controls",typeTabs:"tabs",typeTabContainer:"tab-container",typeTab:"tab",typeTabContent:"tab-content",typeTabContents:"tab-contents",templateTab:function(P){return'<span data-gjs-highlightable="false">Tab</span>'},templateTabContent:function(P){return"<div>Tab Content</div>"},style:function(P){return`
        .`.concat(P.classTab,` {
            padding: 7px 14px;
            display: inline-block;
            border-radius: 3px;
            margin-right: 10px;
        }

        .`).concat(P.classTab,`:focus {
            outline: none;
        }

        .`).concat(P.classTab,".").concat(P.classTabActive,` {
            background-color: #0d94e6;
            color: white;
        }

        .`).concat(P.classTabContainer,` {
            display: inline-block;
        }

        .`).concat(P.classTabContent,` {
            animation: fadeEffect 1s;
        }

        .`).concat(P.classTabContents,` {
            min-height: 100px;
            padding: 10px;
        }

        @keyframes fadeEffect {
            from {opacity: 0;}
            to {opacity: 1;}
        }
    `)}};function U(P,z){var tt=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);z&&(q=q.filter(function(rt){return Object.getOwnPropertyDescriptor(P,rt).enumerable})),tt.push.apply(tt,q)}return tt}function L(P){for(var z=1;z<arguments.length;z++){var tt=arguments[z]!=null?arguments[z]:{};z%2?U(Object(tt),!0).forEach(function(q){E()(P,q,tt[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(tt)):U(Object(tt)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(tt,q))})}return P}ge.default=function(P){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=L(L({},J),z);N(P,tt),$(P,tt)}}])})})(gh);var ky=gh.exports;const Ty=ho(ky);var mh={exports:{}};/*! grapesjs-custom-code - 1.0.2 */(function(We,Kn){(function(xe,ge){We.exports=ge()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ur,()=>(()=>{var xe={d:(C,O)=>{for(var h in O)xe.o(O,h)&&!xe.o(C,h)&&Object.defineProperty(C,h,{enumerable:!0,get:O[h]})},o:(C,O)=>Object.prototype.hasOwnProperty.call(C,O),r:C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})}},ge={};xe.r(ge),xe.d(ge,{default:()=>j});var Lt="custom-code-plugin__code",te="custom-code",E="custom-code:open-modal",K=function(){return K=Object.assign||function(C){for(var O,h=1,v=arguments.length;h<v;h++)for(var m in O=arguments[h])Object.prototype.hasOwnProperty.call(O,m)&&(C[m]=O[m]);return C},K.apply(this,arguments)},Z=function(){return Z=Object.assign||function(C){for(var O,h=1,v=arguments.length;h<v;h++)for(var m in O=arguments[h])Object.prototype.hasOwnProperty.call(O,m)&&(C[m]=O[m]);return C},Z.apply(this,arguments)},F=function(){return F=Object.assign||function(C){for(var O,h=1,v=arguments.length;h<v;h++)for(var m in O=arguments[h])Object.prototype.hasOwnProperty.call(O,m)&&(C[m]=O[m]);return C},F.apply(this,arguments)},V=function(){return V=Object.assign||function(C){for(var O,h=1,v=arguments.length;h<v;h++)for(var m in O=arguments[h])Object.prototype.hasOwnProperty.call(O,m)&&(C[m]=O[m]);return C},V.apply(this,arguments)};const j=function(C,O){O===void 0&&(O={});var h=V({blockCustomCode:{},propsCustomCode:{},toolbarBtnCustomCode:{},placeholderScript:`<div style="pointer-events: none; padding: 10px;">
      <svg viewBox="0 0 24 24" style="height: 30px; vertical-align: middle;">
        <path d="M13 14h-2v-4h2m0 8h-2v-2h2M1 21h22L12 2 1 21z"></path>
        </svg>
      Custom code with <i>&lt;script&gt;</i> can't be rendered on the canvas
    </div>`,modalTitle:"Insert your code",codeViewOptions:{},buttonLabel:"Save",commandCustomCode:{}},O);(function(v,m){m===void 0&&(m={});var g,y=v.Components,S=m.toolbarBtnCustomCode;y.addType("script",{view:{onRender:function(){var w=this.model,T=this.el;w.closestType(te)&&(T.innerHTML="")}}}),y.addType(te,{model:{defaults:F({name:"Custom Code",editable:!0,components:{tagName:"span",components:{type:"textnode",content:"Insert here your custom code"}}},m.propsCustomCode),init:function(){this.on("change:".concat(Lt),this.onCustomCodeChange);var w=this.get(Lt);!this.components().length&&this.components(w);var T=this.get("toolbar"),k="custom-code";S&&!T.filter(function(M){return M.id===k}).length&&T.unshift(F({id:k,command:E,label:`<svg viewBox="0 0 24 24">
              <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
            </svg>`},S))},onCustomCodeChange:function(){this.components(this.get(Lt))}},view:{events:{dblclick:"onActive"},init:function(){this.listenTo(this.model.components(),"add remove reset",this.onComponentsChange),this.onComponentsChange()},onComponentsChange:function(){var w=this;g&&clearInterval(g),g=setTimeout(function(){var T=w,k=T.model,M=T.el,D=!0;(k.get(Lt)||"").indexOf("<script")>=0&&m.placeholderScript&&(M.innerHTML=m.placeholderScript,D=!1),k.set({droppable:D})},0)},onActive:function(){var w=this.model;this.em.get("Commands").run(E,{target:w})}}})})(C,h),function(v,m){var g=(m===void 0?{}:m).blockCustomCode,y=v.Blocks;g&&y.add(te,K({label:"Custom Code",media:`
      <svg viewBox="0 0 24 24">
        <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
      </svg>
    `,category:"Extra",activate:!0,select:!0,content:{type:te}},g))}(C,h),function(v,m){m===void 0&&(m={});var g=m.modalTitle,y=m.codeViewOptions,S=m.commandCustomCode,w=function(T,k){k instanceof HTMLElement?T.appendChild(k):k&&T.insertAdjacentHTML("beforeend",k)};v.Commands.add(E,Z({keyCustomCode:Lt,target:null,codeViewer:null,run:function(T,k,M){M===void 0&&(M={});var D=M.target||T.getSelected();this.target=D,D!=null&&D.get("editable")&&this.showCustomCode(D,M)},stop:function(T){T.Modal.close()},showCustomCode:function(T,k){var M=k.title||g,D=T.get(Lt)||"",R=this.getContent();v.Modal.open({title:M,content:R}).onceClose(function(){return v.stopCommand(E)}),this.getCodeViewer().setContent(D)},getPreContent:function(){},getPostContent:function(){},getContent:function(){var T=this.getCodeViewer(),k=document.createElement("div"),M=v.getConfig("stylePrefix");return k.className="".concat(M,"custom-code"),w(k,this.getPreContent()),k.appendChild(T.getElement()),w(k,this.getPostContent()),w(k,this.getContentActions()),T.refresh(),setTimeout(function(){return T.focus()},0),k},getContentActions:function(){var T=this,k=document.createElement("button");k.setAttribute("type","button");var M=v.getConfig("stylePrefix");return k.innerHTML=m.buttonLabel,k.className="".concat(M,"btn-prim ").concat(M,"btn-import__custom-code"),k.onclick=function(){return T.handleSave()},k},handleSave:function(){var T=this.target,k=this.getCodeViewer().getContent();T==null||T.set(Lt,k),v.Modal.close()},getCodeViewer:function(){return this.codeViewer||(this.codeViewer=v.CodeManager.createViewer(Z({codeName:"htmlmixed",theme:"hopscotch",readOnly:0},y))),this.codeViewer}},S))}(C,h)};return ge})())})(mh);var Ey=mh.exports;const Py=ho(Ey);var vh={exports:{}};/*! grapesjs-touch - 0.1.1 */(function(We,Kn){(function(xe,ge){We.exports=ge()})(window,function(){return function(xe){var ge={};function Lt(te){if(ge[te])return ge[te].exports;var E=ge[te]={i:te,l:!1,exports:{}};return xe[te].call(E.exports,E,E.exports,Lt),E.l=!0,E.exports}return Lt.m=xe,Lt.c=ge,Lt.d=function(te,E,K){Lt.o(te,E)||Object.defineProperty(te,E,{enumerable:!0,get:K})},Lt.r=function(te){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(te,"__esModule",{value:!0})},Lt.t=function(te,E){if(1&E&&(te=Lt(te)),8&E||4&E&&typeof te=="object"&&te&&te.__esModule)return te;var K=Object.create(null);if(Lt.r(K),Object.defineProperty(K,"default",{enumerable:!0,value:te}),2&E&&typeof te!="string")for(var Z in te)Lt.d(K,Z,(function(F){return te[F]}).bind(null,Z));return K},Lt.n=function(te){var E=te&&te.__esModule?function(){return te.default}:function(){return te};return Lt.d(E,"a",E),E},Lt.o=function(te,E){return Object.prototype.hasOwnProperty.call(te,E)},Lt.p="",Lt(Lt.s=0)}([function(xe,ge,Lt){Object.defineProperty(ge,"__esModule",{value:!0});var te=K(Lt(1)),E=K(Lt(2));function K(Z){return Z&&Z.__esModule?Z:{default:Z}}ge.default=function(Z){(0,E.default)(),(0,te.default)()}},function(xe,ge,Lt){Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=function(){var te;(function(E){var K=function(){function F(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(F.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(V){this._dropEffect=V},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(V){this._effectAllowed=V},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),F.prototype.clearData=function(V){V!=null?delete this._data[V]:this._data=null},F.prototype.getData=function(V){return this._data[V]||""},F.prototype.setData=function(V,j){this._data[V]=j},F.prototype.setDragImage=function(V,j,C){var O=Z._instance;O._imgCustom=V,O._imgOffset={x:j,y:C}},F}();E.DataTransfer=K;var Z=function(){function F(){if(this._lastClick=0,F._instance)throw"DragDropTouch instance already created.";var V=!1;if(document.addEventListener("test",function(){},{get passive(){return V=!0,!0}}),"ontouchstart"in document){var j=document,C=this._touchstart.bind(this),O=this._touchmove.bind(this),h=this._touchend.bind(this),v=!!V&&{passive:!1,capture:!1};j.addEventListener("touchstart",C,v),j.addEventListener("touchmove",O,v),j.addEventListener("touchend",h),j.addEventListener("touchcancel",h)}}return F.getInstance=function(){return F._instance},F.prototype._touchstart=function(V){var j=this;if(this._shouldHandle(V)){if(Date.now()-this._lastClick<F._DBLCLICK&&this._dispatchEvent(V,"dblclick",V.target))return V.preventDefault(),void this._reset();this._reset();var C=this._closestDraggable(V.target);C&&(this._dispatchEvent(V,"mousemove",V.target)||this._dispatchEvent(V,"mousedown",V.target)||(this._dragSource=C,this._ptDown=this._getPoint(V),this._lastTouch=V,V.preventDefault(),setTimeout(function(){j._dragSource==C&&j._img==null&&j._dispatchEvent(V,"contextmenu",C)&&j._reset()},F._CTXMENU)))}},F.prototype._touchmove=function(V){if(this._shouldHandle(V)){var j=this._getTarget(V);if(this._dragSource&&!this._img&&this._getDelta(V)>F._THRESHOLD&&(this._dispatchEvent(V,"dragstart",this._dragSource),this._createImage(V),this._dispatchEvent(V,"dragenter",j)),this._img&&(this._lastTouch=V,V.preventDefault(),j!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(V,"dragenter",j),this._lastTarget=j),this._moveImage(V),this._dispatchEvent(V,"dragover",j)),this._dispatchEvent(V,"mousemove",j))return this._lastTouch=V,void V.preventDefault()}},F.prototype._touchend=function(V){if(this._shouldHandle(V)){if(this._destroyImage(),this._dragSource)return V.type.indexOf("cancel")<0&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset(),void V.preventDefault();if(this._dispatchEvent(this._lastTouch,"mouseup",V.target))return void V.preventDefault();this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",V.target),this._lastClick=Date.now())}},F.prototype._shouldHandle=function(V){return V&&!V.defaultPrevented&&V.touches&&V.touches.length<2},F.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._dataTransfer=new K},F.prototype._getPoint=function(V,j){return V&&V.touches&&(V=V.touches[0]),{x:j?V.pageX:V.clientX,y:j?V.pageY:V.clientY}},F.prototype._getDelta=function(V){var j=this._getPoint(V);return Math.abs(j.x-this._ptDown.x)+Math.abs(j.y-this._ptDown.y)},F.prototype._getTarget=function(V){var j=this._getPoint(V),C=document.elementFromPoint(j.x,j.y);if(C&&C.nodeName==="IFRAME")try{var O=C.contentWindow.document,h={x:0,y:0};do h.x+=C.offsetLeft||0,h.y+=C.offsetTop||0,C=C.offsetParent;while(C);var v=j.x-h.x,m=j.y-h.y;C=O.elementFromPoint(v,m)}catch{}for(;C&&getComputedStyle(C).pointerEvents=="none";)C=C.parentElement;return C},F.prototype._createImage=function(V){this._img&&this._destroyImage();var j=this._imgCustom||this._dragSource;if(this._img=j.cloneNode(!0),this._copyStyle(j,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var C=j.getBoundingClientRect(),O=this._getPoint(V);this._imgOffset={x:O.x-C.left,y:O.y-C.top},this._img.style.opacity=F._OPACITY.toString()}this._moveImage(V),document.body.appendChild(this._img)},F.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},F.prototype._moveImage=function(V){var j=this;requestAnimationFrame(function(){if(j._img){var C=j._getPoint(V,!0),O=j._img.style;O.position="absolute",O.pointerEvents="none",O.zIndex="999999",O.left=Math.round(C.x-j._imgOffset.x)+"px",O.top=Math.round(C.y-j._imgOffset.y)+"px"}})},F.prototype._copyProps=function(V,j,C){for(var O=0;O<C.length;O++){var h=C[O];V[h]=j[h]}},F.prototype._copyStyle=function(V,j){if(F._rmvAtts.forEach(function(g){j.removeAttribute(g)}),V instanceof HTMLCanvasElement){var C=V,O=j;O.width=C.width,O.height=C.height,O.getContext("2d").drawImage(C,0,0)}for(var h=getComputedStyle(V),v=0;v<h.length;v++){var m=h[v];m.indexOf("transition")<0&&(j.style[m]=h[m])}for(j.style.pointerEvents="none",v=0;v<V.children.length;v++)this._copyStyle(V.children[v],j.children[v])},F.prototype._dispatchEvent=function(V,j,C){if(V&&C){var O=document.createEvent("Event"),h=V.touches?V.touches[0]:V;return O.initEvent(j,!0,!0),O.button=0,O.which=O.buttons=1,this._copyProps(O,V,F._kbdProps),this._copyProps(O,h,F._ptProps),O.dataTransfer=this._dataTransfer,C.dispatchEvent(O),O.defaultPrevented}return!1},F.prototype._closestDraggable=function(V){for(;V;V=V.parentElement)if(V.hasAttribute("draggable")&&V.draggable)return V;return null},F}();Z._instance=new Z,Z._THRESHOLD=5,Z._OPACITY=.5,Z._DBLCLICK=500,Z._CTXMENU=900,Z._rmvAtts="id,class,style,draggable".split(","),Z._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),Z._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),E.DragDropTouch=Z})(te||(te={}))}},function(xe,ge,Lt){Object.defineProperty(ge,"__esModule",{value:!0});var te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E};ge.default=function(){(function(){var E,K,Z,F=0,V=navigator.userAgent,j=["touchstart","touchmove","touchend","touchcancel","touchleave"],C={};function O(){var W=[];this.touchList=W,this.Touch=function($,J,U,L,P,z,tt,q){this.identifier=$,this.target=J,this.screenX=U,this.screenY=L,this.clientX=P,this.clientY=z,this.pageX=tt,this.pageY=q},this.getTouch=function($){var J;for(J=0;J<W.length;J+=1)if(W[J].identifier===$)return W[J]},this.addUpdateTouch=function($){var J;for(J=0;J<W.length;J+=1)if(W[J].identifier===$.identifier)return void(W[J]=$);W.push($)},this.removeTouch=function($){var J;for(J=0;J<W.length;J+=1)W[J].identifier===$&&W.splice(J,1)},this.clearTouches=function(){for(;W.length>0;)W.pop()},this.containsTouchAt=function($,J){var U;for(U=0;U<W.length;U+=1)if(W[U].screenX===$&&W[U].screenY===J)return!0;return!1}}function h(W,$){return W.screenX===$.screenX&&W.screenY===$.screenY}function v(W,$){var J;return $=$||{bubbles:!1,cancelable:!1,detail:void 0},(J=document.createEvent("CustomEvent")).initCustomEvent(W,$.bubbles,$.cancelable,$.detail),J}function m(W,$,J,U,L){var P,z,tt;function q(rt,H){var Y,dt;for(Z.clearTouches(),Y=0;Y<H.length;Y++)(dt=H[Y]).target.isSameNode(rt)&&Z.addUpdateTouch(dt)}W.type!=="pointerdown"&&(z=E.getTouch(W.pointerId),tt=z.target,W.target=tt),(P=W.type==="pointerdown"||W.type==="pointermove"?function(rt){var H,Y,dt;if(rt.type==="pointerdown")H="touchstart";else{if(rt.type!=="pointermove")throw new Error("touchHandler received invalid event type: "+H+". Valid event types are pointerdown and pointermove");H="touchmove"}return Y=new E.Touch(rt.pointerId,rt.type==="pointerdown"?rt.target:tt,rt.screenX,rt.screenY,rt.clientX,rt.clientY,rt.pageX,rt.pageY),rt.hwTimestamp>F&&function(){var ct,jt,At,ee,mt;for(jt=K.touchList,ct=0;ct<jt.length;ct+=1)mt=(At=jt[ct]).identifier,(ee=E.getTouch(mt))&&!h(ee,At)||K.removeTouch(mt)}(),E.addUpdateTouch(Y),K.addUpdateTouch(Y),q(Y.target,E.touchList),rt.type=H,(dt=new v(H,{bubbles:!0,cancelable:!0})).touches=E.touchList,dt.changedTouches=K.touchList,dt.targetTouches=Z.touchList,dt.type=H,dt}(W):function(rt){var H,Y,dt;return rt.changedTouches=[],rt.changedTouches.length=1,rt.changedTouches[0]=rt,rt.changedTouches[0].identifier=rt.pointerId,rt.type==="pointerup"?H="touchend":rt.type==="pointercancel"?H="touchcancel":rt.type==="pointerleave"&&(H="touchleave"),Y=new E.Touch(rt.pointerId,tt,rt.screenX,rt.screenY,rt.clientX,rt.clientY,rt.pageX,rt.pageY),rt.hwTimestamp>F&&K.clearTouches(),E.removeTouch(Y.identifier),K.addUpdateTouch(Y),q(Y.target,E.touchList),rt.type=H,(dt=new v(H,{bubbles:!0,cancelable:!0})).touches=E.touchList,dt.changedTouches=K.touchList,dt.targetTouches=Z.touchList,dt.type=H,dt}(W)).preventDefault=function(){W.preventDefault!==void 0&&W.preventDefault()},W.target.dispatchEvent(P),F=event.hwTimestamp}function g(W,$,J,U,L,P){m($)}function y(W,$,J){var U,L;if(W.__handJobjsGlobalRegisteredEvents||(W.__handJobjsGlobalRegisteredEvents=[]),J){if(W.__handJobjsGlobalRegisteredEvents[$]!==void 0)return void(W.__handJobjsGlobalRegisteredEvents[$]+=1);W.__handJobjsGlobalRegisteredEvents[$]=1,W.__handJobjsGlobalRegisteredEvents[$]}else W.__handJobjsGlobalRegisteredEvents[$]!==void 0&&(W.__handJobjsGlobalRegisteredEvents[$]-=1,W.__handJobjsGlobalRegisteredEvents[$]<0&&(W.__handJobjsGlobalRegisteredEvents[$]=0));U=m,W["on"+(L=function(P){return P}($)).toLowerCase()]!==void 0&&function(P,z,tt,q){if(P.__handJobjsRegisteredEvents===void 0&&(P.__handJobjsRegisteredEvents=[]),q){if(P.__handJobjsRegisteredEvents[z]!==void 0)return void(P.__handJobjsRegisteredEvents[z]+=1);P.__handJobjsRegisteredEvents[z]=1,P.addEventListener(z,tt,!1)}else{if(P.__handJobjsRegisteredEvents.indexOf(z)!==-1&&(P.__handJobjsRegisteredEvents[z]-=1,P.__handJobjsRegisteredEvents[z]!==0))return;P.removeEventListener(z,tt),P.__handJobjsRegisteredEvents[z]=0}}(W,L,function(P){U(P,$)},J)}function S(W){var $=W.prototype?W.prototype.addEventListener:W.addEventListener;function J(U,L,P){j.indexOf(U)!==-1&&y(this,U,!0),$.call(this,U,L,P)}W.prototype?W.prototype.addEventListener=J:W.addEventListener=J}function w(W,$){W.preventManipulation&&W.preventManipulation(),m(touchPoint)}function T(W){var $=W.prototype?W.prototype.removeEventListener:W.removeEventListener;function J(U,L,P){j.indexOf(U)!==-1&&function(z,tt){if(z.ontouchdown===void 0&&z.ontouchstart!==void 0)switch(tt.toLowerCase()){case"touchstart":z.removeEventListener("pointerdown",function(q){w(q)});break;case"touchmove":z.removeEventListener("pointermove",function(q){w(q)});break;case"touchend":z.removeEventListener("pointerup",function(q){w(q)});break;case"touchcancel":z.removeEventListener("pointercancel",function(q){w(q)})}}(this,U),$.call(this,U,L,P)}W.prototype?W.prototype.removeEventListener=J:W.removeEventListener=J}function k(W,$){return W.__handJobjsGlobalRegisteredEvents&&W.__handJobjsGlobalRegisteredEvents[$]}function M(W,$,J,U,L,P){(function(z,tt){for(;z&&!k(z,tt);)z=z.parentNode;return z||(k(window,tt)?window:void 0)})(J,W)&&g(0,$)}function D(W){var $=[];if(W)for($.unshift(W);W.parentNode;)$.unshift(W.parentNode),W=W.parentNode;return $}function R(W,$){for(var J=D(W),U=D($),L=null;J.length>0&&J[0]===U.shift();)L=J.shift();return L}function N(W){}v.prototype=window.Event.prototype,te(window.ontouchstart)!=="object"&&(V.match(/iPad/i)||V.match(/iPhone/i)||V.match(/iPod/i)||V.match(/Android/i)||V.match(/MSIE/i)&&!V.match(/Touch/i)||(function(){var W="html { -ms-touch-action: none; }",$=document.head||document.getElementsByTagName("head")[0],J=document.createElement("style");J.type="text/css",J.styleSheet?J.styleSheet.cssText=W:J.appendChild(document.createTextNode(W)),$.appendChild(J)}(),E=new O,K=new O,Z=new O,window.CustomEvent=v,S(window),S(window.HTMLElement||window.Element),S(document),S(HTMLBodyElement),S(HTMLDivElement),S(HTMLImageElement),S(HTMLUListElement),S(HTMLAnchorElement),S(HTMLLIElement),S(HTMLTableElement),window.HTMLSpanElement&&S(HTMLSpanElement),window.HTMLCanvasElement&&S(HTMLCanvasElement),window.SVGElement&&S(SVGElement),T(window),T(window.HTMLElement||window.Element),T(document),T(HTMLBodyElement),T(HTMLDivElement),T(HTMLImageElement),T(HTMLUListElement),T(HTMLAnchorElement),T(HTMLLIElement),T(HTMLTableElement),window.HTMLSpanElement&&T(HTMLSpanElement),window.HTMLCanvasElement&&T(HTMLCanvasElement),window.SVGElement&&T(SVGElement),function(){function W($){return $.pointerType==="mouse"||$.type==="pointerdown"&&$.x===0&&$.y===0||$.pointerType==="pen"&&$.pressure===0&&$.type==="pointermove"}window.addEventListener("pointerdown",function($){var J=$;W($)||(C[J.identifier]=J.target,M("touchenter",J,J.target),function(U,L,P){for(var z=R(U,L),tt=U,q=[];tt&&tt!==z;)k(tt,"touchenter")&&q.push(tt),tt=tt.parentNode;for(;q.length>0;)P(q.pop())}(J.target,null,function(U){g(0,J)}),M("touchstart",J,J.target))}),window.addEventListener("pointerup",function($){var J=$,U=C[J.identifier];W($)||(M("touchend",J,U),M("touchleave",J,U),function(L,P,z){for(var tt=R(L,P),q=L;q&&q!==tt;)k(q,"touchleave")&&z(q),q=q.parentNode}(U,null,function(L){g(0,J)}))}),window.addEventListener("pointermove",function($){var J=$,U=C[J.identifier];W($)||(""+$.screenX+$.screenY,E.containsTouchAt($.screenX,$.screenY)||(U&&function(L){for(;L&&!L.handJobjs_forcePreventDefault;)L=L.parentNode;return!!L||window.handJobjs_forcePreventDefault}(U)===!0&&$.preventDefault(),M("touchmove",J,U)))})}()))})()}}])})})(vh);var Ay=vh.exports;const jy=ho(Ay);var yh={exports:{}};/*! grapesjs-parser-postcss - 1.0.1 */(function(We,Kn){(function(xe,ge){We.exports=ge()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ur,()=>(()=>{var xe={241:E=>{var K=String,Z=function(){return{isColorSupported:!1,reset:K,bold:K,dim:K,italic:K,underline:K,inverse:K,hidden:K,strikethrough:K,black:K,red:K,green:K,yellow:K,blue:K,magenta:K,cyan:K,white:K,gray:K,bgBlack:K,bgRed:K,bgGreen:K,bgYellow:K,bgBlue:K,bgMagenta:K,bgCyan:K,bgWhite:K}};E.exports=Z(),E.exports.createColors=Z},353:(E,K,Z)=>{let F=Z(19);class V extends F{constructor(C){super(C),this.type="atrule"}append(...C){return this.proxyOf.nodes||(this.nodes=[]),super.append(...C)}prepend(...C){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...C)}}E.exports=V,V.default=V,F.registerAtRule(V)},932:(E,K,Z)=>{let F=Z(631);class V extends F{constructor(C){super(C),this.type="comment"}}E.exports=V,V.default=V},19:(E,K,Z)=>{let F,V,j,{isClean:C,my:O}=Z(513),h=Z(258),v=Z(932),m=Z(631);function g(w){return w.map(T=>(T.nodes&&(T.nodes=g(T.nodes)),delete T.source,T))}function y(w){if(w[C]=!1,w.proxyOf.nodes)for(let T of w.proxyOf.nodes)y(T)}class S extends m{push(T){return T.parent=this,this.proxyOf.nodes.push(T),this}each(T){if(!this.proxyOf.nodes)return;let k,M,D=this.getIterator();for(;this.indexes[D]<this.proxyOf.nodes.length&&(k=this.indexes[D],M=T(this.proxyOf.nodes[k],k),M!==!1);)this.indexes[D]+=1;return delete this.indexes[D],M}walk(T){return this.each((k,M)=>{let D;try{D=T(k,M)}catch(R){throw k.addToError(R)}return D!==!1&&k.walk&&(D=k.walk(T)),D})}walkDecls(T,k){return k?T instanceof RegExp?this.walk((M,D)=>{if(M.type==="decl"&&T.test(M.prop))return k(M,D)}):this.walk((M,D)=>{if(M.type==="decl"&&M.prop===T)return k(M,D)}):(k=T,this.walk((M,D)=>{if(M.type==="decl")return k(M,D)}))}walkRules(T,k){return k?T instanceof RegExp?this.walk((M,D)=>{if(M.type==="rule"&&T.test(M.selector))return k(M,D)}):this.walk((M,D)=>{if(M.type==="rule"&&M.selector===T)return k(M,D)}):(k=T,this.walk((M,D)=>{if(M.type==="rule")return k(M,D)}))}walkAtRules(T,k){return k?T instanceof RegExp?this.walk((M,D)=>{if(M.type==="atrule"&&T.test(M.name))return k(M,D)}):this.walk((M,D)=>{if(M.type==="atrule"&&M.name===T)return k(M,D)}):(k=T,this.walk((M,D)=>{if(M.type==="atrule")return k(M,D)}))}walkComments(T){return this.walk((k,M)=>{if(k.type==="comment")return T(k,M)})}append(...T){for(let k of T){let M=this.normalize(k,this.last);for(let D of M)this.proxyOf.nodes.push(D)}return this.markDirty(),this}prepend(...T){T=T.reverse();for(let k of T){let M=this.normalize(k,this.first,"prepend").reverse();for(let D of M)this.proxyOf.nodes.unshift(D);for(let D in this.indexes)this.indexes[D]=this.indexes[D]+M.length}return this.markDirty(),this}cleanRaws(T){if(super.cleanRaws(T),this.nodes)for(let k of this.nodes)k.cleanRaws(T)}insertBefore(T,k){let M,D=(T=this.index(T))===0&&"prepend",R=this.normalize(k,this.proxyOf.nodes[T],D).reverse();for(let N of R)this.proxyOf.nodes.splice(T,0,N);for(let N in this.indexes)M=this.indexes[N],T<=M&&(this.indexes[N]=M+R.length);return this.markDirty(),this}insertAfter(T,k){T=this.index(T);let M,D=this.normalize(k,this.proxyOf.nodes[T]).reverse();for(let R of D)this.proxyOf.nodes.splice(T+1,0,R);for(let R in this.indexes)M=this.indexes[R],T<M&&(this.indexes[R]=M+D.length);return this.markDirty(),this}removeChild(T){let k;T=this.index(T),this.proxyOf.nodes[T].parent=void 0,this.proxyOf.nodes.splice(T,1);for(let M in this.indexes)k=this.indexes[M],k>=T&&(this.indexes[M]=k-1);return this.markDirty(),this}removeAll(){for(let T of this.proxyOf.nodes)T.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(T,k,M){return M||(M=k,k={}),this.walkDecls(D=>{k.props&&!k.props.includes(D.prop)||k.fast&&!D.value.includes(k.fast)||(D.value=D.value.replace(T,M))}),this.markDirty(),this}every(T){return this.nodes.every(T)}some(T){return this.nodes.some(T)}index(T){return typeof T=="number"?T:(T.proxyOf&&(T=T.proxyOf),this.proxyOf.nodes.indexOf(T))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(T,k){if(typeof T=="string")T=g(F(T).nodes);else if(Array.isArray(T)){T=T.slice(0);for(let M of T)M.parent&&M.parent.removeChild(M,"ignore")}else if(T.type==="root"&&this.type!=="document"){T=T.nodes.slice(0);for(let M of T)M.parent&&M.parent.removeChild(M,"ignore")}else if(T.type)T=[T];else if(T.prop){if(T.value===void 0)throw new Error("Value field is missed in node creation");typeof T.value!="string"&&(T.value=String(T.value)),T=[new h(T)]}else if(T.selector)T=[new V(T)];else if(T.name)T=[new j(T)];else{if(!T.text)throw new Error("Unknown node type in node creation");T=[new v(T)]}return T.map(M=>(M[O]||S.rebuild(M),(M=M.proxyOf).parent&&M.parent.removeChild(M),M[C]&&y(M),M.raws.before===void 0&&k&&k.raws.before!==void 0&&(M.raws.before=k.raws.before.replace(/\S/g,"")),M.parent=this.proxyOf,M))}getProxyProcessor(){return{set:(T,k,M)=>(T[k]===M||(T[k]=M,k!=="name"&&k!=="params"&&k!=="selector"||T.markDirty()),!0),get:(T,k)=>k==="proxyOf"?T:T[k]?k==="each"||typeof k=="string"&&k.startsWith("walk")?(...M)=>T[k](...M.map(D=>typeof D=="function"?(R,N)=>D(R.toProxy(),N):D)):k==="every"||k==="some"?M=>T[k]((D,...R)=>M(D.toProxy(),...R)):k==="root"?()=>T.root().toProxy():k==="nodes"?T.nodes.map(M=>M.toProxy()):k==="first"||k==="last"?T[k].toProxy():T[k]:T[k]}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let T=this.lastEach;return this.indexes[T]=0,T}}S.registerParse=w=>{F=w},S.registerRule=w=>{V=w},S.registerAtRule=w=>{j=w},E.exports=S,S.default=S,S.rebuild=w=>{w.type==="atrule"?Object.setPrototypeOf(w,j.prototype):w.type==="rule"?Object.setPrototypeOf(w,V.prototype):w.type==="decl"?Object.setPrototypeOf(w,h.prototype):w.type==="comment"&&Object.setPrototypeOf(w,v.prototype),w[O]=!0,w.nodes&&w.nodes.forEach(T=>{S.rebuild(T)})}},671:(E,K,Z)=>{let F=Z(241),V=Z(868);class j extends Error{constructor(O,h,v,m,g,y){super(O),this.name="CssSyntaxError",this.reason=O,g&&(this.file=g),m&&(this.source=m),y&&(this.plugin=y),h!==void 0&&v!==void 0&&(typeof h=="number"?(this.line=h,this.column=v):(this.line=h.line,this.column=h.column,this.endLine=v.line,this.endColumn=v.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,j)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",this.line!==void 0&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(O){if(!this.source)return"";let h=this.source;O==null&&(O=F.isColorSupported),V&&O&&(h=V(h));let v,m,g=h.split(/\r?\n/),y=Math.max(this.line-3,0),S=Math.min(this.line+2,g.length),w=String(S).length;if(O){let{bold:T,red:k,gray:M}=F.createColors(!0);v=D=>T(k(D)),m=D=>M(D)}else v=m=T=>T;return g.slice(y,S).map((T,k)=>{let M=y+1+k,D=" "+(" "+M).slice(-w)+" | ";if(M===this.line){let R=m(D.replace(/\d/g," "))+T.slice(0,this.column-1).replace(/[^\t]/g," ");return v(">")+m(D)+T+`
 `+R+v("^")}return" "+m(D)+T}).join(`
`)}toString(){let O=this.showSourceCode();return O&&(O=`

`+O+`
`),this.name+": "+this.message+O}}E.exports=j,j.default=j},258:(E,K,Z)=>{let F=Z(631);class V extends F{constructor(C){C&&C.value!==void 0&&typeof C.value!="string"&&(C={...C,value:String(C.value)}),super(C),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}E.exports=V,V.default=V},461:(E,K,Z)=>{let F,V,j=Z(19);class C extends j{constructor(h){super({type:"document",...h}),this.nodes||(this.nodes=[])}toResult(h={}){return new F(new V,this,h).stringify()}}C.registerLazyResult=O=>{F=O},C.registerProcessor=O=>{V=O},E.exports=C,C.default=C},250:(E,K,Z)=>{let F=Z(258),V=Z(981),j=Z(932),C=Z(353),O=Z(995),h=Z(25),v=Z(675);function m(g,y){if(Array.isArray(g))return g.map(T=>m(T));let{inputs:S,...w}=g;if(S){y=[];for(let T of S){let k={...T,__proto__:O.prototype};k.map&&(k.map={...k.map,__proto__:V.prototype}),y.push(k)}}if(w.nodes&&(w.nodes=g.nodes.map(T=>m(T,y))),w.source){let{inputId:T,...k}=w.source;w.source=k,T!=null&&(w.source.input=y[T])}if(w.type==="root")return new h(w);if(w.type==="decl")return new F(w);if(w.type==="rule")return new v(w);if(w.type==="comment")return new j(w);if(w.type==="atrule")return new C(w);throw new Error("Unknown node type: "+g.type)}E.exports=m,m.default=m},995:(E,K,Z)=>{let{SourceMapConsumer:F,SourceMapGenerator:V}=Z(209),{fileURLToPath:j,pathToFileURL:C}=Z(414),{resolve:O,isAbsolute:h}=Z(830),{nanoid:v}=Z(961),m=Z(868),g=Z(671),y=Z(981),S=Symbol("fromOffsetCache"),w=!!(F&&V),T=!!(O&&h);class k{constructor(D,R={}){if(D==null||typeof D=="object"&&!D.toString)throw new Error(`PostCSS received ${D} instead of CSS string`);if(this.css=D.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,R.from&&(!T||/^\w+:\/\//.test(R.from)||h(R.from)?this.file=R.from:this.file=O(R.from)),T&&w){let N=new y(this.css,R);if(N.text){this.map=N;let W=N.consumer().file;!this.file&&W&&(this.file=this.mapResolve(W))}}this.file||(this.id="<input css "+v(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(D){let R,N;if(this[S])N=this[S];else{let $=this.css.split(`
`);N=new Array($.length);let J=0;for(let U=0,L=$.length;U<L;U++)N[U]=J,J+=$[U].length+1;this[S]=N}R=N[N.length-1];let W=0;if(D>=R)W=N.length-1;else{let $,J=N.length-2;for(;W<J;)if($=W+(J-W>>1),D<N[$])J=$-1;else{if(!(D>=N[$+1])){W=$;break}W=$+1}}return{line:W+1,col:D-N[W]+1}}error(D,R,N,W={}){let $,J,U;if(R&&typeof R=="object"){let P=R,z=N;if(typeof R.offset=="number"){let tt=this.fromOffset(P.offset);R=tt.line,N=tt.col}else R=P.line,N=P.column;if(typeof z.offset=="number"){let tt=this.fromOffset(z.offset);J=tt.line,U=tt.col}else J=z.line,U=z.column}else if(!N){let P=this.fromOffset(R);R=P.line,N=P.col}let L=this.origin(R,N,J,U);return $=L?new g(D,L.endLine===void 0?L.line:{line:L.line,column:L.column},L.endLine===void 0?L.column:{line:L.endLine,column:L.endColumn},L.source,L.file,W.plugin):new g(D,J===void 0?R:{line:R,column:N},J===void 0?N:{line:J,column:U},this.css,this.file,W.plugin),$.input={line:R,column:N,endLine:J,endColumn:U,source:this.css},this.file&&(C&&($.input.url=C(this.file).toString()),$.input.file=this.file),$}origin(D,R,N,W){if(!this.map)return!1;let $,J,U=this.map.consumer(),L=U.originalPositionFor({line:D,column:R});if(!L.source)return!1;typeof N=="number"&&($=U.originalPositionFor({line:N,column:W})),J=h(L.source)?C(L.source):new URL(L.source,this.map.consumer().sourceRoot||C(this.map.mapFile));let P={url:J.toString(),line:L.line,column:L.column,endLine:$&&$.line,endColumn:$&&$.column};if(J.protocol==="file:"){if(!j)throw new Error("file: protocol is not available in this PostCSS build");P.file=j(J)}let z=U.sourceContentFor(L.source);return z&&(P.source=z),P}mapResolve(D){return/^\w+:\/\//.test(D)?D:O(this.map.consumer().sourceRoot||this.map.root||".",D)}get from(){return this.file||this.id}toJSON(){let D={};for(let R of["hasBOM","css","file","id"])this[R]!=null&&(D[R]=this[R]);return this.map&&(D.map={...this.map},D.map.consumerCache&&(D.map.consumerCache=void 0)),D}}E.exports=k,k.default=k,m&&m.registerInput&&m.registerInput(k)},939:(E,K,Z)=>{let{isClean:F,my:V}=Z(513),j=Z(505),C=Z(88),O=Z(19),h=Z(461),v=(Z(448),Z(632)),m=Z(964),g=Z(25);const y={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},S={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},w={postcssPlugin:!0,prepare:!0,Once:!0},T=0;function k($){return typeof $=="object"&&typeof $.then=="function"}function M($){let J=!1,U=y[$.type];return $.type==="decl"?J=$.prop.toLowerCase():$.type==="atrule"&&(J=$.name.toLowerCase()),J&&$.append?[U,U+"-"+J,T,U+"Exit",U+"Exit-"+J]:J?[U,U+"-"+J,U+"Exit",U+"Exit-"+J]:$.append?[U,T,U+"Exit"]:[U,U+"Exit"]}function D($){let J;return J=$.type==="document"?["Document",T,"DocumentExit"]:$.type==="root"?["Root",T,"RootExit"]:M($),{node:$,events:J,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function R($){return $[F]=!1,$.nodes&&$.nodes.forEach(J=>R(J)),$}let N={};class W{constructor(J,U,L){let P;if(this.stringified=!1,this.processed=!1,typeof U!="object"||U===null||U.type!=="root"&&U.type!=="document")if(U instanceof W||U instanceof v)P=R(U.root),U.map&&(L.map===void 0&&(L.map={}),L.map.inline||(L.map.inline=!1),L.map.prev=U.map);else{let z=m;L.syntax&&(z=L.syntax.parse),L.parser&&(z=L.parser),z.parse&&(z=z.parse);try{P=z(U,L)}catch(tt){this.processed=!0,this.error=tt}P&&!P[V]&&O.rebuild(P)}else P=R(U);this.result=new v(J,P,L),this.helpers={...N,result:this.result,postcss:N},this.plugins=this.processor.plugins.map(z=>typeof z=="object"&&z.prepare?{...z,...z.prepare(this.result)}:z)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(J,U){return this.async().then(J,U)}catch(J){return this.async().catch(J)}finally(J){return this.async().then(J,J)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let J of this.plugins)if(k(this.runOnRoot(J)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let J=this.result.root;for(;!J[F];)J[F]=!0,this.walkSync(J);if(this.listeners.OnceExit)if(J.type==="document")for(let U of J.nodes)this.visitSync(this.listeners.OnceExit,U);else this.visitSync(this.listeners.OnceExit,J)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let J=this.result.opts,U=C;J.syntax&&(U=J.syntax.stringify),J.stringifier&&(U=J.stringifier),U.stringify&&(U=U.stringify);let L=new j(U,this.result.root,this.result.opts).generate();return this.result.css=L[0],this.result.map=L[1],this.result}walkSync(J){J[F]=!0;let U=M(J);for(let L of U)if(L===T)J.nodes&&J.each(P=>{P[F]||this.walkSync(P)});else{let P=this.listeners[L];if(P&&this.visitSync(P,J.toProxy()))return}}visitSync(J,U){for(let[L,P]of J){let z;this.result.lastPlugin=L;try{z=P(U,this.helpers)}catch(tt){throw this.handleError(tt,U.proxyOf)}if(U.type!=="root"&&U.type!=="document"&&!U.parent)return!0;if(k(z))throw this.getAsyncError()}}runOnRoot(J){this.result.lastPlugin=J;try{if(typeof J=="object"&&J.Once){if(this.result.root.type==="document"){let U=this.result.root.nodes.map(L=>J.Once(L,this.helpers));return k(U[0])?Promise.all(U):U}return J.Once(this.result.root,this.helpers)}if(typeof J=="function")return J(this.result.root,this.result)}catch(U){throw this.handleError(U)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(J,U){let L=this.result.lastPlugin;try{U&&U.addToError(J),this.error=J,J.name!=="CssSyntaxError"||J.plugin?L.postcssVersion:(J.plugin=L.postcssPlugin,J.setMessage())}catch(P){console&&console.error&&console.error(P)}return J}async runAsync(){this.plugin=0;for(let J=0;J<this.plugins.length;J++){let U=this.plugins[J],L=this.runOnRoot(U);if(k(L))try{await L}catch(P){throw this.handleError(P)}}if(this.prepareVisitors(),this.hasListener){let J=this.result.root;for(;!J[F];){J[F]=!0;let U=[D(J)];for(;U.length>0;){let L=this.visitTick(U);if(k(L))try{await L}catch(P){let z=U[U.length-1].node;throw this.handleError(P,z)}}}if(this.listeners.OnceExit)for(let[U,L]of this.listeners.OnceExit){this.result.lastPlugin=U;try{if(J.type==="document"){let P=J.nodes.map(z=>L(z,this.helpers));await Promise.all(P)}else await L(J,this.helpers)}catch(P){throw this.handleError(P)}}}return this.processed=!0,this.stringify()}prepareVisitors(){this.listeners={};let J=(U,L,P)=>{this.listeners[L]||(this.listeners[L]=[]),this.listeners[L].push([U,P])};for(let U of this.plugins)if(typeof U=="object")for(let L in U){if(!S[L]&&/^[A-Z]/.test(L))throw new Error(`Unknown event ${L} in ${U.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!w[L])if(typeof U[L]=="object")for(let P in U[L])J(U,P==="*"?L:L+"-"+P.toLowerCase(),U[L][P]);else typeof U[L]=="function"&&J(U,L,U[L])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(J){let U=J[J.length-1],{node:L,visitors:P}=U;if(L.type!=="root"&&L.type!=="document"&&!L.parent)return void J.pop();if(P.length>0&&U.visitorIndex<P.length){let[tt,q]=P[U.visitorIndex];U.visitorIndex+=1,U.visitorIndex===P.length&&(U.visitors=[],U.visitorIndex=0),this.result.lastPlugin=tt;try{return q(L.toProxy(),this.helpers)}catch(rt){throw this.handleError(rt,L)}}if(U.iterator!==0){let tt,q=U.iterator;for(;tt=L.nodes[L.indexes[q]];)if(L.indexes[q]+=1,!tt[F])return tt[F]=!0,void J.push(D(tt));U.iterator=0,delete L.indexes[q]}let z=U.events;for(;U.eventIndex<z.length;){let tt=z[U.eventIndex];if(U.eventIndex+=1,tt===T)return void(L.nodes&&L.nodes.length&&(L[F]=!0,U.iterator=L.getIterator()));if(this.listeners[tt])return void(U.visitors=this.listeners[tt])}J.pop()}}W.registerPostcss=$=>{N=$},E.exports=W,W.default=W,g.registerLazyResult(W),h.registerLazyResult(W)},715:E=>{let K={split(Z,F,V){let j=[],C="",O=!1,h=0,v=!1,m=!1;for(let g of Z)m?m=!1:g==="\\"?m=!0:v?g===v&&(v=!1):g==='"'||g==="'"?v=g:g==="("?h+=1:g===")"?h>0&&(h-=1):h===0&&F.includes(g)&&(O=!0),O?(C!==""&&j.push(C.trim()),C="",O=!1):C+=g;return(V||C!=="")&&j.push(C.trim()),j},space:Z=>K.split(Z,[" ",`
`,"	"]),comma:Z=>K.split(Z,[","],!0)};E.exports=K,K.default=K},505:(E,K,Z)=>{let{SourceMapConsumer:F,SourceMapGenerator:V}=Z(209),{dirname:j,resolve:C,relative:O,sep:h}=Z(830),{pathToFileURL:v}=Z(414),m=Z(995),g=!!(F&&V),y=!!(j&&C&&O&&h);E.exports=class{constructor(S,w,T,k){this.stringify=S,this.mapOpts=T.map||{},this.root=w,this.opts=T,this.css=k}isMap(){return this.opts.map!==void 0?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(S=>{if(S.source&&S.source.input.map){let w=S.source.input.map;this.previousMaps.includes(w)||this.previousMaps.push(w)}});else{let S=new m(this.css,this.opts);S.map&&this.previousMaps.push(S.map)}return this.previousMaps}isInline(){if(this.mapOpts.inline!==void 0)return this.mapOpts.inline;let S=this.mapOpts.annotation;return(S===void 0||S===!0)&&(!this.previous().length||this.previous().some(w=>w.inline))}isSourcesContent(){return this.mapOpts.sourcesContent!==void 0?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(S=>S.withContent())}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let S;for(let w=this.root.nodes.length-1;w>=0;w--)S=this.root.nodes[w],S.type==="comment"&&S.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(w)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let S={};if(this.root)this.root.walk(w=>{if(w.source){let T=w.source.input.from;T&&!S[T]&&(S[T]=!0,this.map.setSourceContent(this.toUrl(this.path(T)),w.source.input.css))}});else if(this.css){let w=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(w,this.css)}}applyPrevMaps(){for(let S of this.previous()){let w,T=this.toUrl(this.path(S.file)),k=S.root||j(S.file);this.mapOpts.sourcesContent===!1?(w=new F(S.text),w.sourcesContent&&(w.sourcesContent=w.sourcesContent.map(()=>null))):w=S.consumer(),this.map.applySourceMap(w,T,this.toUrl(this.path(k)))}}isAnnotation(){return!!this.isInline()||(this.mapOpts.annotation!==void 0?this.mapOpts.annotation:!this.previous().length||this.previous().some(S=>S.annotation))}toBase64(S){return Buffer?Buffer.from(S).toString("base64"):window.btoa(unescape(encodeURIComponent(S)))}addAnnotation(){let S;S=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let w=`
`;this.css.includes(`\r
`)&&(w=`\r
`),this.css+=w+"/*# sourceMappingURL="+S+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let S=this.previous()[0].consumer();S.file=this.outputFile(),this.map=V.fromSourceMap(S)}else this.map=new V({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(S){if(S.indexOf("<")===0||/^\w+:\/\//.test(S)||this.mapOpts.absolute)return S;let w=this.opts.to?j(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(w=j(C(w,this.mapOpts.annotation))),S=O(w,S)}toUrl(S){return h==="\\"&&(S=S.replace(/\\/g,"/")),encodeURI(S).replace(/[#?]/g,encodeURIComponent)}sourcePath(S){if(this.mapOpts.from)return this.toUrl(this.mapOpts.from);if(this.mapOpts.absolute){if(v)return v(S.source.input.from).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}return this.toUrl(this.path(S.source.input.from))}generateString(){this.css="",this.map=new V({file:this.outputFile()});let S,w,T=1,k=1,M="<no source>",D={source:"",generated:{line:0,column:0},original:{line:0,column:0}};this.stringify(this.root,(R,N,W)=>{if(this.css+=R,N&&W!=="end"&&(D.generated.line=T,D.generated.column=k-1,N.source&&N.source.start?(D.source=this.sourcePath(N),D.original.line=N.source.start.line,D.original.column=N.source.start.column-1,this.map.addMapping(D)):(D.source=M,D.original.line=1,D.original.column=0,this.map.addMapping(D))),S=R.match(/\n/g),S?(T+=S.length,w=R.lastIndexOf(`
`),k=R.length-w):k+=R.length,N&&W!=="start"){let $=N.parent||{raws:{}};(N.type!=="decl"||N!==$.last||$.raws.semicolon)&&(N.source&&N.source.end?(D.source=this.sourcePath(N),D.original.line=N.source.end.line,D.original.column=N.source.end.column-1,D.generated.line=T,D.generated.column=k-2,this.map.addMapping(D)):(D.source=M,D.original.line=1,D.original.column=0,D.generated.line=T,D.generated.column=k-1,this.map.addMapping(D)))}})}generate(){if(this.clearAnnotation(),y&&g&&this.isMap())return this.generateMap();{let S="";return this.stringify(this.root,w=>{S+=w}),[S]}}}},647:(E,K,Z)=>{let F=Z(505),V=Z(88),j=(Z(448),Z(964));const C=Z(632);class O{constructor(v,m,g){let y;m=m.toString(),this.stringified=!1,this._processor=v,this._css=m,this._opts=g,this._map=void 0;let S=V;this.result=new C(this._processor,y,this._opts),this.result.css=m;let w=this;Object.defineProperty(this.result,"root",{get:()=>w.root});let T=new F(S,y,this._opts,m);if(T.isMap()){let[k,M]=T.generate();k&&(this.result.css=k),M&&(this.result.map=M)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let v,m=j;try{v=m(this._css,this._opts)}catch(g){this.error=g}if(this.error)throw this.error;return this._root=v,v}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(v,m){return this.async().then(v,m)}catch(v){return this.async().catch(v)}finally(v){return this.async().then(v,v)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}}E.exports=O,O.default=O},631:(E,K,Z)=>{let{isClean:F,my:V}=Z(513),j=Z(671),C=Z(62),O=Z(88);function h(m,g){let y=new m.constructor;for(let S in m){if(!Object.prototype.hasOwnProperty.call(m,S)||S==="proxyCache")continue;let w=m[S],T=typeof w;S==="parent"&&T==="object"?g&&(y[S]=g):S==="source"?y[S]=w:Array.isArray(w)?y[S]=w.map(k=>h(k,y)):(T==="object"&&w!==null&&(w=h(w)),y[S]=w)}return y}class v{constructor(g={}){this.raws={},this[F]=!1,this[V]=!0;for(let y in g)if(y==="nodes"){this.nodes=[];for(let S of g[y])typeof S.clone=="function"?this.append(S.clone()):this.append(S)}else this[y]=g[y]}error(g,y={}){if(this.source){let{start:S,end:w}=this.rangeBy(y);return this.source.input.error(g,{line:S.line,column:S.column},{line:w.line,column:w.column},y)}return new j(g)}warn(g,y,S){let w={node:this};for(let T in S)w[T]=S[T];return g.warn(y,w)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(g=O){g.stringify&&(g=g.stringify);let y="";return g(this,S=>{y+=S}),y}assign(g={}){for(let y in g)this[y]=g[y];return this}clone(g={}){let y=h(this);for(let S in g)y[S]=g[S];return y}cloneBefore(g={}){let y=this.clone(g);return this.parent.insertBefore(this,y),y}cloneAfter(g={}){let y=this.clone(g);return this.parent.insertAfter(this,y),y}replaceWith(...g){if(this.parent){let y=this,S=!1;for(let w of g)w===this?S=!0:S?(this.parent.insertAfter(y,w),y=w):this.parent.insertBefore(y,w);S||this.remove()}return this}next(){if(!this.parent)return;let g=this.parent.index(this);return this.parent.nodes[g+1]}prev(){if(!this.parent)return;let g=this.parent.index(this);return this.parent.nodes[g-1]}before(g){return this.parent.insertBefore(this,g),this}after(g){return this.parent.insertAfter(this,g),this}root(){let g=this;for(;g.parent&&g.parent.type!=="document";)g=g.parent;return g}raw(g,y){return new C().raw(this,g,y)}cleanRaws(g){delete this.raws.before,delete this.raws.after,g||delete this.raws.between}toJSON(g,y){let S={},w=y==null;y=y||new Map;let T=0;for(let k in this){if(!Object.prototype.hasOwnProperty.call(this,k)||k==="parent"||k==="proxyCache")continue;let M=this[k];if(Array.isArray(M))S[k]=M.map(D=>typeof D=="object"&&D.toJSON?D.toJSON(null,y):D);else if(typeof M=="object"&&M.toJSON)S[k]=M.toJSON(null,y);else if(k==="source"){let D=y.get(M.input);D==null&&(D=T,y.set(M.input,T),T++),S[k]={inputId:D,start:M.start,end:M.end}}else S[k]=M}return w&&(S.inputs=[...y.keys()].map(k=>k.toJSON())),S}positionInside(g){let y=this.toString(),S=this.source.start.column,w=this.source.start.line;for(let T=0;T<g;T++)y[T]===`
`?(S=1,w+=1):S+=1;return{line:w,column:S}}positionBy(g){let y=this.source.start;if(g.index)y=this.positionInside(g.index);else if(g.word){let S=this.toString().indexOf(g.word);S!==-1&&(y=this.positionInside(S))}return y}rangeBy(g){let y={line:this.source.start.line,column:this.source.start.column},S=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:y.line,column:y.column+1};if(g.word){let w=this.toString().indexOf(g.word);w!==-1&&(y=this.positionInside(w),S=this.positionInside(w+g.word.length))}else g.start?y={line:g.start.line,column:g.start.column}:g.index&&(y=this.positionInside(g.index)),g.end?S={line:g.end.line,column:g.end.column}:g.endIndex?S=this.positionInside(g.endIndex):g.index&&(S=this.positionInside(g.index+1));return(S.line<y.line||S.line===y.line&&S.column<=y.column)&&(S={line:y.line,column:y.column+1}),{start:y,end:S}}getProxyProcessor(){return{set:(g,y,S)=>(g[y]===S||(g[y]=S,y!=="prop"&&y!=="value"&&y!=="name"&&y!=="params"&&y!=="important"&&y!=="text"||g.markDirty()),!0),get:(g,y)=>y==="proxyOf"?g:y==="root"?()=>g.root().toProxy():g[y]}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(g){if(g.postcssNode=this,g.stack&&this.source&&/\n\s{4}at /.test(g.stack)){let y=this.source;g.stack=g.stack.replace(/\n\s{4}at /,`$&${y.input.from}:${y.start.line}:${y.start.column}$&`)}return g}markDirty(){if(this[F]){this[F]=!1;let g=this;for(;g=g.parent;)g[F]=!1}}get proxyOf(){return this}}E.exports=v,v.default=v},964:(E,K,Z)=>{let F=Z(19),V=Z(867),j=Z(995);function C(O,h){let v=new j(O,h),m=new V(v);try{m.parse()}catch(g){throw g}return m.root}E.exports=C,C.default=C,F.registerParse(C)},867:(E,K,Z)=>{let F=Z(258),V=Z(852),j=Z(932),C=Z(353),O=Z(25),h=Z(675);const v={empty:!0,space:!0};E.exports=class{constructor(m){this.input=m,this.root=new O,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:m,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=V(this.input)}parse(){let m;for(;!this.tokenizer.endOfFile();)switch(m=this.tokenizer.nextToken(),m[0]){case"space":this.spaces+=m[1];break;case";":this.freeSemicolon(m);break;case"}":this.end(m);break;case"comment":this.comment(m);break;case"at-word":this.atrule(m);break;case"{":this.emptyRule(m);break;default:this.other(m)}this.endFile()}comment(m){let g=new j;this.init(g,m[2]),g.source.end=this.getPosition(m[3]||m[2]);let y=m[1].slice(2,-2);if(/^\s*$/.test(y))g.text="",g.raws.left=y,g.raws.right="";else{let S=y.match(/^(\s*)([^]*\S)(\s*)$/);g.text=S[2],g.raws.left=S[1],g.raws.right=S[3]}}emptyRule(m){let g=new h;this.init(g,m[2]),g.selector="",g.raws.between="",this.current=g}other(m){let g=!1,y=null,S=!1,w=null,T=[],k=m[1].startsWith("--"),M=[],D=m;for(;D;){if(y=D[0],M.push(D),y==="("||y==="[")w||(w=D),T.push(y==="("?")":"]");else if(k&&S&&y==="{")w||(w=D),T.push("}");else if(T.length===0){if(y===";"){if(S)return void this.decl(M,k);break}if(y==="{")return void this.rule(M);if(y==="}"){this.tokenizer.back(M.pop()),g=!0;break}y===":"&&(S=!0)}else y===T[T.length-1]&&(T.pop(),T.length===0&&(w=null));D=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(g=!0),T.length>0&&this.unclosedBracket(w),g&&S){if(!k)for(;M.length&&(D=M[M.length-1][0],D==="space"||D==="comment");)this.tokenizer.back(M.pop());this.decl(M,k)}else this.unknownWord(M)}rule(m){m.pop();let g=new h;this.init(g,m[0][2]),g.raws.between=this.spacesAndCommentsFromEnd(m),this.raw(g,"selector",m),this.current=g}decl(m,g){let y=new F;this.init(y,m[0][2]);let S,w=m[m.length-1];for(w[0]===";"&&(this.semicolon=!0,m.pop()),y.source.end=this.getPosition(w[3]||w[2]||function(M){for(let D=M.length-1;D>=0;D--){let R=M[D],N=R[3]||R[2];if(N)return N}}(m));m[0][0]!=="word";)m.length===1&&this.unknownWord(m),y.raws.before+=m.shift()[1];for(y.source.start=this.getPosition(m[0][2]),y.prop="";m.length;){let M=m[0][0];if(M===":"||M==="space"||M==="comment")break;y.prop+=m.shift()[1]}for(y.raws.between="";m.length;){if(S=m.shift(),S[0]===":"){y.raws.between+=S[1];break}S[0]==="word"&&/\w/.test(S[1])&&this.unknownWord([S]),y.raws.between+=S[1]}y.prop[0]!=="_"&&y.prop[0]!=="*"||(y.raws.before+=y.prop[0],y.prop=y.prop.slice(1));let T,k=[];for(;m.length&&(T=m[0][0],T==="space"||T==="comment");)k.push(m.shift());this.precheckMissedSemicolon(m);for(let M=m.length-1;M>=0;M--){if(S=m[M],S[1].toLowerCase()==="!important"){y.important=!0;let D=this.stringFrom(m,M);D=this.spacesFromEnd(m)+D,D!==" !important"&&(y.raws.important=D);break}if(S[1].toLowerCase()==="important"){let D=m.slice(0),R="";for(let N=M;N>0;N--){let W=D[N][0];if(R.trim().indexOf("!")===0&&W!=="space")break;R=D.pop()[1]+R}R.trim().indexOf("!")===0&&(y.important=!0,y.raws.important=R,m=D)}if(S[0]!=="space"&&S[0]!=="comment")break}m.some(M=>M[0]!=="space"&&M[0]!=="comment")&&(y.raws.between+=k.map(M=>M[1]).join(""),k=[]),this.raw(y,"value",k.concat(m),g),y.value.includes(":")&&!g&&this.checkMissedSemicolon(m)}atrule(m){let g,y,S,w=new C;w.name=m[1].slice(1),w.name===""&&this.unnamedAtrule(w,m),this.init(w,m[2]);let T=!1,k=!1,M=[],D=[];for(;!this.tokenizer.endOfFile();){if(g=(m=this.tokenizer.nextToken())[0],g==="("||g==="["?D.push(g==="("?")":"]"):g==="{"&&D.length>0?D.push("}"):g===D[D.length-1]&&D.pop(),D.length===0){if(g===";"){w.source.end=this.getPosition(m[2]),this.semicolon=!0;break}if(g==="{"){k=!0;break}if(g==="}"){if(M.length>0){for(S=M.length-1,y=M[S];y&&y[0]==="space";)y=M[--S];y&&(w.source.end=this.getPosition(y[3]||y[2]))}this.end(m);break}M.push(m)}else M.push(m);if(this.tokenizer.endOfFile()){T=!0;break}}w.raws.between=this.spacesAndCommentsFromEnd(M),M.length?(w.raws.afterName=this.spacesAndCommentsFromStart(M),this.raw(w,"params",M),T&&(m=M[M.length-1],w.source.end=this.getPosition(m[3]||m[2]),this.spaces=w.raws.between,w.raws.between="")):(w.raws.afterName="",w.params=""),k&&(w.nodes=[],this.current=w)}end(m){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(m[2]),this.current=this.current.parent):this.unexpectedClose(m)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(m){if(this.spaces+=m[1],this.current.nodes){let g=this.current.nodes[this.current.nodes.length-1];g&&g.type==="rule"&&!g.raws.ownSemicolon&&(g.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(m){let g=this.input.fromOffset(m);return{offset:m,line:g.line,column:g.col}}init(m,g){this.current.push(m),m.source={start:this.getPosition(g),input:this.input},m.raws.before=this.spaces,this.spaces="",m.type!=="comment"&&(this.semicolon=!1)}raw(m,g,y,S){let w,T,k,M,D=y.length,R="",N=!0;for(let W=0;W<D;W+=1)w=y[W],T=w[0],T!=="space"||W!==D-1||S?T==="comment"?(M=y[W-1]?y[W-1][0]:"empty",k=y[W+1]?y[W+1][0]:"empty",v[M]||v[k]||R.slice(-1)===","?N=!1:R+=w[1]):R+=w[1]:N=!1;if(!N){let W=y.reduce(($,J)=>$+J[1],"");m.raws[g]={value:R,raw:W}}m[g]=R}spacesAndCommentsFromEnd(m){let g,y="";for(;m.length&&(g=m[m.length-1][0],g==="space"||g==="comment");)y=m.pop()[1]+y;return y}spacesAndCommentsFromStart(m){let g,y="";for(;m.length&&(g=m[0][0],g==="space"||g==="comment");)y+=m.shift()[1];return y}spacesFromEnd(m){let g,y="";for(;m.length&&(g=m[m.length-1][0],g==="space");)y=m.pop()[1]+y;return y}stringFrom(m,g){let y="";for(let S=g;S<m.length;S++)y+=m[S][1];return m.splice(g,m.length-g),y}colon(m){let g,y,S,w=0;for(let[T,k]of m.entries()){if(g=k,y=g[0],y==="("&&(w+=1),y===")"&&(w-=1),w===0&&y===":"){if(S){if(S[0]==="word"&&S[1]==="progid")continue;return T}this.doubleColon(g)}S=g}return!1}unclosedBracket(m){throw this.input.error("Unclosed bracket",{offset:m[2]},{offset:m[2]+1})}unknownWord(m){throw this.input.error("Unknown word",{offset:m[0][2]},{offset:m[0][2]+m[0][1].length})}unexpectedClose(m){throw this.input.error("Unexpected }",{offset:m[2]},{offset:m[2]+1})}unclosedBlock(){let m=this.current.source.start;throw this.input.error("Unclosed block",m.line,m.column)}doubleColon(m){throw this.input.error("Double colon",{offset:m[2]},{offset:m[2]+m[1].length})}unnamedAtrule(m,g){throw this.input.error("At-rule without name",{offset:g[2]},{offset:g[2]+g[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(m){let g=this.colon(m);if(g===!1)return;let y,S=0;for(let w=g-1;w>=0&&(y=m[w],y[0]==="space"||(S+=1,S!==2));w--);throw this.input.error("Missed semicolon",y[0]==="word"?y[3]+1:y[2])}}},20:(E,K,Z)=>{let F=Z(671),V=Z(258),j=Z(939),C=Z(19),O=Z(723),h=Z(88),v=Z(250),m=Z(461),g=Z(728),y=Z(932),S=Z(353),w=Z(632),T=Z(995),k=Z(964),M=Z(715),D=Z(675),R=Z(25),N=Z(631);function W(...$){return $.length===1&&Array.isArray($[0])&&($=$[0]),new O($)}W.plugin=function($,J){let U,L=!1;function P(...z){console&&console.warn&&!L&&(L=!0,console.warn($+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),{}.LANG&&{}.LANG.startsWith("cn")&&console.warn($+`: 里面 postcss.plugin 被弃用. 迁移指南:
https://www.w3ctech.com/topic/2226`));let tt=J(...z);return tt.postcssPlugin=$,tt.postcssVersion=new O().version,tt}return Object.defineProperty(P,"postcss",{get:()=>(U||(U=P()),U)}),P.process=function(z,tt,q){return W([P(q)]).process(z,tt)},P},W.stringify=h,W.parse=k,W.fromJSON=v,W.list=M,W.comment=$=>new y($),W.atRule=$=>new S($),W.decl=$=>new V($),W.rule=$=>new D($),W.root=$=>new R($),W.document=$=>new m($),W.CssSyntaxError=F,W.Declaration=V,W.Container=C,W.Processor=O,W.Document=m,W.Comment=y,W.Warning=g,W.AtRule=S,W.Result=w,W.Input=T,W.Rule=D,W.Root=R,W.Node=N,j.registerPostcss(W),E.exports=W,W.default=W},981:(E,K,Z)=>{let{SourceMapConsumer:F,SourceMapGenerator:V}=Z(209),{existsSync:j,readFileSync:C}=Z(777),{dirname:O,join:h}=Z(830);class v{constructor(g,y){if(y.map===!1)return;this.loadAnnotation(g),this.inline=this.startWith(this.annotation,"data:");let S=y.map?y.map.prev:void 0,w=this.loadMap(y.from,S);!this.mapFile&&y.from&&(this.mapFile=y.from),this.mapFile&&(this.root=O(this.mapFile)),w&&(this.text=w)}consumer(){return this.consumerCache||(this.consumerCache=new F(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(g,y){return!!g&&g.substr(0,y.length)===y}getAnnotationURL(g){return g.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(g){let y=g.match(/\/\*\s*# sourceMappingURL=/gm);if(!y)return;let S=g.lastIndexOf(y.pop()),w=g.indexOf("*/",S);S>-1&&w>-1&&(this.annotation=this.getAnnotationURL(g.substring(S,w)))}decodeInline(g){if(/^data:application\/json;charset=utf-?8,/.test(g)||/^data:application\/json,/.test(g))return decodeURIComponent(g.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(g)||/^data:application\/json;base64,/.test(g))return y=g.substr(RegExp.lastMatch.length),Buffer?Buffer.from(y,"base64").toString():window.atob(y);var y;let S=g.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+S)}loadFile(g){if(this.root=O(g),j(g))return this.mapFile=g,C(g,"utf-8").toString().trim()}loadMap(g,y){if(y===!1)return!1;if(y){if(typeof y=="string")return y;if(typeof y!="function"){if(y instanceof F)return V.fromSourceMap(y).toString();if(y instanceof V)return y.toString();if(this.isMap(y))return JSON.stringify(y);throw new Error("Unsupported previous source map format: "+y.toString())}{let S=y(g);if(S){let w=this.loadFile(S);if(!w)throw new Error("Unable to load previous source map: "+S.toString());return w}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let S=this.annotation;return g&&(S=h(O(g),S)),this.loadFile(S)}}}isMap(g){return typeof g=="object"&&(typeof g.mappings=="string"||typeof g._mappings=="string"||Array.isArray(g.sections))}}E.exports=v,v.default=v},723:(E,K,Z)=>{let F=Z(647),V=Z(939),j=Z(461),C=Z(25);class O{constructor(v=[]){this.version="8.4.14",this.plugins=this.normalize(v)}use(v){return this.plugins=this.plugins.concat(this.normalize([v])),this}process(v,m={}){return this.plugins.length===0&&m.parser===void 0&&m.stringifier===void 0&&m.syntax===void 0?new F(this,v,m):new V(this,v,m)}normalize(v){let m=[];for(let g of v)if(g.postcss===!0?g=g():g.postcss&&(g=g.postcss),typeof g=="object"&&Array.isArray(g.plugins))m=m.concat(g.plugins);else if(typeof g=="object"&&g.postcssPlugin)m.push(g);else if(typeof g=="function")m.push(g);else if(typeof g!="object"||!g.parse&&!g.stringify)throw new Error(g+" is not a PostCSS plugin");return m}}E.exports=O,O.default=O,C.registerProcessor(O),j.registerProcessor(O)},632:(E,K,Z)=>{let F=Z(728);class V{constructor(C,O,h){this.processor=C,this.messages=[],this.root=O,this.opts=h,this.css=void 0,this.map=void 0}toString(){return this.css}warn(C,O={}){O.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(O.plugin=this.lastPlugin.postcssPlugin);let h=new F(C,O);return this.messages.push(h),h}warnings(){return this.messages.filter(C=>C.type==="warning")}get content(){return this.css}}E.exports=V,V.default=V},25:(E,K,Z)=>{let F,V,j=Z(19);class C extends j{constructor(h){super(h),this.type="root",this.nodes||(this.nodes=[])}removeChild(h,v){let m=this.index(h);return!v&&m===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[m].raws.before),super.removeChild(h)}normalize(h,v,m){let g=super.normalize(h);if(v){if(m==="prepend")this.nodes.length>1?v.raws.before=this.nodes[1].raws.before:delete v.raws.before;else if(this.first!==v)for(let y of g)y.raws.before=v.raws.before}return g}toResult(h={}){return new F(new V,this,h).stringify()}}C.registerLazyResult=O=>{F=O},C.registerProcessor=O=>{V=O},E.exports=C,C.default=C},675:(E,K,Z)=>{let F=Z(19),V=Z(715);class j extends F{constructor(O){super(O),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return V.comma(this.selector)}set selectors(O){let h=this.selector?this.selector.match(/,\s*/):null,v=h?h[0]:","+this.raw("between","beforeOpen");this.selector=O.join(v)}}E.exports=j,j.default=j,F.registerRule(j)},62:E=>{const K={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};class Z{constructor(V){this.builder=V}stringify(V,j){if(!this[V.type])throw new Error("Unknown AST node type "+V.type+". Maybe you need to change PostCSS stringifier.");this[V.type](V,j)}document(V){this.body(V)}root(V){this.body(V),V.raws.after&&this.builder(V.raws.after)}comment(V){let j=this.raw(V,"left","commentLeft"),C=this.raw(V,"right","commentRight");this.builder("/*"+j+V.text+C+"*/",V)}decl(V,j){let C=this.raw(V,"between","colon"),O=V.prop+C+this.rawValue(V,"value");V.important&&(O+=V.raws.important||" !important"),j&&(O+=";"),this.builder(O,V)}rule(V){this.block(V,this.rawValue(V,"selector")),V.raws.ownSemicolon&&this.builder(V.raws.ownSemicolon,V,"end")}atrule(V,j){let C="@"+V.name,O=V.params?this.rawValue(V,"params"):"";if(V.raws.afterName!==void 0?C+=V.raws.afterName:O&&(C+=" "),V.nodes)this.block(V,C+O);else{let h=(V.raws.between||"")+(j?";":"");this.builder(C+O+h,V)}}body(V){let j=V.nodes.length-1;for(;j>0&&V.nodes[j].type==="comment";)j-=1;let C=this.raw(V,"semicolon");for(let O=0;O<V.nodes.length;O++){let h=V.nodes[O],v=this.raw(h,"before");v&&this.builder(v),this.stringify(h,j!==O||C)}}block(V,j){let C,O=this.raw(V,"between","beforeOpen");this.builder(j+O+"{",V,"start"),V.nodes&&V.nodes.length?(this.body(V),C=this.raw(V,"after")):C=this.raw(V,"after","emptyBody"),C&&this.builder(C),this.builder("}",V,"end")}raw(V,j,C){let O;if(C||(C=j),j&&(O=V.raws[j],O!==void 0))return O;let h=V.parent;if(C==="before"&&(!h||h.type==="root"&&h.first===V||h&&h.type==="document"))return"";if(!h)return K[C];let v=V.root();if(v.rawCache||(v.rawCache={}),v.rawCache[C]!==void 0)return v.rawCache[C];if(C==="before"||C==="after")return this.beforeAfter(V,C);{let g="raw"+((m=C)[0].toUpperCase()+m.slice(1));this[g]?O=this[g](v,V):v.walk(y=>{if(O=y.raws[j],O!==void 0)return!1})}var m;return O===void 0&&(O=K[C]),v.rawCache[C]=O,O}rawSemicolon(V){let j;return V.walk(C=>{if(C.nodes&&C.nodes.length&&C.last.type==="decl"&&(j=C.raws.semicolon,j!==void 0))return!1}),j}rawEmptyBody(V){let j;return V.walk(C=>{if(C.nodes&&C.nodes.length===0&&(j=C.raws.after,j!==void 0))return!1}),j}rawIndent(V){if(V.raws.indent)return V.raws.indent;let j;return V.walk(C=>{let O=C.parent;if(O&&O!==V&&O.parent&&O.parent===V&&C.raws.before!==void 0){let h=C.raws.before.split(`
`);return j=h[h.length-1],j=j.replace(/\S/g,""),!1}}),j}rawBeforeComment(V,j){let C;return V.walkComments(O=>{if(O.raws.before!==void 0)return C=O.raws.before,C.includes(`
`)&&(C=C.replace(/[^\n]+$/,"")),!1}),C===void 0?C=this.raw(j,null,"beforeDecl"):C&&(C=C.replace(/\S/g,"")),C}rawBeforeDecl(V,j){let C;return V.walkDecls(O=>{if(O.raws.before!==void 0)return C=O.raws.before,C.includes(`
`)&&(C=C.replace(/[^\n]+$/,"")),!1}),C===void 0?C=this.raw(j,null,"beforeRule"):C&&(C=C.replace(/\S/g,"")),C}rawBeforeRule(V){let j;return V.walk(C=>{if(C.nodes&&(C.parent!==V||V.first!==C)&&C.raws.before!==void 0)return j=C.raws.before,j.includes(`
`)&&(j=j.replace(/[^\n]+$/,"")),!1}),j&&(j=j.replace(/\S/g,"")),j}rawBeforeClose(V){let j;return V.walk(C=>{if(C.nodes&&C.nodes.length>0&&C.raws.after!==void 0)return j=C.raws.after,j.includes(`
`)&&(j=j.replace(/[^\n]+$/,"")),!1}),j&&(j=j.replace(/\S/g,"")),j}rawBeforeOpen(V){let j;return V.walk(C=>{if(C.type!=="decl"&&(j=C.raws.between,j!==void 0))return!1}),j}rawColon(V){let j;return V.walkDecls(C=>{if(C.raws.between!==void 0)return j=C.raws.between.replace(/[^\s:]/g,""),!1}),j}beforeAfter(V,j){let C;C=V.type==="decl"?this.raw(V,null,"beforeDecl"):V.type==="comment"?this.raw(V,null,"beforeComment"):j==="before"?this.raw(V,null,"beforeRule"):this.raw(V,null,"beforeClose");let O=V.parent,h=0;for(;O&&O.type!=="root";)h+=1,O=O.parent;if(C.includes(`
`)){let v=this.raw(V,null,"indent");if(v.length)for(let m=0;m<h;m++)C+=v}return C}rawValue(V,j){let C=V[j],O=V.raws[j];return O&&O.value===C?O.raw:C}}E.exports=Z,Z.default=Z},88:(E,K,Z)=>{let F=Z(62);function V(j,C){new F(C).stringify(j)}E.exports=V,V.default=V},513:E=>{E.exports.isClean=Symbol("isClean"),E.exports.my=Symbol("my")},852:E=>{const K="'".charCodeAt(0),Z='"'.charCodeAt(0),F="\\".charCodeAt(0),V="/".charCodeAt(0),j=`
`.charCodeAt(0),C=" ".charCodeAt(0),O="\f".charCodeAt(0),h="	".charCodeAt(0),v="\r".charCodeAt(0),m="[".charCodeAt(0),g="]".charCodeAt(0),y="(".charCodeAt(0),S=")".charCodeAt(0),w="{".charCodeAt(0),T="}".charCodeAt(0),k=";".charCodeAt(0),M="*".charCodeAt(0),D=":".charCodeAt(0),R="@".charCodeAt(0),N=/[\t\n\f\r "#'()/;[\\\]{}]/g,W=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,$=/.[\n"'(/\\]/,J=/[\da-f]/i;E.exports=function(U,L={}){let P,z,tt,q,rt,H,Y,dt,ct,jt,At=U.css.valueOf(),ee=L.ignoreErrors,mt=At.length,gt=0,qt=[],Yt=[];function Ht(ne){throw U.error("Unclosed "+ne,gt)}return{back:function(ne){Yt.push(ne)},nextToken:function(ne){if(Yt.length)return Yt.pop();if(gt>=mt)return;let re=!!ne&&ne.ignoreUnclosed;switch(P=At.charCodeAt(gt),P){case j:case C:case h:case v:case O:z=gt;do z+=1,P=At.charCodeAt(z);while(P===C||P===j||P===h||P===v||P===O);jt=["space",At.slice(gt,z)],gt=z-1;break;case m:case g:case w:case T:case D:case k:case S:{let ce=String.fromCharCode(P);jt=[ce,ce,gt];break}case y:if(dt=qt.length?qt.pop()[1]:"",ct=At.charCodeAt(gt+1),dt==="url"&&ct!==K&&ct!==Z&&ct!==C&&ct!==j&&ct!==h&&ct!==O&&ct!==v){z=gt;do{if(H=!1,z=At.indexOf(")",z+1),z===-1){if(ee||re){z=gt;break}Ht("bracket")}for(Y=z;At.charCodeAt(Y-1)===F;)Y-=1,H=!H}while(H);jt=["brackets",At.slice(gt,z+1),gt,z],gt=z}else z=At.indexOf(")",gt+1),q=At.slice(gt,z+1),z===-1||$.test(q)?jt=["(","(",gt]:(jt=["brackets",q,gt,z],gt=z);break;case K:case Z:tt=P===K?"'":'"',z=gt;do{if(H=!1,z=At.indexOf(tt,z+1),z===-1){if(ee||re){z=gt+1;break}Ht("string")}for(Y=z;At.charCodeAt(Y-1)===F;)Y-=1,H=!H}while(H);jt=["string",At.slice(gt,z+1),gt,z],gt=z;break;case R:N.lastIndex=gt+1,N.test(At),z=N.lastIndex===0?At.length-1:N.lastIndex-2,jt=["at-word",At.slice(gt,z+1),gt,z],gt=z;break;case F:for(z=gt,rt=!0;At.charCodeAt(z+1)===F;)z+=1,rt=!rt;if(P=At.charCodeAt(z+1),rt&&P!==V&&P!==C&&P!==j&&P!==h&&P!==v&&P!==O&&(z+=1,J.test(At.charAt(z)))){for(;J.test(At.charAt(z+1));)z+=1;At.charCodeAt(z+1)===C&&(z+=1)}jt=["word",At.slice(gt,z+1),gt,z],gt=z;break;default:P===V&&At.charCodeAt(gt+1)===M?(z=At.indexOf("*/",gt+2)+1,z===0&&(ee||re?z=At.length:Ht("comment")),jt=["comment",At.slice(gt,z+1),gt,z],gt=z):(W.lastIndex=gt+1,W.test(At),z=W.lastIndex===0?At.length-1:W.lastIndex-2,jt=["word",At.slice(gt,z+1),gt,z],qt.push(jt),gt=z)}return gt++,jt},endOfFile:function(){return Yt.length===0&&gt>=mt},position:function(){return gt}}}},448:E=>{let K={};E.exports=function(Z){K[Z]||(K[Z]=!0,typeof console<"u"&&console.warn&&console.warn(Z))}},728:E=>{class K{constructor(F,V={}){if(this.type="warning",this.text=F,V.node&&V.node.source){let j=V.node.rangeBy(V);this.line=j.start.line,this.column=j.start.column,this.endLine=j.end.line,this.endColumn=j.end.column}for(let j in V)this[j]=V[j]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}E.exports=K,K.default=K},868:()=>{},777:()=>{},830:()=>{},209:()=>{},414:()=>{},961:E=>{let K="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";E.exports={nanoid:(Z=21)=>{let F="",V=Z;for(;V--;)F+=K[64*Math.random()|0];return F},customAlphabet:(Z,F=21)=>(V=F)=>{let j="",C=V;for(;C--;)j+=Z[Math.random()*Z.length|0];return j}}}},ge={};function Lt(E){var K=ge[E];if(K!==void 0)return K.exports;var Z=ge[E]={exports:{}};return xe[E](Z,Z.exports,Lt),Z.exports}Lt.d=(E,K)=>{for(var Z in K)Lt.o(K,Z)&&!Lt.o(E,Z)&&Object.defineProperty(E,Z,{enumerable:!0,get:K[Z]})},Lt.o=(E,K)=>Object.prototype.hasOwnProperty.call(E,K),Lt.r=E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})};var te={};return(()=>{Lt.r(te),Lt.d(te,{default:()=>C});var E=Lt(20);const K=E;E.stringify,E.fromJSON,E.plugin,E.parse,E.list,E.document,E.comment,E.atRule,E.rule,E.decl,E.root,E.CssSyntaxError,E.Declaration,E.Container,E.Processor,E.Document,E.Comment,E.Warning,E.AtRule,E.Result,E.Input,E.Rule,E.Root,E.Node;var Z=function(){return Z=Object.assign||function(O){for(var h,v=1,m=arguments.length;v<m;v++)for(var g in h=arguments[v])Object.prototype.hasOwnProperty.call(h,g)&&(O[g]=h[g]);return O},Z.apply(this,arguments)},F=function(O,h){return O&&O.log(h,{ns:"parser-poscss"})},V=function(O){var h=O.nodes||[],v={};return h.forEach(function(m){var g=m.prop,y=m.value,S=m.important;v[g]=y+(S?" !important":"")}),{selectors:O.selector||"",style:v}};const j=function(O,h){var v=[];F(h,["Input CSS",O]);var m=K().process(O).sync().root;return F(h,["PostCSS AST",m]),m.nodes.forEach(function(g){switch(g.type){case"rule":v.push(V(g));break;case"atrule":(function(y,S){var w=y.name,T=y.params;["media","keyframes"].indexOf(w)>=0?y.nodes.forEach(function(k){S.push(Z(Z({},V(k)),{atRule:w,params:T}))}):S.push(Z(Z({},V(y)),{atRule:w}))})(g,v)}}),F(h,["Output",v]),v},C=function(O){O.setCustomParserCss(j)}})(),te})())})(yh);var My=yh.exports;const Ly=ho(My);var bh={exports:{}};/*! grapesjs-tooltip - 0.1.8 */(function(We,Kn){(function(xe,ge){We.exports=ge()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ur,()=>(()=>{var xe={d:(E,K)=>{for(var Z in K)xe.o(K,Z)&&!xe.o(E,Z)&&Object.defineProperty(E,Z,{enumerable:!0,get:K[Z]})},o:(E,K)=>Object.prototype.hasOwnProperty.call(E,K),r:E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})}},ge={};xe.r(ge),xe.d(ge,{default:()=>te});var Lt=function(){return Lt=Object.assign||function(E){for(var K,Z=1,F=arguments.length;Z<F;Z++)for(var V in K=arguments[Z])Object.prototype.hasOwnProperty.call(K,V)&&(E[V]=K[V]);return E},Lt.apply(this,arguments)};const te=function(E,K){var Z;K===void 0&&(K={});var F=Lt({id:"tooltip",labelTooltip:"Tooltip",blockTooltip:{},propsTooltip:{},extendTraits:function(W){return W},attrTooltip:"data-tooltip",classTooltip:"tooltip-component",style:"",styleAdditional:"",privateClasses:!0,stylableTooltip:["background-color","padding","padding-top","padding-right","padding-bottom","padding-left","font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","border-radius","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","border","border-width","border-style","border-color"],showTooltipOnStyle:!0},K),V=F.propsTooltip,j=F.classTooltip,C=F.style,O=F.styleAdditional,h=F.privateClasses,v=F.stylableTooltip,m=F.showTooltipOnStyle,g=F.blockTooltip,y=F.extendTraits,S=F.id,w=F.labelTooltip,T=F.attrTooltip;g&&E.BlockManager.add(S,Lt({media:`<svg viewBox="0 0 24 24">
          <path d="M4 2h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2h-4l-4 4-4-4H4c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2m0 2v12h4.83L12 19.17 15.17 16H20V4H4z"></path>
        </svg>`,label:w,category:"Extra",select:!0,content:{type:S}},g));var k="".concat(j,"__body"),M="".concat(j,"--empty"),D="".concat(T,"-visible"),R="".concat(T,"-pos"),N="".concat(T,"-length");h&&E.SelectorManager.getAll().add([{private:1,name:j},{private:1,name:k},{private:1,name:M}]),E.Components.addType(S,{isComponent:function(W){var $;return($=W.hasAttribute)===null||$===void 0?void 0:$.call(W,T)},model:{defaults:Lt({name:w,classes:[j],attributes:(Z={},Z[T]=w,Z),styles:(C||`
          .`.concat(j,` {
            position: relative;
            display: inline-block;
            vertical-align: top;
          }

          .`).concat(M,` {
            width: 50px;
            height: 50px;
          }

          .`).concat(k,`,
          [`).concat(T,`]::after {
            font-family: Helvetica, sans-serif;
            background: rgba(55, 61, 73, 0.95);
            border-radius: 3px;
            bottom: 100%;
            color: #fff;
            content: attr(`).concat(T,`);
            display: block;
            font-size: 12px;
            left: 50%;
            line-height: normal;
            max-width: 32rem;
            opacity: 0;
            overflow: hidden;
            padding: 8px 16px;
            pointer-events: none;
            position: absolute;
            text-overflow: ellipsis;
            transform: translate(-50%, 0);
            transition: opacity 0.25s, transform 0.25s;
            white-space: nowrap;
            box-sizing: border-box;
            z-index: 10;
          }

          [`).concat(D,`=true]::after,
          [`).concat(T,`]:focus::after,
          [`).concat(T,`]:hover::after {
            opacity: 1;
            transform: translate(-50%, -0.5rem);
          }

          [`).concat(R,`=right]::after {
            bottom: 50%;
            left: 100%;
            transform: translate(0, 50%);
          }

          [`).concat(R,`=right]:focus::after,
          [`).concat(R,`=right]:hover::after,
          [`).concat(D,"=true][").concat(R,`=right]::after {
            transform: translate(0.5rem, 50%);
          }

          [`).concat(R,`=bottom]::after {
            bottom: auto;
            top: 100%;
            transform: translate(-50%, 0);
          }

          [`).concat(R,`=bottom]:focus::after,
          [`).concat(R,`=bottom]:hover::after,
          [`).concat(D,"=true][").concat(R,`=bottom]::after {
            transform: translate(-50%, 0.5rem);
          }

          [`).concat(R,`=left]::after {
            bottom: 50%;
            left: auto;
            right: 100%;
            transform: translate(0, 50%);
          }

          [`).concat(R,`=left]:focus::after,
          [`).concat(R,`=left]:hover::after,
          [`).concat(D,"=true][").concat(R,`=left]::after {
            transform: translate(-0.5rem, 50%);
          }

          [`).concat(N,`=small]::after {
            white-space: normal;
            width: 80px;
          }

          [`).concat(N,`=medium]::after {
            white-space: normal;
            width: 150px;
          }

          [`).concat(N,`=large]::after {
            white-space: normal;
            width: 300px;
          }

          [`).concat(N,`=fit]::after {
            white-space: normal;
            width: 100%;
          }

          // IE 11 bugfix
          button[`).concat(T,`] {
            overflow: visible;
          }
        `))+O,traits:y([{name:T,label:"Text"},{name:R,label:"Position",type:"select",options:[{value:"top",name:"Top"},{value:"right",name:"Right"},{value:"bottom",name:"Bottom"},{value:"left",name:"Left"}]},{name:N,label:"Length",type:"select",options:[{value:"",name:"One line"},{value:"small",name:"Small"},{value:"medium",name:"Medium"},{value:"large",name:"Large"},{value:"fit",name:"Fit"}]},{name:D,label:"Visible",type:"checkbox",valueTrue:"true"},{name:"style-tooltip",labelButton:"Style tooltip",type:"button",full:!0,command:function(W){var $,J=W.Panels.getButton("views","open-sm");J==null||J.set("active",!0);var U=W.Css.getRules(".".concat(k))[0];if(U.set("stylable",v),W.StyleManager.select(U),m){var L=W.getSelected();L!=null&&L.is(S)&&(L.addAttributes((($={})[D]="true",$)),W.once("style:target",function(){var P;L.addAttributes(((P={})[D]="false",P))}))}}}])},V),init:function(){this.listenTo(this.components(),"add remove",this.checkEmpty),this.checkEmpty()},checkEmpty:function(){this[this.components().length?"removeClass":"addClass"]("".concat(M))}}})};return ge})())})(bh);var Dy=bh.exports;const Iy=ho(Dy);var wh={exports:{}};/*! grapesjs-tui-image-editor - 1.0.2 */(function(We,Kn){(function(xe,ge){We.exports=ge()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ur,()=>(()=>{var xe={d:(K,Z)=>{for(var F in Z)xe.o(Z,F)&&!xe.o(K,F)&&Object.defineProperty(K,F,{enumerable:!0,get:Z[F]})},o:(K,Z)=>Object.prototype.hasOwnProperty.call(K,Z),r:K=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})}},ge={};xe.r(ge),xe.d(ge,{default:()=>E});var Lt=function(){return Lt=Object.assign||function(K){for(var Z,F=1,V=arguments.length;F<V;F++)for(var j in Z=arguments[F])Object.prototype.hasOwnProperty.call(Z,j)&&(K[j]=Z[j]);return K},Lt.apply(this,arguments)},te=function(K,Z,F){if(F||arguments.length===2)for(var V,j=0,C=Z.length;j<C;j++)!V&&j in Z||(V||(V=Array.prototype.slice.call(Z,0,j)),V[j]=Z[j]);return K.concat(V||Array.prototype.slice.call(Z))};const E=function(K,Z){Z===void 0&&(Z={});var F=Lt({config:{},constructor:"",labelImageEditor:"Image Editor",labelApply:"Apply",height:"650px",width:"100%",commandId:"tui-image-editor",toolbarIcon:`<svg viewBox="0 0 24 24">
                    <path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z">
                    </path>
                  </svg>`,hideHeader:!0,addToAssets:!0,upload:!1,onApplyButton:function(){},onApply:null,script:["https://uicdn.toast.com/tui.code-snippet/v1.5.2/tui-code-snippet.min.js","https://uicdn.toast.com/tui-color-picker/v2.2.7/tui-color-picker.min.js","https://uicdn.toast.com/tui-image-editor/v3.15.2/tui-image-editor.min.js"],style:["https://uicdn.toast.com/tui-color-picker/v2.2.7/tui-color-picker.min.css","https://uicdn.toast.com/tui-image-editor/v3.15.2/tui-image-editor.min.css"]},Z),V=F.script,j=F.style,C=F.height,O=F.width,h=F.hideHeader,v=F.onApply,m=F.upload,g=F.addToAssets,y=F.commandId,S=typeof window<"u",w=function(){var $;return F.constructor||S&&(($=window.tui)===null||$===void 0?void 0:$.ImageEditor)},T=w();if(!T&&(V!=null&&V.length)&&S){var k=document.head,M=Array.isArray(V)?te([],V,!0):[V],D=Array.isArray(j)?te([],j,!0):[j],R=function($){if($.length){var J=document.createElement("link");J.href=$.shift(),J.rel="stylesheet",k.appendChild(J),R($)}},N=function($){if($.length){var J=document.createElement("script");J.src=$.shift(),J.onerror=J.onload=N.bind(null,$),k.appendChild(J)}else T=w()};R(D),N(M)}F.toolbarIcon&&K.Components.addType("image",{extendFn:["initToolbar"],model:{initToolbar:function(){var $=this.get("toolbar");$!=null&&$.some(function(J){return J.command===y})||($==null||$.unshift({command:y,label:F.toolbarIcon}),this.set("toolbar",$))}}});var W={level:"error",ns:y};K.Commands.add(y,{imageEditor:null,run:function($,J,U){var L=this;if(U===void 0&&(U={}),!T)return $.log("TOAST UI Image editor not found",W),$.stopCommand(y);var P=U.target||$.getSelected();if(!P)return $.log("Target not available",W),$.stopCommand(y);var z=this.createContent(),tt=F.labelImageEditor,q=z.children[1];$.Modal.open({title:tt,content:z}).onceClose(function(){return $.stopCommand(y)});var rt=this.getEditorConfig(P.get("src"));this.imageEditor=new T(z.children[0],rt),$.getModel().setEditing(!0),q.onclick=function(){return L.applyChanges(P)},F.onApplyButton(q)},stop:function($){var J;(J=this.imageEditor)===null||J===void 0||J.destroy(),$.getModel().setEditing(!1)},getEditorConfig:function($){var J=Lt({},F.config);return J.includeUI||(J.includeUI={}),J.includeUI=Lt(Lt({theme:{}},J.includeUI),{loadImage:{path:$,name:"1"},uiSize:{height:C,width:O}}),h&&(J.includeUI.theme["header.display"]="none"),J},createContent:function(){var $=document.createElement("div");return $.style.position="relative",$.innerHTML=`
        <div></div>
        <button class="tui-image-editor__apply-btn" style="
          position: absolute;
          top: 0; right: 0;
          margin: 10px;
          background-color: #fff;
          font-size: 1rem;
          border-radius: 3px;
          border: none;
          padding: 10px 20px;
          cursor: pointer
        ">
          `.concat(F.labelApply,`
        </botton>
      `),$},applyChanges:function($){var J=this,U=this.imageEditor;v?v(U,$):U.getDrawingMode()==="CROPPER"?U.crop(U.getCropzoneRect()).then(function(){J.uploadImage(U,$)}):this.uploadImage(U,$)},uploadImage:function($,J){var U=this,L=K.Assets,P=$.toDataURL();if(m){var z=this.dataUrlToBlob(P);L.FileUploader().uploadFile({dataTransfer:{files:[z]}},function(tt){var q=tt&&tt.data&&tt.data[0],rt=q&&(typeof q=="string"?q:q.src);rt&&U.applyToTarget(rt,J)})}else g&&L.add({src:P,name:(J.get("src")||"").split("/").pop()}),this.applyToTarget(P,J)},applyToTarget:function($,J){J.set("src",$),K.Modal.close()},dataUrlToBlob:function($){for(var J=$.split(","),U=window.atob(J[1]),L=J[0].split(":")[1].split(";")[0],P=new ArrayBuffer(U.length),z=new Uint8Array(P),tt=0;tt<U.length;tt++)z[tt]=U.charCodeAt(tt);return new Blob([P],{type:L})}})};return ge})())})(wh);var Ny=wh.exports;const lh=ho(Ny);var _h={exports:{}};/*! grapesjs-typed - 2.0.1 */(function(We,Kn){(function(xe,ge){We.exports=ge()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ur,()=>(()=>{var xe={d:(j,C)=>{for(var O in C)xe.o(C,O)&&!xe.o(j,O)&&Object.defineProperty(j,O,{enumerable:!0,get:C[O]})},o:(j,C)=>Object.prototype.hasOwnProperty.call(j,C),r:j=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(j,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(j,"__esModule",{value:!0})}},ge={};xe.r(ge),xe.d(ge,{default:()=>V});var Lt="typed",te="typed-strings",E=function(){return E=Object.assign||function(j){for(var C,O=1,h=arguments.length;O<h;O++)for(var v in C=arguments[O])Object.prototype.hasOwnProperty.call(C,v)&&(j[v]=C[v]);return j},E.apply(this,arguments)},K=function(j,C,O){if(O||arguments.length===2)for(var h,v=0,m=C.length;v<m;v++)!h&&v in C||(h||(h=Array.prototype.slice.call(C,0,v)),h[v]=C[v]);return j.concat(h||Array.prototype.slice.call(C))},Z=function(){return Z=Object.assign||function(j){for(var C,O=1,h=arguments.length;O<h;O++)for(var v in C=arguments[O])Object.prototype.hasOwnProperty.call(C,v)&&(j[v]=C[v]);return j},Z.apply(this,arguments)},F=function(){return F=Object.assign||function(j){for(var C,O=1,h=arguments.length;O<h;O++)for(var v in C=arguments[O])Object.prototype.hasOwnProperty.call(C,v)&&(j[v]=C[v]);return j},F.apply(this,arguments)};const V=function(j,C){C===void 0&&(C={});var O=F({script:"https://cdn.jsdelivr.net/npm/typed.js@2.0.11",block:{},props:function(h){return h}},C);(function(h,v){var m=h.DomComponents,g=Object.keys,y={strings:[],"type-speed":0,"start-delay":0,"back-speed":0,"smart-backspace":!0,"back-delay":700,"fade-out":!1,"fade-out-class":"typed-fade-out","fade-out-delay":500,"show-cursor":!0,"cursor-char":"|","auto-insert-css":!0,"bind-input-focus-events":!1,"content-type":"html",loop:!1,"loop-count":1/0,shuffle:!1,attr:""},S=g(y),w=S.filter(function(T){return["strings"].indexOf(T)<0}).map(function(T){return{changeProp:!0,type:(k=y[T],typeof k=="number"?"number":typeof k=="boolean"?"checkbox":"text"),min:0,name:T};var k});w.unshift({changeProp:!0,name:"strings",type:te}),m.addType(Lt,{model:{defaults:v.props(E(E({},y),{typedsrc:v.script,droppable:0,traits:w,"script-props":K(K([],S,!0),["typedsrc"],!1),script:function(T){var k,M=this,D=(k=T.strings,Array.isArray(k)?k:k.indexOf(`
`)>=0?k.split(`
`):[]),R=function(J){return parseInt(J,10)||0},N=function(J){return!!J},W=function(){var J=M;J.innerHTML="<span></span>";var U=parseInt("".concat(T["loop-count"]),10);"".concat(T["type-speed"]);var L={typeSpeed:R(T["type-speed"]),startDelay:R(T["start-delay"]),backDelay:R(T["back-delay"]),backSpeed:R(T["back-speed"]),smartBackspace:N(T["smart-backspace"]),fadeOut:N(T["fade-out"]),fadeOutClass:T["fade-out-class"],fadeOutDelay:R(T["fade-out-delay"]),shuffle:N(T.shuffle),loop:N(T.loop),loopCount:isNaN(U)?1/0:U,showCursor:N(T["show-cursor"]),cursorChar:T["cursor-char"],autoInsertCss:N(T["auto-insert-css"]),bindInputFocusEvents:N(T["bind-input-focus-events"]),attr:T.attr,contentType:T["content-type"]};D&&D.length&&(L.strings=D),new window.Typed(J.children[0],L)};if(window.Typed)W();else{var $=document.createElement("script");$.src=T.typedsrc,$.onload=W,document.head.appendChild($)}}}))}})})(j,O),function(h,v){var m=h.BlockManager,g=v.block;g&&m.add(Lt,Z({label:"Typed",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300"><path d="M212.3 44l2.3 49.6h-6A60 60 0 00204 75c-3.2-6-7.5-10.5-12.9-13.3a44.9 44.9 0 00-21.1-4.3h-29.8V219c0 13 1.4 21 4.2 24.3 4 4.4 10 6.6 18.2 6.6h7.4v5.7H80.2V250h7.5c9 0 15.3-2.7 19-8.2 2.4-3.3 3.5-10.9 3.5-22.7V57.3H84.8a71 71 0 00-21.1 2.2 29 29 0 00-13.9 11.3 46.1 46.1 0 00-6.9 22.8H37L39.5 44h172.8zM245 22h18v256h-18z"/></svg>',content:{type:Lt},select:!0},g))}(j,O),function(h){h.TraitManager.addType(te,{createInput:function(v){var m=v.component;return"<textarea>".concat(m.get("strings").join(`
`),"</textarea>")},onUpdate:function(v){var m=v.component;v.elInput.value=m.get("strings").join(`
`)},onEvent:function(v){var m=v.component,g=(v.elInput.value||"").split(`
`);m.set("strings",g)}})}(j)};return ge})())})(_h);var Ry=_h.exports;const Fy=ho(Ry);var xh={exports:{}};/*! grapesjs-style-bg - 2.0.2 */(function(We,Kn){(function(xe,ge){We.exports=ge()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ur,()=>(()=>{var xe={180:function(E){var K;K=()=>(()=>{var Z={9:function(C){C.exports=function(O){function h(m){if(v[m])return v[m].exports;var g=v[m]={i:m,l:!1,exports:{}};return O[m].call(g.exports,g,g.exports,h),g.l=!0,g.exports}var v={};return h.m=O,h.c=v,h.d=function(m,g,y){h.o(m,g)||Object.defineProperty(m,g,{configurable:!1,enumerable:!0,get:y})},h.n=function(m){var g=m&&m.__esModule?function(){return m.default}:function(){return m};return h.d(g,"a",g),g},h.o=function(m,g){return Object.prototype.hasOwnProperty.call(m,g)},h.p="",h(h.s=1)}([function(O,h,v){Object.defineProperty(h,"__esModule",{value:!0}),h.on=function(m,g,y){g=g.split(/\s+/);for(var S=0;S<g.length;++S)m.addEventListener(g[S],y)},h.off=function(m,g,y){g=g.split(/\s+/);for(var S=0;S<g.length;++S)m.removeEventListener(g[S],y)},h.isFunction=function(m){return typeof m=="function"},h.isDef=function(m){return m!==void 0},h.getPointerEvent=function(m){return m.touches&&m.touches[0]||m}},function(O,h,v){var m=function(g){return g&&g.__esModule?g:{default:g}}(v(2));O.exports=function(g){return new m.default(g)}},function(O,h,v){function m(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(h,"__esModule",{value:!0});var g=function(){function M(D,R){for(var N=0;N<R.length;N++){var W=R[N];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(D,W.key,W)}}return function(D,R,N){return R&&M(D.prototype,R),N&&M(D,N),D}}(),y=m(v(3)),S=m(v(4)),w=v(0),T=function(M,D){return M.position-D.position},k=function(M){function D(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(U,L){if(!(U instanceof L))throw new TypeError("Cannot call a class as a function")})(this,D);var N=function(U,L){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||typeof L!="object"&&typeof L!="function"?U:L}(this,(D.__proto__||Object.getPrototypeOf(D)).call(this));R=Object.assign({},R);var W={pfx:"grp",el:".grp",colorEl:"",min:0,max:100,direction:"90deg",type:"linear",height:"30px",width:"100%",emptyColor:"#000",onValuePos:function(U){return parseInt(U)}};for(var $ in W)$ in R||(R[$]=W[$]);var J=R.el;if(!((J=typeof J=="string"?document.querySelector(J):J)instanceof HTMLElement))throw"Element not found, given "+J;return N.el=J,N.handlers=[],N.options=R,N.on("handler:color:change",function(U,L){return N.change(L)}),N.on("handler:position:change",function(U,L){return N.change(L)}),N.on("handler:remove",function(U){return N.change(1)}),N.on("handler:add",function(U){return N.change(1)}),N.render(),N}return function(R,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);R.prototype=Object.create(N&&N.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(R,N):R.__proto__=N)}(D,M),g(D,[{key:"destroy",value:function(){var R=this;this.clear(),this.e={},["el","handlers","options","colorPicker"].forEach(function(N){return R[N]=0}),["previewEl","wrapperEl","sandEl"].forEach(function(N){var W=R[N];W&&W.parentNode&&W.parentNode.removeChild(W),delete R[N]})}},{key:"setColorPicker",value:function(R){this.colorPicker=R}},{key:"getValue",value:function(R,N){var W=this.getColorValue(),$=R||this.getType(),J=["top","left","bottom","right","center"],U=N||this.getDirection();return["linear","repeating-linear"].indexOf($)>=0&&J.indexOf(U)>=0&&(U=U==="center"?"to right":"to "+U),["radial","repeating-radial"].indexOf($)>=0&&J.indexOf(U)>=0&&(U="circle at "+U),W?$+"-gradient("+U+", "+W+")":""}},{key:"getSafeValue",value:function(R,N){var W=this.previewEl,$=this.getValue(R,N);if(!this.sandEl&&(this.sandEl=document.createElement("div")),!W||!$)return"";for(var J=this.sandEl.style,U=[$].concat(function(z){if(Array.isArray(z)){for(var tt=0,q=Array(z.length);tt<z.length;tt++)q[tt]=z[tt];return q}return Array.from(z)}(this.getPrefixedValues(R,N))),L=void 0,P=0;P<U.length&&(L=U[P],J.backgroundImage=L,J.backgroundImage!=L);P++);return J.backgroundImage}},{key:"setValue",value:function(){var R=this,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=this.type,J=this.direction,U=N.indexOf("(")+1,L=N.lastIndexOf(")"),P=N.substring(U,L),z=P.split(/,(?![^(]*\)) /);if(this.clear(W),P){z.length>2&&(J=z.shift());var tt=void 0;["repeating-linear","repeating-radial","linear","radial"].forEach(function(q){N.indexOf(function(rt){return rt+"-gradient("}(q))>-1&&!tt&&(tt=1,$=q)}),this.setDirection(J,W),this.setType($,W),z.forEach(function(q){var rt=q.split(" "),H=parseFloat(rt.pop()),Y=rt.join("");R.addHandler(H,Y,0,W)}),this.updatePreview()}else this.updatePreview()}},{key:"getColorValue",value:function(){var R=this.handlers;return R.sort(T),(R=R.length==1?[R[0],R[0]]:R).map(function(N){return N.getValue()}).join(", ")}},{key:"getPrefixedValues",value:function(R,N){var W=this.getValue(R,N);return["-moz-","-webkit-","-o-","-ms-"].map(function($){return""+$+W})}},{key:"change",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.updatePreview(),!N.silent&&this.emit("change",R)}},{key:"setDirection",value:function(R){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.options.direction=R;var W=N.complete,$=W===void 0?1:W;this.change($,N)}},{key:"getDirection",value:function(){return this.options.direction}},{key:"setType",value:function(R){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.options.type=R;var W=N.complete,$=W===void 0?1:W;this.change($,N)}},{key:"getType",value:function(){return this.options.type}},{key:"addHandler",value:function(R,N){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},J=new S.default(this,R,N,W,$);return!$.silent&&this.emit("handler:add",J),J}},{key:"getHandler",value:function(R){return this.handlers[R]}},{key:"getHandlers",value:function(){return this.handlers}},{key:"clear",value:function(){for(var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=this.handlers,W=N.length-1;W>=0;W--)N[W].remove(R)}},{key:"getSelected",value:function(){for(var R=this.getHandlers(),N=0;N<R.length;N++){var W=R[N];if(W.isSelected())return W}return null}},{key:"updatePreview",value:function(){var R=this.previewEl;R&&(R.style.backgroundImage=this.getValue("linear","to right"))}},{key:"initEvents",value:function(){var R=this,N=this.previewEl;N&&(0,w.on)(N,"click",function(W){var $=R.options,J=$.min,U=$.max,L={w:N.clientWidth,h:N.clientHeight},P=W.offsetX-N.clientLeft,z=W.offsetY-N.clientTop,tt=P/L.w*100;if(!(tt>U||tt<J||z>L.h||z<0)){var q=document.createElement("canvas"),rt=q.getContext("2d");q.width=L.w,q.height=L.h;var H=rt.createLinearGradient(0,0,L.w,L.h);R.getHandlers().forEach(function(jt){return H.addColorStop(jt.position/100,jt.color)}),rt.fillStyle=H,rt.fillRect(0,0,q.width,q.height),q.style.background="black";var Y=q.getContext("2d").getImageData(P,z,1,1).data,dt="rgba("+Y[0]+", "+Y[1]+", "+Y[2]+", "+Y[3]+")",ct=dt=="rgba(0, 0, 0, 0)"?$.emptyColor:dt;R.addHandler(tt,ct)}})}},{key:"render",value:function(){var R=this.options,N=this.el,W=R.pfx,$=R.height,J=R.width;if(N){var U=W+"-wrapper",L=W+"-preview";N.innerHTML=`
      <div class="`+U+`">
        <div class="`+L+`"></div>
      </div>
    `;var P=N.querySelector("."+U),z=N.querySelector("."+L),tt=P.style;tt.position="relative",this.wrapperEl=P,this.previewEl=z,$&&(tt.height=$),J&&(tt.width=J),this.initEvents(),this.updatePreview()}}}]),D}(y.default);h.default=k},function(O,h,v){Object.defineProperty(h,"__esModule",{value:!0});var m=function(){function y(S,w){for(var T=0;T<w.length;T++){var k=w[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,w,T){return w&&y(S.prototype,w),T&&y(S,T),S}}(),g=function(){function y(){(function(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")})(this,y)}return m(y,[{key:"on",value:function(S,w,T){var k=this.e||(this.e={});return(k[S]||(k[S]=[])).push({fn:w,ctx:T}),this}},{key:"once",value:function(S,w,T){function k(){M.off(S,k),w.apply(T,arguments)}var M=this;return k._=w,this.on(S,k,T)}},{key:"emit",value:function(S){for(var w=[].slice.call(arguments,1),T=((this.e||(this.e={}))[S]||[]).slice(),k=0,M=T.length;k<M;k++)T[k].fn.apply(T[k].ctx,w);return this}},{key:"off",value:function(S,w){var T=this.e||(this.e={}),k=T[S],M=[];if(k&&w)for(var D=0,R=k.length;D<R;D++)k[D].fn!==w&&k[D].fn._!==w&&M.push(k[D]);return M.length?T[S]=M:delete T[S],this}}]),y}();h.default=g},function(O,h,v){Object.defineProperty(h,"__esModule",{value:!0});var m=function(){function S(w,T){for(var k=0;k<T.length;k++){var M=T[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(w,M.key,M)}}return function(w,T,k){return T&&S(w.prototype,T),k&&S(w,k),w}}(),g=v(0),y=function(){function S(w){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"black",M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,D=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};(function(R,N){if(!(R instanceof N))throw new TypeError("Cannot call a class as a function")})(this,S),w.getHandlers().push(this),this.gp=w,this.position=T,this.color=k,this.selected=0,this.render(),M&&this.select(D)}return m(S,[{key:"toJSON",value:function(){return{position:this.position,selected:this.selected,color:this.color}}},{key:"setColor",value:function(w){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.color=w,this.emit("handler:color:change",this,T)}},{key:"setPosition",value:function(w){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,k=this.getEl();this.position=w,k&&(k.style.left=w+"%"),this.emit("handler:position:change",this,T)}},{key:"getColor",value:function(){return this.color}},{key:"getPosition",value:function(){var w=this.position,T=this.gp.options.onValuePos;return(0,g.isFunction)(T)?T(w):w}},{key:"isSelected",value:function(){return!!this.selected}},{key:"getValue",value:function(){return this.getColor()+" "+this.getPosition()+"%"}},{key:"select",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.getEl(),k=this.gp.getHandlers();!w.keepSelect&&k.forEach(function(D){return D.deselect()}),this.selected=1;var M=this.getSelectedCls();T&&(T.className+=" "+M),this.emit("handler:select",this)}},{key:"deselect",value:function(){var w=this.getEl();this.selected=0;var T=this.getSelectedCls();w&&(w.className=w.className.replace(T,"").trim()),this.emit("handler:deselect",this)}},{key:"getSelectedCls",value:function(){return this.gp.options.pfx+"-handler-selected"}},{key:"remove",value:function(){var w=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=this.cpFn,M=this.getEl(),D=this.gp.getHandlers(),R=D.splice(D.indexOf(this),1)[0];return M&&M.parentNode.removeChild(M),!T.silent&&this.emit("handler:remove",R),(0,g.isFunction)(k)&&k(this),["el","gp"].forEach(function(N){return w[N]=0}),R}},{key:"getEl",value:function(){return this.el}},{key:"initEvents",value:function(){var w=this,T=this.getEl(),k=this.gp.previewEl,M=this.gp.options,D=M.min,R=M.max,N=T.querySelector("[data-toggle=handler-close]"),W=T.querySelector("[data-toggle=handler-color-c]"),$=T.querySelector("[data-toggle=handler-color-wrap]"),J=T.querySelector("[data-toggle=handler-color]"),U=T.querySelector("[data-toggle=handler-drag]"),L=function(ct){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,At=ct.target.value;w.setColor(At,jt),$&&($.style.backgroundColor=At)};if(W&&(0,g.on)(W,"click",function(ct){return ct.stopPropagation()}),N&&(0,g.on)(N,"click",function(ct){ct.stopPropagation(),w.remove()}),J&&((0,g.on)(J,"change",L),(0,g.on)(J,"input",function(ct){return L(ct,0)})),U){var P=0,z=0,tt=0,q={},rt={},H={},Y=function(ct){var jt=(0,g.getPointerEvent)(ct);tt=1,H.x=jt.clientX-rt.x,H.y=jt.clientY-rt.y,P=100*H.x,P/=q.w,P=(P=(P=z+P)<D?D:P)>R?R:P,w.setPosition(P,0),w.emit("handler:drag",w,P),(0,g.isDef)(ct.button)&&ct.which===0&&dt(ct)},dt=function ct(jt){(0,g.off)(document,"touchmove mousemove",Y),(0,g.off)(document,"touchend mouseup",ct),tt&&(tt=0,w.setPosition(P),w.emit("handler:drag:end",w,P))};(0,g.on)(U,"touchstart mousedown",function(ct){if(!(0,g.isDef)(ct.button)||ct.button===0){w.select();var jt=(0,g.getPointerEvent)(ct);z=w.position,q.w=k.clientWidth,q.h=k.clientHeight,rt.x=jt.clientX,rt.y=jt.clientY,(0,g.on)(document,"touchmove mousemove",Y),(0,g.on)(document,"touchend mouseup",dt),w.emit("handler:drag:start",w)}}),(0,g.on)(U,"click",function(ct){return ct.stopPropagation()})}}},{key:"emit",value:function(){var w;(w=this.gp).emit.apply(w,arguments)}},{key:"render",value:function(){var w=this.gp,T=w.options,k=w.previewEl,M=w.colorPicker,D=T.pfx,R=T.colorEl,N=this.getColor();if(k){var W=document.createElement("div"),$=W.style,J=D+"-handler";return W.className=J,W.innerHTML=`
      <div class="`+J+`-close-c">
        <div class="`+J+`-close" data-toggle="handler-close">&Cross;</div>
      </div>
      <div class="`+J+`-drag" data-toggle="handler-drag"></div>
      <div class="`+J+`-cp-c" data-toggle="handler-color-c">
        `+(R||`
          <div class="`+J+'-cp-wrap" data-toggle="handler-color-wrap" style="background-color: '+N+`">
            <input type="color" data-toggle="handler-color" value="`+N+`">
          </div>`)+`
      </div>
    `,$.position="absolute",$.top=0,$.left=this.position+"%",k.appendChild(W),this.el=W,this.initEvents(),this.cpFn=M&&M(this),W}}}]),S}();h.default=y}])}},F={};function V(C){var O=F[C];if(O!==void 0)return O.exports;var h=F[C]={exports:{}};return Z[C].call(h.exports,h,h.exports,V),h.exports}V.n=C=>{var O=C&&C.__esModule?()=>C.default:()=>C;return V.d(O,{a:O}),O},V.d=(C,O)=>{for(var h in O)V.o(O,h)&&!V.o(C,h)&&Object.defineProperty(C,h,{enumerable:!0,get:O[h]})},V.o=(C,O)=>Object.prototype.hasOwnProperty.call(C,O),V.r=C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})};var j={};return(()=>{V.r(j),V.d(j,{GRAD_DIRS:()=>S,GRAD_TYPES:()=>w,default:()=>N,getValidDir:()=>y,parseGradient:()=>m,toGradient:()=>g});var C=V(9),O=V.n(C),h=function(){return h=Object.assign||function(W){for(var $,J=1,U=arguments.length;J<U;J++)for(var L in $=arguments[J])Object.prototype.hasOwnProperty.call($,L)&&(W[L]=$[L]);return W},h.apply(this,arguments)},v=function(W,$,J){if(J||arguments.length===2)for(var U,L=0,P=$.length;L<P;L++)!U&&L in $||(U||(U=Array.prototype.slice.call($,0,L)),U[L]=$[L]);return W.concat(U||Array.prototype.slice.call($))},m=function(W){var $=W.indexOf("(")+1,J=W.lastIndexOf(")"),U=W.substring($,J),L=U.split(/,(?![^(]*\))/),P={direction:"left",type:"linear",content:U,colors:U,stops:[]};if(!U)return P;L.length>2&&(P.direction=L.shift(),P.colors=L.join(",").trim());var z=!1;return["repeating-linear","repeating-radial","linear","radial"].forEach(function(tt){W.indexOf(function(q){return"".concat(q,"-gradient(")}(tt))>-1&&!z&&(z=!0,P.type=tt)}),P.stops=L.map(function(tt){var q=tt.split(" "),rt=(q.length>1?q.pop():"").trim();return{color:q.join(" ").trim(),position:rt}}),P},g=function(W,$,J){var U=v(v([],S,!0),["center"],!1),L=$;return["linear","repeating-linear"].indexOf(W)>=0&&U.indexOf(L)>=0&&(L=L==="center"?"to right":"to ".concat(L)),["radial","repeating-radial"].indexOf(W)>=0&&U.indexOf(L)>=0&&(L="circle at ".concat(L)),J?"".concat(W,"-gradient(").concat(L,", ").concat(J,")"):""},y=function(W){return S.filter(function($){return W.indexOf($)>-1})[0]},S=["right","bottom","left","top"],w=["linear","radial","repeating-linear","repeating-radial"],T='[data-toggle="handler-color-wrap"]',k="background-image-gradient",M="".concat(k,"-dir"),D="".concat(k,"-type"),R=function(){return R=Object.assign||function(W){for(var $,J=1,U=arguments.length;J<U;J++)for(var L in $=arguments[J])Object.prototype.hasOwnProperty.call($,L)&&(W[L]=$[L]);return W},R.apply(this,arguments)};const N=function(W,$){$===void 0&&($={}),function(J,U){U===void 0&&(U={});var L=J.getModel(),P=J.Styles,z=U.colorPicker,tt=U.builtInType,q=U.styleType,rt=function(H){var Y=H.getEl().querySelector(T),dt=J.$(Y);dt.spectrum&&dt.spectrum("destroy")};q&&P.addType(q,{create:function(H){var Y=H.change,dt=document.createElement("div");dt.className="gp-container",dt.style.width="100%";var ct=new(O())(h({el:dt},U.grapickOpts));return ct.on("change",function(jt){return Y({value:ct.getValue(),partial:!jt})}),this.gp=ct,z==="default"&&(z=function(jt){var At=jt.getEl(),ee=At.querySelector(T),mt=At.querySelector("input");mt==null||mt.parentNode.removeChild(mt);var gt=ee.style;gt.backgroundColor=jt.getColor();var qt=function(Yt,Ht){Ht===void 0&&(Ht=1);var ne=function(re){return(re.getAlpha()==1?re.toHexString():re.toRgbString()).replace(/ /g,"")}(Yt);gt.backgroundColor=ne,jt.setColor(ne,Ht)};L.initBaseColorPicker(ee,{color:jt.getColor(),change:function(Yt){qt(Yt)},move:function(Yt){qt(Yt,0)}})},ct.on("handler:remove",rt)),z&&ct.setColorPicker(z),dt},emit:function(H,Y){var dt=H.updateStyle,ct=Y.partial;dt(Y.value,{partial:ct})},update:function(H){var Y=H.value,dt=this.gp;if(dt.getValue()!==Y){var ct=dt.getHandlers();ct.map(rt),dt.setValue(Y,{silent:!0}),U.selectEdgeStops&&[ct[0],ct[ct.length-1]].filter(Boolean).map(function(jt){return jt.select({keepSelect:!0})})}},destroy:function(){var H;(H=this.gp)===null||H===void 0||H.destroy()}}),tt&&P.addBuiltIn(tt,{type:"composite",fromStyle:function(H,Y){var dt,ct=Y.name,jt=m(H[ct]||""),At=jt.type||w[0],ee=y(jt.direction)||S[0];return(dt={})[k]=g(At,ee,jt.colors),dt[D]=At,dt[M]=ee,dt},toStyle:function(H,Y){var dt,ct=Y.name,jt=H[k]||"",At=H[D]||w[0],ee=H[M]||S[0],mt=m(jt),gt=g(At,ee,mt.colors);return(dt={})[ct]=gt,dt},properties:[{name:" ",full:!0,defaults:"none",type:q,property:k},{name:"Direction",type:"select",defaults:"right",property:M,options:S.map(function(H){return{value:H}})},{name:"Type",type:"select",defaults:"linear",property:D,options:w.map(function(H){return{value:H}})}]})}(W,R({grapickOpts:{},selectEdgeStops:!0,styleType:"gradient",builtInType:"background-image"},$))}})(),j})(),E.exports=K()}},ge={};function Lt(E){var K=ge[E];if(K!==void 0)return K.exports;var Z=ge[E]={exports:{}};return xe[E].call(Z.exports,Z,Z.exports,Lt),Z.exports}Lt.n=E=>{var K=E&&E.__esModule?()=>E.default:()=>E;return Lt.d(K,{a:K}),K},Lt.d=(E,K)=>{for(var Z in K)Lt.o(K,Z)&&!Lt.o(E,Z)&&Object.defineProperty(E,Z,{enumerable:!0,get:K[Z]})},Lt.o=(E,K)=>Object.prototype.hasOwnProperty.call(E,K),Lt.r=E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})};var te={};return(()=>{Lt.r(te),Lt.d(te,{BackgroundType:()=>E,default:()=>T});var E,K=Lt(180),Z=Lt.n(K),F=function(){return F=Object.assign||function(k){for(var M,D=1,R=arguments.length;D<R;D++)for(var N in M=arguments[D])Object.prototype.hasOwnProperty.call(M,N)&&(k[N]=M[N]);return k},F.apply(this,arguments)};(function(k){k.Image="image",k.Color="color",k.Grad="grad"})(E||(E={}));var V=function(k){return k.map(function(M){return{id:M}})},j=function(k){var M,D=((M={})[h]=E.Image,M);if(k.indexOf("url(")>-1)D[v]=k;else if(k.indexOf("gradient(")>-1){var R=(0,K.parseGradient)(k),N=R.stops;if(N.length===2&&R.type==="linear"&&N[0].color===N[1].color)D[h]=E.Color,D[m]=N[0].color;else{var W=(0,K.getValidDir)(R.direction)||K.GRAD_DIRS[0],$=R.type||K.GRAD_TYPES[0];D[h]=E.Grad,D[g]=(0,K.toGradient)($,W,R.colors),D[S]=$,D[y]=W}}return D},C='style="max-height: 16px; display: block; margin: 0 auto" viewBox="0 0 24 24"',O="background-image",h="__background-type",v=O,m="".concat(v,"-color"),g="".concat(v,"-gradient"),y="".concat(g,"-dir"),S="".concat(g,"-type"),w="none";const T=function(k,M){M===void 0&&(M={});var D=F({styleGradientOpts:{},propExtender:function(R){return R}},M);Z()(k,F({colorPicker:"default"},D.styleGradientOpts)),k.Styles.addBuiltIn("background",{type:"stack",layerSeparator:new RegExp("(?<!\\(.*[^)]),(?![^(]*\\))"),layerJoin:", ",detached:!0,layerLabel:function(R,N){var W,$=N.values,J=N.property.getProperty(h).getOption($[h]);return J!=null&&J.title?"".concat((W=J.title)&&W.charAt(0).toUpperCase()+W.substring(1)):""},fromStyle:function(R,N){var W=N.property,$=N.name,J=W.getLayerSeparator(),U=W.getProperties(),L=[];return R[O]?(L=W.__splitStyleName(R,O,J).map(j),U.forEach(function(P){var z=P.getId(),tt=P.getName();tt!==O&&W.__splitStyleName(R,tt,J).map(function(q){var rt;return(rt={})[z]=q||P.getDefaultValue(),rt}).forEach(function(q,rt){L[rt]=L[rt]?F(F({},L[rt]),q):q})})):R[$]&&(L=W.__splitStyleName(R,$,/(?![^)(]*\([^)(]*?\)\)),(?![^\(]*\))/).map(function(P){return P.substring(0,P.lastIndexOf(")")+1)}).map(j)),L},toStyle:function(R){var N=F({},R),W=N[h],$=N[v];if(W===E.Color){var J=N[m];$=J===w?w:"linear-gradient(".concat(J," 0%, ").concat(J," 100%)")}else if(W===E.Grad){var U=(0,K.parseGradient)(N[g]||"");$=(0,K.toGradient)(N[S]||K.GRAD_TYPES[0],N[y]||K.GRAD_DIRS[0],U.colors)}return delete N[v],delete N[m],delete N[g],delete N[y],delete N[S],F(F({},N),{"background-image":$||w})},properties:[{label:" ",property:h,type:"radio",default:E.Image,onChange:function(R){var N=R.property,W=R.to.value;W&&N.getParent().getProperties().forEach(function($){var J=$.getName(),U=!1;J!==h&&((W===E.Image&&[m,g,y,S].indexOf(J)<0||W===E.Color&&J===m||W===E.Grad&&[g,y,S].indexOf(J)>=0)&&(U=!0),$.up({visible:U}))})},options:[{id:E.Image,title:"Image",label:"<svg ".concat(C,'><path fill="currentColor" d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2z"/></svg>')},{id:E.Color,title:"Color",label:"<svg ".concat(C,'><path fill="currentColor" d="M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2z"/></svg>')},{id:E.Grad,title:"Gradient",label:"<svg ".concat(C,'><path fill="currentColor" d="M11 9h2v2h-2V9m-2 2h2v2H9v-2m4 0h2v2h-2v-2m2-2h2v2h-2V9M7 9h2v2H7V9m12-6H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2M9 18H7v-2h2v2m4 0h-2v-2h2v2m4 0h-2v-2h2v2m2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"/></svg>')}]},{label:"Image",property:v,default:"none",functionName:"url",type:"file",full:!0},{property:"background-repeat",default:"repeat",type:"select",options:[{id:"repeat",label:"Repeat"},{id:"repeat-x",label:"Repeat x"},{id:"repeat-y",label:"Repeat y"},{id:"no-repeat",label:"No repeat"},{id:"space",label:"Space"},{id:"round",label:"Round"}]},{property:"background-position",default:"left top",type:"select",options:V(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"])},{property:"background-attachment",default:"scroll",type:"select",options:V(["scroll","fixed","local"])},{type:"select",default:"auto",property:"background-size",options:V(["auto","cover","contain"])},{label:"Color",property:m,default:"none",type:"color",full:!0},{label:"Gradient",property:g,default:"linear-gradient(right, black 0%, white 100%)",type:"gradient",full:!0},{name:"Direction",property:y,type:"select",default:"right",options:V(K.GRAD_DIRS)},{name:"Type",property:S,default:"linear",type:"select",options:V(K.GRAD_TYPES)}].map(function(R){var N;return((N=D.propExtender)===null||N===void 0?void 0:N.call(D,R))||R})})}})(),te})())})(xh);var Vy=xh.exports;const Hy=ho(Vy),zy=my.init({container:"#gjs",height:"80vh",width:"auto",fromElement:!0,storageManager:!1,plugins:[ah,by,Cy,_y,Oy,Ty,Py,jy,Ly,Iy,lh,Fy,Hy],allowScripts:1,pluginsOpts:{[ah]:{textCleanCanvas:"Clean the canvas xDD"},[lh]:{config:{includeUI:{initMenu:"filter"}}}}});hy(zy);
